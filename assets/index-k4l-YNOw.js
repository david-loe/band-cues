var mm=Object.defineProperty;var vm=(t,e,n)=>e in t?mm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _c=(t,e,n)=>vm(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Du(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const st={},vi=[],cs=()=>{},gm=()=>!1,Ml=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bu=t=>t.startsWith("onUpdate:"),qt=Object.assign,Lu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bm=Object.prototype.hasOwnProperty,Qe=(t,e)=>bm.call(t,e),Pe=Array.isArray,gi=t=>Xa(t)==="[object Map]",Hi=t=>Xa(t)==="[object Set]",eh=t=>Xa(t)==="[object Date]",We=t=>typeof t=="function",Dt=t=>typeof t=="string",fs=t=>typeof t=="symbol",ct=t=>t!==null&&typeof t=="object",Id=t=>(ct(t)||We(t))&&We(t.then)&&We(t.catch),kd=Object.prototype.toString,Xa=t=>kd.call(t),ym=t=>Xa(t).slice(8,-1),Dd=t=>Xa(t)==="[object Object]",Vu=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,va=Du(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ol=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Tm=/-(\w)/g,er=Ol(t=>t.replace(Tm,(e,n)=>n?n.toUpperCase():"")),Em=/\B([A-Z])/g,Gr=Ol(t=>t.replace(Em,"-$1").toLowerCase()),Bd=Ol(t=>t.charAt(0).toUpperCase()+t.slice(1)),pc=Ol(t=>t?`on${Bd(t)}`:""),Nr=(t,e)=>!Object.is(t,e),qo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ld=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Zo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let th;const Rl=()=>th||(th=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pu(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Dt(s)?xm(s):Pu(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Dt(t)||ct(t))return t}const wm=/;(?![^(]*\))/g,Am=/:([^]+)/,Sm=/\/\*[^]*?\*\//g;function xm(t){const e={};return t.replace(Sm,"").split(wm).forEach(n=>{if(n){const s=n.split(Am);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Fu(t){let e="";if(Dt(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const s=Fu(t[n]);s&&(e+=s+" ")}else if(ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Cm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mm=Du(Cm);function Vd(t){return!!t||t===""}function Om(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ka(t[s],e[s]);return n}function Ka(t,e){if(t===e)return!0;let n=eh(t),s=eh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=fs(t),s=fs(e),n||s)return t===e;if(n=Pe(t),s=Pe(e),n||s)return n&&s?Om(t,e):!1;if(n=ct(t),s=ct(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const a in t){const o=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(o&&!c||!o&&c||!Ka(t[a],e[a]))return!1}}return String(t)===String(e)}function $u(t,e){return t.findIndex(n=>Ka(n,e))}const Pd=t=>!!(t&&t.__v_isRef===!0),pa=t=>Dt(t)?t:t==null?"":Pe(t)||ct(t)&&(t.toString===kd||!We(t.toString))?Pd(t)?pa(t.value):JSON.stringify(t,Fd,2):String(t),Fd=(t,e)=>Pd(e)?Fd(t,e.value):gi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[mc(s,i)+" =>"]=r,n),{})}:Hi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>mc(n))}:fs(e)?mc(e):ct(e)&&!Pe(e)&&!Dd(e)?String(e):e,mc=(t,e="")=>{var n;return fs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tn;class Rm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tn,!e&&Tn&&(this.index=(Tn.scopes||(Tn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Tn;try{return Tn=this,e()}finally{Tn=n}}}on(){Tn=this}off(){Tn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Nm(){return Tn}let at;const vc=new WeakSet;class $d{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tn&&Tn.active&&Tn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vc.has(this)&&(vc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nh(this),Wd(this);const e=at,n=Yn;at=this,Yn=!0;try{return this.fn()}finally{jd(this),at=e,Yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wu(e);this.deps=this.depsTail=void 0,nh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){su(this)&&this.run()}get dirty(){return su(this)}}let Hd=0,ga,ba;function qd(t,e=!1){if(t.flags|=8,e){t.next=ba,ba=t;return}t.next=ga,ga=t}function Hu(){Hd++}function qu(){if(--Hd>0)return;if(ba){let e=ba;for(ba=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ga;){let e=ga;for(ga=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Wd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function jd(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Wu(s),Im(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function su(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ud(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ud(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===xa))return;t.globalVersion=xa;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!su(t)){t.flags&=-3;return}const n=at,s=Yn;at=t,Yn=!0;try{Wd(t);const r=t.fn(t._value);(e.version===0||Nr(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{at=n,Yn=s,jd(t),t.flags&=-3}}function Wu(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Wu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Im(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yn=!0;const Yd=[];function ar(){Yd.push(Yn),Yn=!1}function or(){const t=Yd.pop();Yn=t===void 0?!0:t}function nh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=at;at=void 0;try{e()}finally{at=n}}}let xa=0;class km{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!at||!Yn||at===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==at)n=this.activeLink=new km(at,this),at.deps?(n.prevDep=at.depsTail,at.depsTail.nextDep=n,at.depsTail=n):at.deps=at.depsTail=n,Xd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=at.depsTail,n.nextDep=void 0,at.depsTail.nextDep=n,at.depsTail=n,at.deps===n&&(at.deps=s)}return n}trigger(e){this.version++,xa++,this.notify(e)}notify(e){Hu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qu()}}}function Xd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Xd(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ru=new WeakMap,Ir=Symbol(""),iu=Symbol(""),Ca=Symbol("");function Yt(t,e,n){if(Yn&&at){let s=ru.get(t);s||ru.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Gd),r.map=s,r.key=n),r.track()}}function ws(t,e,n,s,r,i){const a=ru.get(t);if(!a){xa++;return}const o=c=>{c&&c.trigger()};if(Hu(),e==="clear")a.forEach(o);else{const c=Pe(t),u=c&&Vu(n);if(c&&n==="length"){const f=Number(s);a.forEach((h,O)=>{(O==="length"||O===Ca||!fs(O)&&O>=f)&&o(h)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(Ca)),e){case"add":c?u&&o(a.get("length")):(o(a.get(Ir)),gi(t)&&o(a.get(iu)));break;case"delete":c||(o(a.get(Ir)),gi(t)&&o(a.get(iu)));break;case"set":gi(t)&&o(a.get(Ir));break}}qu()}function ti(t){const e=Je(t);return e===t?e:(Yt(e,"iterate",Ca),Gn(t)?e:e.map(hn))}function Nl(t){return Yt(t=Je(t),"iterate",Ca),t}const Dm={__proto__:null,[Symbol.iterator](){return gc(this,Symbol.iterator,hn)},concat(...t){return ti(this).concat(...t.map(e=>Pe(e)?ti(e):e))},entries(){return gc(this,"entries",t=>(t[1]=hn(t[1]),t))},every(t,e){return bs(this,"every",t,e,void 0,arguments)},filter(t,e){return bs(this,"filter",t,e,n=>n.map(hn),arguments)},find(t,e){return bs(this,"find",t,e,hn,arguments)},findIndex(t,e){return bs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bs(this,"findLast",t,e,hn,arguments)},findLastIndex(t,e){return bs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bs(this,"forEach",t,e,void 0,arguments)},includes(...t){return bc(this,"includes",t)},indexOf(...t){return bc(this,"indexOf",t)},join(t){return ti(this).join(t)},lastIndexOf(...t){return bc(this,"lastIndexOf",t)},map(t,e){return bs(this,"map",t,e,void 0,arguments)},pop(){return oa(this,"pop")},push(...t){return oa(this,"push",t)},reduce(t,...e){return sh(this,"reduce",t,e)},reduceRight(t,...e){return sh(this,"reduceRight",t,e)},shift(){return oa(this,"shift")},some(t,e){return bs(this,"some",t,e,void 0,arguments)},splice(...t){return oa(this,"splice",t)},toReversed(){return ti(this).toReversed()},toSorted(t){return ti(this).toSorted(t)},toSpliced(...t){return ti(this).toSpliced(...t)},unshift(...t){return oa(this,"unshift",t)},values(){return gc(this,"values",hn)}};function gc(t,e,n){const s=Nl(t),r=s[e]();return s!==t&&!Gn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Bm=Array.prototype;function bs(t,e,n,s,r,i){const a=Nl(t),o=a!==t&&!Gn(t),c=a[e];if(c!==Bm[e]){const h=c.apply(t,i);return o?hn(h):h}let u=n;a!==t&&(o?u=function(h,O){return n.call(this,hn(h),O,t)}:n.length>2&&(u=function(h,O){return n.call(this,h,O,t)}));const f=c.call(a,u,s);return o&&r?r(f):f}function sh(t,e,n,s){const r=Nl(t);let i=n;return r!==t&&(Gn(t)?n.length>3&&(i=function(a,o,c){return n.call(this,a,o,c,t)}):i=function(a,o,c){return n.call(this,a,hn(o),c,t)}),r[e](i,...s)}function bc(t,e,n){const s=Je(t);Yt(s,"iterate",Ca);const r=s[e](...n);return(r===-1||r===!1)&&Gu(n[0])?(n[0]=Je(n[0]),s[e](...n)):r}function oa(t,e,n=[]){ar(),Hu();const s=Je(t)[e].apply(t,n);return qu(),or(),s}const Lm=Du("__proto__,__v_isRef,__isVue"),Kd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fs));function Vm(t){fs(t)||(t=String(t));const e=Je(this);return Yt(e,"has",t),e.hasOwnProperty(t)}class zd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Gm:e1:i?Jd:Qd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const a=Pe(e);if(!r){let c;if(a&&(c=Dm[n]))return c;if(n==="hasOwnProperty")return Vm}const o=Reflect.get(e,n,tn(e)?e:s);return(fs(n)?Kd.has(n):Lm(n))||(r||Yt(e,"get",n),i)?o:tn(o)?a&&Vu(n)?o:o.value:ct(o)?r?t1(o):Uu(o):o}}class Zd extends zd{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const c=Ai(i);if(!Gn(s)&&!Ai(s)&&(i=Je(i),s=Je(s)),!Pe(e)&&tn(i)&&!tn(s))return c?!1:(i.value=s,!0)}const a=Pe(e)&&Vu(n)?Number(n)<e.length:Qe(e,n),o=Reflect.set(e,n,s,tn(e)?e:r);return e===Je(r)&&(a?Nr(s,i)&&ws(e,"set",n,s):ws(e,"add",n,s)),o}deleteProperty(e,n){const s=Qe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ws(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!fs(n)||!Kd.has(n))&&Yt(e,"has",n),s}ownKeys(e){return Yt(e,"iterate",Pe(e)?"length":Ir),Reflect.ownKeys(e)}}class Pm extends zd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Fm=new Zd,$m=new Pm,Hm=new Zd(!0);const au=t=>t,vo=t=>Reflect.getPrototypeOf(t);function qm(t,e,n){return function(...s){const r=this.__v_raw,i=Je(r),a=gi(i),o=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,u=r[t](...s),f=n?au:e?ou:hn;return!e&&Yt(i,"iterate",c?iu:Ir),{next(){const{value:h,done:O}=u.next();return O?{value:h,done:O}:{value:o?[f(h[0]),f(h[1])]:f(h),done:O}},[Symbol.iterator](){return this}}}}function go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wm(t,e){const n={get(r){const i=this.__v_raw,a=Je(i),o=Je(r);t||(Nr(r,o)&&Yt(a,"get",r),Yt(a,"get",o));const{has:c}=vo(a),u=e?au:t?ou:hn;if(c.call(a,r))return u(i.get(r));if(c.call(a,o))return u(i.get(o));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Yt(Je(r),"iterate",Ir),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=Je(i),o=Je(r);return t||(Nr(r,o)&&Yt(a,"has",r),Yt(a,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const a=this,o=a.__v_raw,c=Je(o),u=e?au:t?ou:hn;return!t&&Yt(c,"iterate",Ir),o.forEach((f,h)=>r.call(i,u(f),u(h),a))}};return qt(n,t?{add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear")}:{add(r){!e&&!Gn(r)&&!Ai(r)&&(r=Je(r));const i=Je(this);return vo(i).has.call(i,r)||(i.add(r),ws(i,"add",r,r)),this},set(r,i){!e&&!Gn(i)&&!Ai(i)&&(i=Je(i));const a=Je(this),{has:o,get:c}=vo(a);let u=o.call(a,r);u||(r=Je(r),u=o.call(a,r));const f=c.call(a,r);return a.set(r,i),u?Nr(i,f)&&ws(a,"set",r,i):ws(a,"add",r,i),this},delete(r){const i=Je(this),{has:a,get:o}=vo(i);let c=a.call(i,r);c||(r=Je(r),c=a.call(i,r)),o&&o.call(i,r);const u=i.delete(r);return c&&ws(i,"delete",r,void 0),u},clear(){const r=Je(this),i=r.size!==0,a=r.clear();return i&&ws(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=qm(r,t,e)}),n}function ju(t,e){const n=Wm(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Qe(n,r)&&r in s?n:s,r,i)}const jm={get:ju(!1,!1)},Um={get:ju(!1,!0)},Ym={get:ju(!0,!1)};const Qd=new WeakMap,Jd=new WeakMap,e1=new WeakMap,Gm=new WeakMap;function Xm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Km(t){return t.__v_skip||!Object.isExtensible(t)?0:Xm(ym(t))}function Uu(t){return Ai(t)?t:Yu(t,!1,Fm,jm,Qd)}function zm(t){return Yu(t,!1,Hm,Um,Jd)}function t1(t){return Yu(t,!0,$m,Ym,e1)}function Yu(t,e,n,s,r){if(!ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const a=Km(t);if(a===0)return t;const o=new Proxy(t,a===2?s:n);return r.set(t,o),o}function bi(t){return Ai(t)?bi(t.__v_raw):!!(t&&t.__v_isReactive)}function Ai(t){return!!(t&&t.__v_isReadonly)}function Gn(t){return!!(t&&t.__v_isShallow)}function Gu(t){return t?!!t.__v_raw:!1}function Je(t){const e=t&&t.__v_raw;return e?Je(e):t}function Zm(t){return!Qe(t,"__v_skip")&&Object.isExtensible(t)&&Ld(t,"__v_skip",!0),t}const hn=t=>ct(t)?Uu(t):t,ou=t=>ct(t)?t1(t):t;function tn(t){return t?t.__v_isRef===!0:!1}function Qm(t){return tn(t)?t.value:t}const Jm={get:(t,e,n)=>e==="__v_raw"?t:Qm(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return tn(r)&&!tn(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function n1(t){return bi(t)?t:new Proxy(t,Jm)}class e2{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Gd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return qd(this,!0),!0}get value(){const e=this.dep.track();return Ud(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function t2(t,e,n=!1){let s,r;return We(t)?s=t:(s=t.get,r=t.set),new e2(s,r,n)}const bo={},Qo=new WeakMap;let Mr;function n2(t,e=!1,n=Mr){if(n){let s=Qo.get(n);s||Qo.set(n,s=[]),s.push(t)}}function s2(t,e,n=st){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:o,call:c}=n,u=R=>r?R:Gn(R)||r===!1||r===0?As(R,1):As(R);let f,h,O,w,T=!1,D=!1;if(tn(t)?(h=()=>t.value,T=Gn(t)):bi(t)?(h=()=>u(t),T=!0):Pe(t)?(D=!0,T=t.some(R=>bi(R)||Gn(R)),h=()=>t.map(R=>{if(tn(R))return R.value;if(bi(R))return u(R);if(We(R))return c?c(R,2):R()})):We(t)?e?h=c?()=>c(t,2):t:h=()=>{if(O){ar();try{O()}finally{or()}}const R=Mr;Mr=f;try{return c?c(t,3,[w]):t(w)}finally{Mr=R}}:h=cs,e&&r){const R=h,l=r===!0?1/0:r;h=()=>As(R(),l)}const k=Nm(),I=()=>{f.stop(),k&&k.active&&Lu(k.effects,f)};if(i&&e){const R=e;e=(...l)=>{R(...l),I()}}let m=D?new Array(t.length).fill(bo):bo;const C=R=>{if(!(!(f.flags&1)||!f.dirty&&!R))if(e){const l=f.run();if(r||T||(D?l.some((E,S)=>Nr(E,m[S])):Nr(l,m))){O&&O();const E=Mr;Mr=f;try{const S=[l,m===bo?void 0:D&&m[0]===bo?[]:m,w];c?c(e,3,S):e(...S),m=l}finally{Mr=E}}}else f.run()};return o&&o(C),f=new $d(h),f.scheduler=a?()=>a(C,!1):C,w=R=>n2(R,!1,f),O=f.onStop=()=>{const R=Qo.get(f);if(R){if(c)c(R,4);else for(const l of R)l();Qo.delete(f)}},e?s?C(!0):m=f.run():a?a(C.bind(null,!0),!0):f.run(),I.pause=f.pause.bind(f),I.resume=f.resume.bind(f),I.stop=I,I}function As(t,e=1/0,n){if(e<=0||!ct(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,tn(t))As(t.value,e,n);else if(Pe(t))for(let s=0;s<t.length;s++)As(t[s],e,n);else if(Hi(t)||gi(t))t.forEach(s=>{As(s,e,n)});else if(Dd(t)){for(const s in t)As(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&As(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function za(t,e,n,s){try{return s?t(...s):t()}catch(r){Il(r,e,n)}}function ds(t,e,n,s){if(We(t)){const r=za(t,e,n,s);return r&&Id(r)&&r.catch(i=>{Il(i,e,n)}),r}if(Pe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(ds(t[i],e,n,s));return r}}function Il(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||st;if(e){let o=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,c,u)===!1)return}o=o.parent}if(i){ar(),za(i,null,10,[t,c,u]),or();return}}r2(t,n,r,s,a)}function r2(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Zt=[];let os=-1;const yi=[];let Ks=null,li=0;const s1=Promise.resolve();let Jo=null;function r1(t){const e=Jo||s1;return t?e.then(this?t.bind(this):t):e}function i2(t){let e=os+1,n=Zt.length;for(;e<n;){const s=e+n>>>1,r=Zt[s],i=Ma(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Xu(t){if(!(t.flags&1)){const e=Ma(t),n=Zt[Zt.length-1];!n||!(t.flags&2)&&e>=Ma(n)?Zt.push(t):Zt.splice(i2(e),0,t),t.flags|=1,i1()}}function i1(){Jo||(Jo=s1.then(o1))}function a2(t){Pe(t)?yi.push(...t):Ks&&t.id===-1?Ks.splice(li+1,0,t):t.flags&1||(yi.push(t),t.flags|=1),i1()}function rh(t,e,n=os+1){for(;n<Zt.length;n++){const s=Zt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Zt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function a1(t){if(yi.length){const e=[...new Set(yi)].sort((n,s)=>Ma(n)-Ma(s));if(yi.length=0,Ks){Ks.push(...e);return}for(Ks=e,li=0;li<Ks.length;li++){const n=Ks[li];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,li=0}}const Ma=t=>t.id==null?t.flags&2?-1:1/0:t.id;function o1(t){try{for(os=0;os<Zt.length;os++){const e=Zt[os];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),za(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;os<Zt.length;os++){const e=Zt[os];e&&(e.flags&=-2)}os=-1,Zt.length=0,a1(),Jo=null,(Zt.length||yi.length)&&o1()}}let In=null,l1=null;function el(t){const e=In;return In=t,l1=t&&t.type.__scopeId||null,e}function o2(t,e=In,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&fh(-1);const i=el(e);let a;try{a=t(...r)}finally{el(i),s._d&&fh(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Kt(t,e){if(In===null)return t;const n=Ll(In),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,o,c=st]=e[r];i&&(We(i)&&(i={mounted:i,updated:i}),i.deep&&As(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:c}))}return t}function pr(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];i&&(o.oldValue=i[a].value);let c=o.dir[s];c&&(ar(),ds(c,n,8,[t.el,o,t,e]),or())}}const l2=Symbol("_vte"),c2=t=>t.__isTeleport;function Ku(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ku(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function c1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function tl(t,e,n,s,r=!1){if(Pe(t)){t.forEach((T,D)=>tl(T,e&&(Pe(e)?e[D]:e),n,s,r));return}if(ya(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&tl(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Ll(s.component):s.el,a=r?null:i,{i:o,r:c}=t,u=e&&e.r,f=o.refs===st?o.refs={}:o.refs,h=o.setupState,O=Je(h),w=h===st?()=>!1:T=>Qe(O,T);if(u!=null&&u!==c&&(Dt(u)?(f[u]=null,w(u)&&(h[u]=null)):tn(u)&&(u.value=null)),We(c))za(c,o,12,[a,f]);else{const T=Dt(c),D=tn(c);if(T||D){const k=()=>{if(t.f){const I=T?w(c)?h[c]:f[c]:c.value;r?Pe(I)&&Lu(I,i):Pe(I)?I.includes(i)||I.push(i):T?(f[c]=[i],w(c)&&(h[c]=f[c])):(c.value=[i],t.k&&(f[t.k]=c.value))}else T?(f[c]=a,w(c)&&(h[c]=a)):D&&(c.value=a,t.k&&(f[t.k]=a))};a?(k.id=-1,yn(k,n)):k()}}}Rl().requestIdleCallback;Rl().cancelIdleCallback;const ya=t=>!!t.type.__asyncLoader,u1=t=>t.type.__isKeepAlive;function u2(t,e){h1(t,"a",e)}function h2(t,e){h1(t,"da",e)}function h1(t,e,n=Jt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(kl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)u1(r.parent.vnode)&&f2(s,e,n,r),r=r.parent}}function f2(t,e,n,s){const r=kl(e,t,s,!0);f1(()=>{Lu(s[e],r)},n)}function kl(t,e,n=Jt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{ar();const o=Za(n),c=ds(e,n,t,a);return o(),or(),c});return s?r.unshift(i):r.push(i),i}}const Vs=t=>(e,n=Jt)=>{(!Ra||t==="sp")&&kl(t,(...s)=>e(...s),n)},d2=Vs("bm"),_2=Vs("m"),p2=Vs("bu"),m2=Vs("u"),v2=Vs("bum"),f1=Vs("um"),g2=Vs("sp"),b2=Vs("rtg"),y2=Vs("rtc");function T2(t,e=Jt){kl("ec",t,e)}const E2=Symbol.for("v-ndc");function yo(t,e,n,s){let r;const i=n,a=Pe(t);if(a||Dt(t)){const o=a&&bi(t);let c=!1;o&&(c=!Gn(t),t=Nl(t)),r=new Array(t.length);for(let u=0,f=t.length;u<f;u++)r[u]=e(c?hn(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i)}else if(ct(t))if(t[Symbol.iterator])r=Array.from(t,(o,c)=>e(o,c,void 0,i));else{const o=Object.keys(t);r=new Array(o.length);for(let c=0,u=o.length;c<u;c++){const f=o[c];r[c]=e(t[f],f,c,i)}}else r=[];return r}const lu=t=>t?k1(t)?Ll(t):lu(t.parent):null,Ta=qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lu(t.parent),$root:t=>lu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>zu(t),$forceUpdate:t=>t.f||(t.f=()=>{Xu(t.update)}),$nextTick:t=>t.n||(t.n=r1.bind(t.proxy)),$watch:t=>j2.bind(t)}),yc=(t,e)=>t!==st&&!t.__isScriptSetup&&Qe(t,e),w2={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:o,appContext:c}=t;let u;if(e[0]!=="$"){const w=a[e];if(w!==void 0)switch(w){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(yc(s,e))return a[e]=1,s[e];if(r!==st&&Qe(r,e))return a[e]=2,r[e];if((u=t.propsOptions[0])&&Qe(u,e))return a[e]=3,i[e];if(n!==st&&Qe(n,e))return a[e]=4,n[e];cu&&(a[e]=0)}}const f=Ta[e];let h,O;if(f)return e==="$attrs"&&Yt(t.attrs,"get",""),f(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==st&&Qe(n,e))return a[e]=4,n[e];if(O=c.config.globalProperties,Qe(O,e))return O[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return yc(r,e)?(r[e]=n,!0):s!==st&&Qe(s,e)?(s[e]=n,!0):Qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},a){let o;return!!n[a]||t!==st&&Qe(t,a)||yc(e,a)||(o=i[0])&&Qe(o,a)||Qe(s,a)||Qe(Ta,a)||Qe(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ih(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let cu=!0;function A2(t){const e=zu(t),n=t.proxy,s=t.ctx;cu=!1,e.beforeCreate&&ah(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:o,provide:c,inject:u,created:f,beforeMount:h,mounted:O,beforeUpdate:w,updated:T,activated:D,deactivated:k,beforeDestroy:I,beforeUnmount:m,destroyed:C,unmounted:R,render:l,renderTracked:E,renderTriggered:S,errorCaptured:g,serverPrefetch:y,expose:_,inheritAttrs:b,components:A,directives:v,filters:d}=e;if(u&&S2(u,s,null),a)for(const H in a){const V=a[H];We(V)&&(s[H]=V.bind(n))}if(r){const H=r.call(n,n);ct(H)&&(t.data=Uu(H))}if(cu=!0,i)for(const H in i){const V=i[H],F=We(V)?V.bind(n,n):We(V.get)?V.get.bind(n,n):cs,p=!We(V)&&We(V.set)?V.set.bind(n):cs,M=hv({get:F,set:p});Object.defineProperty(s,H,{enumerable:!0,configurable:!0,get:()=>M.value,set:q=>M.value=q})}if(o)for(const H in o)d1(o[H],s,n,H);if(c){const H=We(c)?c.call(n):c;Reflect.ownKeys(H).forEach(V=>{N2(V,H[V])})}f&&ah(f,t,"c");function N(H,V){Pe(V)?V.forEach(F=>H(F.bind(n))):V&&H(V.bind(n))}if(N(d2,h),N(_2,O),N(p2,w),N(m2,T),N(u2,D),N(h2,k),N(T2,g),N(y2,E),N(b2,S),N(v2,m),N(f1,R),N(g2,y),Pe(_))if(_.length){const H=t.exposed||(t.exposed={});_.forEach(V=>{Object.defineProperty(H,V,{get:()=>n[V],set:F=>n[V]=F})})}else t.exposed||(t.exposed={});l&&t.render===cs&&(t.render=l),b!=null&&(t.inheritAttrs=b),A&&(t.components=A),v&&(t.directives=v),y&&c1(t)}function S2(t,e,n=cs){Pe(t)&&(t=uu(t));for(const s in t){const r=t[s];let i;ct(r)?"default"in r?i=Wo(r.from||s,r.default,!0):i=Wo(r.from||s):i=Wo(r),tn(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function ah(t,e,n){ds(Pe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function d1(t,e,n,s){let r=s.includes(".")?C1(n,s):()=>n[s];if(Dt(t)){const i=e[t];We(i)&&Ec(r,i)}else if(We(t))Ec(r,t.bind(n));else if(ct(t))if(Pe(t))t.forEach(i=>d1(i,e,n,s));else{const i=We(t.handler)?t.handler.bind(n):e[t.handler];We(i)&&Ec(r,i,t)}}function zu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let c;return o?c=o:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(u=>nl(c,u,a,!0)),nl(c,e,a)),ct(e)&&i.set(e,c),c}function nl(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&nl(t,i,n,!0),r&&r.forEach(a=>nl(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const o=x2[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const x2={data:oh,props:lh,emits:lh,methods:ma,computed:ma,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:ma,directives:ma,watch:M2,provide:oh,inject:C2};function oh(t,e){return e?t?function(){return qt(We(t)?t.call(this,this):t,We(e)?e.call(this,this):e)}:e:t}function C2(t,e){return ma(uu(t),uu(e))}function uu(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function ma(t,e){return t?qt(Object.create(null),t,e):e}function lh(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:qt(Object.create(null),ih(t),ih(e??{})):e}function M2(t,e){if(!t)return e;if(!e)return t;const n=qt(Object.create(null),t);for(const s in e)n[s]=zt(t[s],e[s]);return n}function _1(){return{app:null,config:{isNativeTag:gm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let O2=0;function R2(t,e){return function(s,r=null){We(s)||(s=qt({},s)),r!=null&&!ct(r)&&(r=null);const i=_1(),a=new WeakSet,o=[];let c=!1;const u=i.app={_uid:O2++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:fv,get config(){return i.config},set config(f){},use(f,...h){return a.has(f)||(f&&We(f.install)?(a.add(f),f.install(u,...h)):We(f)&&(a.add(f),f(u,...h))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,h){return h?(i.components[f]=h,u):i.components[f]},directive(f,h){return h?(i.directives[f]=h,u):i.directives[f]},mount(f,h,O){if(!c){const w=u._ceVNode||Cs(s,r);return w.appContext=i,O===!0?O="svg":O===!1&&(O=void 0),h&&e?e(w,f):t(w,f,O),c=!0,u._container=f,f.__vue_app__=u,Ll(w.component)}},onUnmount(f){o.push(f)},unmount(){c&&(ds(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,h){return i.provides[f]=h,u},runWithContext(f){const h=Ti;Ti=u;try{return f()}finally{Ti=h}}};return u}}let Ti=null;function N2(t,e){if(Jt){let n=Jt.provides;const s=Jt.parent&&Jt.parent.provides;s===n&&(n=Jt.provides=Object.create(s)),n[t]=e}}function Wo(t,e,n=!1){const s=Jt||In;if(s||Ti){const r=Ti?Ti._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&We(e)?e.call(s&&s.proxy):e}}const p1={},m1=()=>Object.create(p1),v1=t=>Object.getPrototypeOf(t)===p1;function I2(t,e,n,s=!1){const r={},i=m1();t.propsDefaults=Object.create(null),g1(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:zm(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function k2(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,o=Je(r),[c]=t.propsOptions;let u=!1;if((s||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let O=f[h];if(Dl(t.emitsOptions,O))continue;const w=e[O];if(c)if(Qe(i,O))w!==i[O]&&(i[O]=w,u=!0);else{const T=er(O);r[T]=hu(c,o,T,w,t,!1)}else w!==i[O]&&(i[O]=w,u=!0)}}}else{g1(t,e,r,i)&&(u=!0);let f;for(const h in o)(!e||!Qe(e,h)&&((f=Gr(h))===h||!Qe(e,f)))&&(c?n&&(n[h]!==void 0||n[f]!==void 0)&&(r[h]=hu(c,o,h,void 0,t,!0)):delete r[h]);if(i!==o)for(const h in i)(!e||!Qe(e,h))&&(delete i[h],u=!0)}u&&ws(t.attrs,"set","")}function g1(t,e,n,s){const[r,i]=t.propsOptions;let a=!1,o;if(e)for(let c in e){if(va(c))continue;const u=e[c];let f;r&&Qe(r,f=er(c))?!i||!i.includes(f)?n[f]=u:(o||(o={}))[f]=u:Dl(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,a=!0)}if(i){const c=Je(n),u=o||st;for(let f=0;f<i.length;f++){const h=i[f];n[h]=hu(r,c,h,u[h],t,!Qe(u,h))}}return a}function hu(t,e,n,s,r,i){const a=t[n];if(a!=null){const o=Qe(a,"default");if(o&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&We(c)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const f=Za(r);s=u[n]=c.call(null,e),f()}}else s=c;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!o?s=!1:a[1]&&(s===""||s===Gr(n))&&(s=!0))}return s}const D2=new WeakMap;function b1(t,e,n=!1){const s=n?D2:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,a={},o=[];let c=!1;if(!We(t)){const f=h=>{c=!0;const[O,w]=b1(h,e,!0);qt(a,O),w&&o.push(...w)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return ct(t)&&s.set(t,vi),vi;if(Pe(i))for(let f=0;f<i.length;f++){const h=er(i[f]);ch(h)&&(a[h]=st)}else if(i)for(const f in i){const h=er(f);if(ch(h)){const O=i[f],w=a[h]=Pe(O)||We(O)?{type:O}:qt({},O),T=w.type;let D=!1,k=!0;if(Pe(T))for(let I=0;I<T.length;++I){const m=T[I],C=We(m)&&m.name;if(C==="Boolean"){D=!0;break}else C==="String"&&(k=!1)}else D=We(T)&&T.name==="Boolean";w[0]=D,w[1]=k,(D||Qe(w,"default"))&&o.push(h)}}const u=[a,o];return ct(t)&&s.set(t,u),u}function ch(t){return t[0]!=="$"&&!va(t)}const y1=t=>t[0]==="_"||t==="$stable",Zu=t=>Pe(t)?t.map(ls):[ls(t)],B2=(t,e,n)=>{if(e._n)return e;const s=o2((...r)=>Zu(e(...r)),n);return s._c=!1,s},T1=(t,e,n)=>{const s=t._ctx;for(const r in t){if(y1(r))continue;const i=t[r];if(We(i))e[r]=B2(r,i,s);else if(i!=null){const a=Zu(i);e[r]=()=>a}}},E1=(t,e)=>{const n=Zu(e);t.slots.default=()=>n},w1=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},L2=(t,e,n)=>{const s=t.slots=m1();if(t.vnode.shapeFlag&32){const r=e._;r?(w1(s,e,n),n&&Ld(s,"_",r,!0)):T1(e,s)}else e&&E1(t,e)},V2=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,a=st;if(s.shapeFlag&32){const o=e._;o?n&&o===1?i=!1:w1(r,e,n):(i=!e.$stable,T1(e,r)),a=e}else e&&(E1(t,e),a={default:1});if(i)for(const o in r)!y1(o)&&a[o]==null&&delete r[o]},yn=Z2;function P2(t){return F2(t)}function F2(t,e){const n=Rl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:o,createComment:c,setText:u,setElementText:f,parentNode:h,nextSibling:O,setScopeId:w=cs,insertStaticContent:T}=t,D=($,Y,j,Z=null,te=null,oe=null,he=void 0,le=null,pe=!!Y.dynamicChildren)=>{if($===Y)return;$&&!la($,Y)&&(Z=ce($),q($,te,oe,!0),$=null),Y.patchFlag===-2&&(pe=!1,Y.dynamicChildren=null);const{type:_e,ref:Re,shapeFlag:Ee}=Y;switch(_e){case Bl:k($,Y,j,Z);break;case Lr:I($,Y,j,Z);break;case Ac:$==null&&m(Y,j,Z,he);break;case En:A($,Y,j,Z,te,oe,he,le,pe);break;default:Ee&1?l($,Y,j,Z,te,oe,he,le,pe):Ee&6?v($,Y,j,Z,te,oe,he,le,pe):(Ee&64||Ee&128)&&_e.process($,Y,j,Z,te,oe,he,le,pe,de)}Re!=null&&te&&tl(Re,$&&$.ref,oe,Y||$,!Y)},k=($,Y,j,Z)=>{if($==null)s(Y.el=o(Y.children),j,Z);else{const te=Y.el=$.el;Y.children!==$.children&&u(te,Y.children)}},I=($,Y,j,Z)=>{$==null?s(Y.el=c(Y.children||""),j,Z):Y.el=$.el},m=($,Y,j,Z)=>{[$.el,$.anchor]=T($.children,Y,j,Z,$.el,$.anchor)},C=({el:$,anchor:Y},j,Z)=>{let te;for(;$&&$!==Y;)te=O($),s($,j,Z),$=te;s(Y,j,Z)},R=({el:$,anchor:Y})=>{let j;for(;$&&$!==Y;)j=O($),r($),$=j;r(Y)},l=($,Y,j,Z,te,oe,he,le,pe)=>{Y.type==="svg"?he="svg":Y.type==="math"&&(he="mathml"),$==null?E(Y,j,Z,te,oe,he,le,pe):y($,Y,te,oe,he,le,pe)},E=($,Y,j,Z,te,oe,he,le)=>{let pe,_e;const{props:Re,shapeFlag:Ee,transition:Oe,dirs:Ie}=$;if(pe=$.el=a($.type,oe,Re&&Re.is,Re),Ee&8?f(pe,$.children):Ee&16&&g($.children,pe,null,Z,te,Tc($,oe),he,le),Ie&&pr($,null,Z,"created"),S(pe,$,$.scopeId,he,Z),Re){for(const Ye in Re)Ye!=="value"&&!va(Ye)&&i(pe,Ye,null,Re[Ye],oe,Z);"value"in Re&&i(pe,"value",null,Re.value,oe),(_e=Re.onVnodeBeforeMount)&&ss(_e,Z,$)}Ie&&pr($,null,Z,"beforeMount");const Le=$2(te,Oe);Le&&Oe.beforeEnter(pe),s(pe,Y,j),((_e=Re&&Re.onVnodeMounted)||Le||Ie)&&yn(()=>{_e&&ss(_e,Z,$),Le&&Oe.enter(pe),Ie&&pr($,null,Z,"mounted")},te)},S=($,Y,j,Z,te)=>{if(j&&w($,j),Z)for(let oe=0;oe<Z.length;oe++)w($,Z[oe]);if(te){let oe=te.subTree;if(Y===oe||O1(oe.type)&&(oe.ssContent===Y||oe.ssFallback===Y)){const he=te.vnode;S($,he,he.scopeId,he.slotScopeIds,te.parent)}}},g=($,Y,j,Z,te,oe,he,le,pe=0)=>{for(let _e=pe;_e<$.length;_e++){const Re=$[_e]=le?zs($[_e]):ls($[_e]);D(null,Re,Y,j,Z,te,oe,he,le)}},y=($,Y,j,Z,te,oe,he)=>{const le=Y.el=$.el;let{patchFlag:pe,dynamicChildren:_e,dirs:Re}=Y;pe|=$.patchFlag&16;const Ee=$.props||st,Oe=Y.props||st;let Ie;if(j&&mr(j,!1),(Ie=Oe.onVnodeBeforeUpdate)&&ss(Ie,j,Y,$),Re&&pr(Y,$,j,"beforeUpdate"),j&&mr(j,!0),(Ee.innerHTML&&Oe.innerHTML==null||Ee.textContent&&Oe.textContent==null)&&f(le,""),_e?_($.dynamicChildren,_e,le,j,Z,Tc(Y,te),oe):he||V($,Y,le,null,j,Z,Tc(Y,te),oe,!1),pe>0){if(pe&16)b(le,Ee,Oe,j,te);else if(pe&2&&Ee.class!==Oe.class&&i(le,"class",null,Oe.class,te),pe&4&&i(le,"style",Ee.style,Oe.style,te),pe&8){const Le=Y.dynamicProps;for(let Ye=0;Ye<Le.length;Ye++){const Ze=Le[Ye],jt=Ee[Ze],mt=Oe[Ze];(mt!==jt||Ze==="value")&&i(le,Ze,jt,mt,te,j)}}pe&1&&$.children!==Y.children&&f(le,Y.children)}else!he&&_e==null&&b(le,Ee,Oe,j,te);((Ie=Oe.onVnodeUpdated)||Re)&&yn(()=>{Ie&&ss(Ie,j,Y,$),Re&&pr(Y,$,j,"updated")},Z)},_=($,Y,j,Z,te,oe,he)=>{for(let le=0;le<Y.length;le++){const pe=$[le],_e=Y[le],Re=pe.el&&(pe.type===En||!la(pe,_e)||pe.shapeFlag&70)?h(pe.el):j;D(pe,_e,Re,null,Z,te,oe,he,!0)}},b=($,Y,j,Z,te)=>{if(Y!==j){if(Y!==st)for(const oe in Y)!va(oe)&&!(oe in j)&&i($,oe,Y[oe],null,te,Z);for(const oe in j){if(va(oe))continue;const he=j[oe],le=Y[oe];he!==le&&oe!=="value"&&i($,oe,le,he,te,Z)}"value"in j&&i($,"value",Y.value,j.value,te)}},A=($,Y,j,Z,te,oe,he,le,pe)=>{const _e=Y.el=$?$.el:o(""),Re=Y.anchor=$?$.anchor:o("");let{patchFlag:Ee,dynamicChildren:Oe,slotScopeIds:Ie}=Y;Ie&&(le=le?le.concat(Ie):Ie),$==null?(s(_e,j,Z),s(Re,j,Z),g(Y.children||[],j,Re,te,oe,he,le,pe)):Ee>0&&Ee&64&&Oe&&$.dynamicChildren?(_($.dynamicChildren,Oe,j,te,oe,he,le),(Y.key!=null||te&&Y===te.subTree)&&A1($,Y,!0)):V($,Y,j,Re,te,oe,he,le,pe)},v=($,Y,j,Z,te,oe,he,le,pe)=>{Y.slotScopeIds=le,$==null?Y.shapeFlag&512?te.ctx.activate(Y,j,Z,he,pe):d(Y,j,Z,te,oe,he,pe):x($,Y,pe)},d=($,Y,j,Z,te,oe,he)=>{const le=$.component=iv($,Z,te);if(u1($)&&(le.ctx.renderer=de),av(le,!1,he),le.asyncDep){if(te&&te.registerDep(le,N,he),!$.el){const pe=le.subTree=Cs(Lr);I(null,pe,Y,j)}}else N(le,$,Y,j,te,oe,he)},x=($,Y,j)=>{const Z=Y.component=$.component;if(K2($,Y,j))if(Z.asyncDep&&!Z.asyncResolved){H(Z,Y,j);return}else Z.next=Y,Z.update();else Y.el=$.el,Z.vnode=Y},N=($,Y,j,Z,te,oe,he)=>{const le=()=>{if($.isMounted){let{next:Ee,bu:Oe,u:Ie,parent:Le,vnode:Ye}=$;{const L=S1($);if(L){Ee&&(Ee.el=Ye.el,H($,Ee,he)),L.asyncDep.then(()=>{$.isUnmounted||le()});return}}let Ze=Ee,jt;mr($,!1),Ee?(Ee.el=Ye.el,H($,Ee,he)):Ee=Ye,Oe&&qo(Oe),(jt=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&ss(jt,Le,Ee,Ye),mr($,!0);const mt=wc($),B=$.subTree;$.subTree=mt,D(B,mt,h(B.el),ce(B),$,te,oe),Ee.el=mt.el,Ze===null&&z2($,mt.el),Ie&&yn(Ie,te),(jt=Ee.props&&Ee.props.onVnodeUpdated)&&yn(()=>ss(jt,Le,Ee,Ye),te)}else{let Ee;const{el:Oe,props:Ie}=Y,{bm:Le,m:Ye,parent:Ze,root:jt,type:mt}=$,B=ya(Y);if(mr($,!1),Le&&qo(Le),!B&&(Ee=Ie&&Ie.onVnodeBeforeMount)&&ss(Ee,Ze,Y),mr($,!0),Oe&&Xe){const L=()=>{$.subTree=wc($),Xe(Oe,$.subTree,$,te,null)};B&&mt.__asyncHydrate?mt.__asyncHydrate(Oe,$,L):L()}else{jt.ce&&jt.ce._injectChildStyle(mt);const L=$.subTree=wc($);D(null,L,j,Z,$,te,oe),Y.el=L.el}if(Ye&&yn(Ye,te),!B&&(Ee=Ie&&Ie.onVnodeMounted)){const L=Y;yn(()=>ss(Ee,Ze,L),te)}(Y.shapeFlag&256||Ze&&ya(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&$.a&&yn($.a,te),$.isMounted=!0,Y=j=Z=null}};$.scope.on();const pe=$.effect=new $d(le);$.scope.off();const _e=$.update=pe.run.bind(pe),Re=$.job=pe.runIfDirty.bind(pe);Re.i=$,Re.id=$.uid,pe.scheduler=()=>Xu(Re),mr($,!0),_e()},H=($,Y,j)=>{Y.component=$;const Z=$.vnode.props;$.vnode=Y,$.next=null,k2($,Y.props,Z,j),V2($,Y.children,j),ar(),rh($),or()},V=($,Y,j,Z,te,oe,he,le,pe=!1)=>{const _e=$&&$.children,Re=$?$.shapeFlag:0,Ee=Y.children,{patchFlag:Oe,shapeFlag:Ie}=Y;if(Oe>0){if(Oe&128){p(_e,Ee,j,Z,te,oe,he,le,pe);return}else if(Oe&256){F(_e,Ee,j,Z,te,oe,he,le,pe);return}}Ie&8?(Re&16&&ae(_e,te,oe),Ee!==_e&&f(j,Ee)):Re&16?Ie&16?p(_e,Ee,j,Z,te,oe,he,le,pe):ae(_e,te,oe,!0):(Re&8&&f(j,""),Ie&16&&g(Ee,j,Z,te,oe,he,le,pe))},F=($,Y,j,Z,te,oe,he,le,pe)=>{$=$||vi,Y=Y||vi;const _e=$.length,Re=Y.length,Ee=Math.min(_e,Re);let Oe;for(Oe=0;Oe<Ee;Oe++){const Ie=Y[Oe]=pe?zs(Y[Oe]):ls(Y[Oe]);D($[Oe],Ie,j,null,te,oe,he,le,pe)}_e>Re?ae($,te,oe,!0,!1,Ee):g(Y,j,Z,te,oe,he,le,pe,Ee)},p=($,Y,j,Z,te,oe,he,le,pe)=>{let _e=0;const Re=Y.length;let Ee=$.length-1,Oe=Re-1;for(;_e<=Ee&&_e<=Oe;){const Ie=$[_e],Le=Y[_e]=pe?zs(Y[_e]):ls(Y[_e]);if(la(Ie,Le))D(Ie,Le,j,null,te,oe,he,le,pe);else break;_e++}for(;_e<=Ee&&_e<=Oe;){const Ie=$[Ee],Le=Y[Oe]=pe?zs(Y[Oe]):ls(Y[Oe]);if(la(Ie,Le))D(Ie,Le,j,null,te,oe,he,le,pe);else break;Ee--,Oe--}if(_e>Ee){if(_e<=Oe){const Ie=Oe+1,Le=Ie<Re?Y[Ie].el:Z;for(;_e<=Oe;)D(null,Y[_e]=pe?zs(Y[_e]):ls(Y[_e]),j,Le,te,oe,he,le,pe),_e++}}else if(_e>Oe)for(;_e<=Ee;)q($[_e],te,oe,!0),_e++;else{const Ie=_e,Le=_e,Ye=new Map;for(_e=Le;_e<=Oe;_e++){const X=Y[_e]=pe?zs(Y[_e]):ls(Y[_e]);X.key!=null&&Ye.set(X.key,_e)}let Ze,jt=0;const mt=Oe-Le+1;let B=!1,L=0;const W=new Array(mt);for(_e=0;_e<mt;_e++)W[_e]=0;for(_e=Ie;_e<=Ee;_e++){const X=$[_e];if(jt>=mt){q(X,te,oe,!0);continue}let P;if(X.key!=null)P=Ye.get(X.key);else for(Ze=Le;Ze<=Oe;Ze++)if(W[Ze-Le]===0&&la(X,Y[Ze])){P=Ze;break}P===void 0?q(X,te,oe,!0):(W[P-Le]=_e+1,P>=L?L=P:B=!0,D(X,Y[P],j,null,te,oe,he,le,pe),jt++)}const G=B?H2(W):vi;for(Ze=G.length-1,_e=mt-1;_e>=0;_e--){const X=Le+_e,P=Y[X],z=X+1<Re?Y[X+1].el:Z;W[_e]===0?D(null,P,j,z,te,oe,he,le,pe):B&&(Ze<0||_e!==G[Ze]?M(P,j,z,2):Ze--)}}},M=($,Y,j,Z,te=null)=>{const{el:oe,type:he,transition:le,children:pe,shapeFlag:_e}=$;if(_e&6){M($.component.subTree,Y,j,Z);return}if(_e&128){$.suspense.move(Y,j,Z);return}if(_e&64){he.move($,Y,j,de);return}if(he===En){s(oe,Y,j);for(let Ee=0;Ee<pe.length;Ee++)M(pe[Ee],Y,j,Z);s($.anchor,Y,j);return}if(he===Ac){C($,Y,j);return}if(Z!==2&&_e&1&&le)if(Z===0)le.beforeEnter(oe),s(oe,Y,j),yn(()=>le.enter(oe),te);else{const{leave:Ee,delayLeave:Oe,afterLeave:Ie}=le,Le=()=>s(oe,Y,j),Ye=()=>{Ee(oe,()=>{Le(),Ie&&Ie()})};Oe?Oe(oe,Le,Ye):Ye()}else s(oe,Y,j)},q=($,Y,j,Z=!1,te=!1)=>{const{type:oe,props:he,ref:le,children:pe,dynamicChildren:_e,shapeFlag:Re,patchFlag:Ee,dirs:Oe,cacheIndex:Ie}=$;if(Ee===-2&&(te=!1),le!=null&&tl(le,null,j,$,!0),Ie!=null&&(Y.renderCache[Ie]=void 0),Re&256){Y.ctx.deactivate($);return}const Le=Re&1&&Oe,Ye=!ya($);let Ze;if(Ye&&(Ze=he&&he.onVnodeBeforeUnmount)&&ss(Ze,Y,$),Re&6)ie($.component,j,Z);else{if(Re&128){$.suspense.unmount(j,Z);return}Le&&pr($,null,Y,"beforeUnmount"),Re&64?$.type.remove($,Y,j,de,Z):_e&&!_e.hasOnce&&(oe!==En||Ee>0&&Ee&64)?ae(_e,Y,j,!1,!0):(oe===En&&Ee&384||!te&&Re&16)&&ae(pe,Y,j),Z&&U($)}(Ye&&(Ze=he&&he.onVnodeUnmounted)||Le)&&yn(()=>{Ze&&ss(Ze,Y,$),Le&&pr($,null,Y,"unmounted")},j)},U=$=>{const{type:Y,el:j,anchor:Z,transition:te}=$;if(Y===En){fe(j,Z);return}if(Y===Ac){R($);return}const oe=()=>{r(j),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if($.shapeFlag&1&&te&&!te.persisted){const{leave:he,delayLeave:le}=te,pe=()=>he(j,oe);le?le($.el,oe,pe):pe()}else oe()},fe=($,Y)=>{let j;for(;$!==Y;)j=O($),r($),$=j;r(Y)},ie=($,Y,j)=>{const{bum:Z,scope:te,job:oe,subTree:he,um:le,m:pe,a:_e}=$;uh(pe),uh(_e),Z&&qo(Z),te.stop(),oe&&(oe.flags|=8,q(he,$,Y,j)),le&&yn(le,Y),yn(()=>{$.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},ae=($,Y,j,Z=!1,te=!1,oe=0)=>{for(let he=oe;he<$.length;he++)q($[he],Y,j,Z,te)},ce=$=>{if($.shapeFlag&6)return ce($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const Y=O($.anchor||$.el),j=Y&&Y[l2];return j?O(j):Y};let ue=!1;const we=($,Y,j)=>{$==null?Y._vnode&&q(Y._vnode,null,null,!0):D(Y._vnode||null,$,Y,null,null,null,j),Y._vnode=$,ue||(ue=!0,rh(),a1(),ue=!1)},de={p:D,um:q,m:M,r:U,mt:d,mc:g,pc:V,pbc:_,n:ce,o:t};let Ve,Xe;return{render:we,hydrate:Ve,createApp:R2(we,Ve)}}function Tc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function mr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function A1(t,e,n=!1){const s=t.children,r=e.children;if(Pe(s)&&Pe(r))for(let i=0;i<s.length;i++){const a=s[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=zs(r[i]),o.el=a.el),!n&&o.patchFlag!==-2&&A1(a,o)),o.type===Bl&&(o.el=a.el)}}function H2(t){const e=t.slice(),n=[0];let s,r,i,a,o;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,t[n[o]]<u?i=o+1:a=o;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function S1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:S1(e)}function uh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const q2=Symbol.for("v-scx"),W2=()=>Wo(q2);function Ec(t,e,n){return x1(t,e,n)}function x1(t,e,n=st){const{immediate:s,deep:r,flush:i,once:a}=n,o=qt({},n),c=e&&s||!e&&i!=="post";let u;if(Ra){if(i==="sync"){const w=W2();u=w.__watcherHandles||(w.__watcherHandles=[])}else if(!c){const w=()=>{};return w.stop=cs,w.resume=cs,w.pause=cs,w}}const f=Jt;o.call=(w,T,D)=>ds(w,f,T,D);let h=!1;i==="post"?o.scheduler=w=>{yn(w,f&&f.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(w,T)=>{T?w():Xu(w)}),o.augmentJob=w=>{e&&(w.flags|=4),h&&(w.flags|=2,f&&(w.id=f.uid,w.i=f))};const O=s2(t,e,o);return Ra&&(u?u.push(O):c&&O()),O}function j2(t,e,n){const s=this.proxy,r=Dt(t)?t.includes(".")?C1(s,t):()=>s[t]:t.bind(s,s);let i;We(e)?i=e:(i=e.handler,n=e);const a=Za(this),o=x1(r,i.bind(s),n);return a(),o}function C1(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const U2=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${er(e)}Modifiers`]||t[`${Gr(e)}Modifiers`];function Y2(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||st;let r=n;const i=e.startsWith("update:"),a=i&&U2(s,e.slice(7));a&&(a.trim&&(r=n.map(f=>Dt(f)?f.trim():f)),a.number&&(r=n.map(Zo)));let o,c=s[o=pc(e)]||s[o=pc(er(e))];!c&&i&&(c=s[o=pc(Gr(e))]),c&&ds(c,t,6,r);const u=s[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,ds(u,t,6,r)}}function M1(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let a={},o=!1;if(!We(t)){const c=u=>{const f=M1(u,e,!0);f&&(o=!0,qt(a,f))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!o?(ct(t)&&s.set(t,null),null):(Pe(i)?i.forEach(c=>a[c]=null):qt(a,i),ct(t)&&s.set(t,a),a)}function Dl(t,e){return!t||!Ml(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,Gr(e))||Qe(t,e))}function wc(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:o,emit:c,render:u,renderCache:f,props:h,data:O,setupState:w,ctx:T,inheritAttrs:D}=t,k=el(t);let I,m;try{if(n.shapeFlag&4){const R=r||s,l=R;I=ls(u.call(l,R,f,h,w,O,T)),m=o}else{const R=e;I=ls(R.length>1?R(h,{attrs:o,slots:a,emit:c}):R(h,null)),m=e.props?o:G2(o)}}catch(R){Ea.length=0,Il(R,t,1),I=Cs(Lr)}let C=I;if(m&&D!==!1){const R=Object.keys(m),{shapeFlag:l}=C;R.length&&l&7&&(i&&R.some(Bu)&&(m=X2(m,i)),C=Si(C,m,!1,!0))}return n.dirs&&(C=Si(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Ku(C,n.transition),I=C,el(k),I}const G2=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ml(n))&&((e||(e={}))[n]=t[n]);return e},X2=(t,e)=>{const n={};for(const s in t)(!Bu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function K2(t,e,n){const{props:s,children:r,component:i}=t,{props:a,children:o,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?hh(s,a,u):!!a;if(c&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const O=f[h];if(a[O]!==s[O]&&!Dl(u,O))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:s===a?!1:s?a?hh(s,a,u):!0:!!a;return!1}function hh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Dl(n,i))return!0}return!1}function z2({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const O1=t=>t.__isSuspense;function Z2(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):a2(t)}const En=Symbol.for("v-fgt"),Bl=Symbol.for("v-txt"),Lr=Symbol.for("v-cmt"),Ac=Symbol.for("v-stc"),Ea=[];let wn=null;function It(t=!1){Ea.push(wn=t?null:[])}function Q2(){Ea.pop(),wn=Ea[Ea.length-1]||null}let Oa=1;function fh(t,e=!1){Oa+=t,t<0&&wn&&e&&(wn.hasOnce=!0)}function R1(t){return t.dynamicChildren=Oa>0?wn||vi:null,Q2(),Oa>0&&wn&&wn.push(t),t}function Bt(t,e,n,s,r,i){return R1(me(t,e,n,s,r,i,!0))}function J2(t,e,n,s,r){return R1(Cs(t,e,n,s,r,!0))}function N1(t){return t?t.__v_isVNode===!0:!1}function la(t,e){return t.type===e.type&&t.key===e.key}const I1=({key:t})=>t??null,jo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Dt(t)||tn(t)||We(t)?{i:In,r:t,k:e,f:!!n}:t:null);function me(t,e=null,n=null,s=0,r=null,i=t===En?0:1,a=!1,o=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&I1(e),ref:e&&jo(e),scopeId:l1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:In};return o?(Qu(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Dt(n)?8:16),Oa>0&&!a&&wn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&wn.push(c),c}const Cs=ev;function ev(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===E2)&&(t=Lr),N1(t)){const o=Si(t,e,!0);return n&&Qu(o,n),Oa>0&&!i&&wn&&(o.shapeFlag&6?wn[wn.indexOf(t)]=o:wn.push(o)),o.patchFlag=-2,o}if(uv(t)&&(t=t.__vccOpts),e){e=tv(e);let{class:o,style:c}=e;o&&!Dt(o)&&(e.class=Fu(o)),ct(c)&&(Gu(c)&&!Pe(c)&&(c=qt({},c)),e.style=Pu(c))}const a=Dt(t)?1:O1(t)?128:c2(t)?64:ct(t)?4:We(t)?2:0;return me(t,e,n,s,r,a,i,!0)}function tv(t){return t?Gu(t)||v1(t)?qt({},t):t:null}function Si(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:o,transition:c}=t,u=e?nv(r||{},e):r,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&I1(u),ref:e&&e.ref?n&&i?Pe(i)?i.concat(jo(e)):[i,jo(e)]:jo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==En?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Si(t.ssContent),ssFallback:t.ssFallback&&Si(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&Ku(f,c.clone(f)),f}function Xs(t=" ",e=0){return Cs(Bl,null,t,e)}function ns(t="",e=!1){return e?(It(),J2(Lr,null,t)):Cs(Lr,null,t)}function ls(t){return t==null||typeof t=="boolean"?Cs(Lr):Pe(t)?Cs(En,null,t.slice()):N1(t)?zs(t):Cs(Bl,null,String(t))}function zs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Si(t)}function Qu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Qu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!v1(e)?e._ctx=In:r===3&&In&&(In.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else We(e)?(e={default:e,_ctx:In},n=32):(e=String(e),s&64?(n=16,e=[Xs(e)]):n=8);t.children=e,t.shapeFlag|=n}function nv(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Fu([e.class,s.class]));else if(r==="style")e.style=Pu([e.style,s.style]);else if(Ml(r)){const i=e[r],a=s[r];a&&i!==a&&!(Pe(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=s[r])}return e}function ss(t,e,n,s=null){ds(t,e,7,[n,s])}const sv=_1();let rv=0;function iv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||sv,i={uid:rv++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b1(s,r),emitsOptions:M1(s,r),emit:null,emitted:null,propsDefaults:st,inheritAttrs:s.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Y2.bind(null,i),t.ce&&t.ce(i),i}let Jt=null,sl,fu;{const t=Rl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};sl=e("__VUE_INSTANCE_SETTERS__",n=>Jt=n),fu=e("__VUE_SSR_SETTERS__",n=>Ra=n)}const Za=t=>{const e=Jt;return sl(t),t.scope.on(),()=>{t.scope.off(),sl(e)}},dh=()=>{Jt&&Jt.scope.off(),sl(null)};function k1(t){return t.vnode.shapeFlag&4}let Ra=!1;function av(t,e=!1,n=!1){e&&fu(e);const{props:s,children:r}=t.vnode,i=k1(t);I2(t,s,i,e),L2(t,r,n);const a=i?ov(t,e):void 0;return e&&fu(!1),a}function ov(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,w2);const{setup:s}=n;if(s){ar();const r=t.setupContext=s.length>1?cv(t):null,i=Za(t),a=za(s,t,0,[t.props,r]),o=Id(a);if(or(),i(),(o||t.sp)&&!ya(t)&&c1(t),o){if(a.then(dh,dh),e)return a.then(c=>{_h(t,c,e)}).catch(c=>{Il(c,t,0)});t.asyncDep=a}else _h(t,a,e)}else D1(t,e)}function _h(t,e,n){We(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ct(e)&&(t.setupState=n1(e)),D1(t,n)}let ph;function D1(t,e,n){const s=t.type;if(!t.render){if(!e&&ph&&!s.render){const r=s.template||zu(t).template;if(r){const{isCustomElement:i,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:c}=s,u=qt(qt({isCustomElement:i,delimiters:o},a),c);s.render=ph(r,u)}}t.render=s.render||cs}{const r=Za(t);ar();try{A2(t)}finally{or(),r()}}}const lv={get(t,e){return Yt(t,"get",""),t[e]}};function cv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,lv),slots:t.slots,emit:t.emit,expose:e}}function Ll(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(n1(Zm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ta)return Ta[n](t)},has(e,n){return n in e||n in Ta}})):t.proxy}function uv(t){return We(t)&&"__vccOpts"in t}const hv=(t,e)=>t2(t,e,Ra),fv="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let du;const mh=typeof window<"u"&&window.trustedTypes;if(mh)try{du=mh.createPolicy("vue",{createHTML:t=>t})}catch{}const B1=du?t=>du.createHTML(t):t=>t,dv="http://www.w3.org/2000/svg",_v="http://www.w3.org/1998/Math/MathML",Ts=typeof document<"u"?document:null,vh=Ts&&Ts.createElement("template"),pv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Ts.createElementNS(dv,t):e==="mathml"?Ts.createElementNS(_v,t):n?Ts.createElement(t,{is:n}):Ts.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ts.createTextNode(t),createComment:t=>Ts.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ts.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const a=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{vh.innerHTML=B1(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const o=vh.content;if(s==="svg"||s==="mathml"){const c=o.firstChild;for(;c.firstChild;)o.appendChild(c.firstChild);o.removeChild(c)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},mv=Symbol("_vtc");function vv(t,e,n){const s=t[mv];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gh=Symbol("_vod"),gv=Symbol("_vsh"),bv=Symbol(""),yv=/(^|;)\s*display\s*:/;function Tv(t,e,n){const s=t.style,r=Dt(n);let i=!1;if(n&&!r){if(e)if(Dt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&Uo(s,o,"")}else for(const a in e)n[a]==null&&Uo(s,a,"");for(const a in n)a==="display"&&(i=!0),Uo(s,a,n[a])}else if(r){if(e!==n){const a=s[bv];a&&(n+=";"+a),s.cssText=n,i=yv.test(n)}}else e&&t.removeAttribute("style");gh in t&&(t[gh]=i?s.display:"",t[gv]&&(s.display="none"))}const bh=/\s*!important$/;function Uo(t,e,n){if(Pe(n))n.forEach(s=>Uo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Ev(t,e);bh.test(n)?t.setProperty(Gr(s),n.replace(bh,""),"important"):t[s]=n}}const yh=["Webkit","Moz","ms"],Sc={};function Ev(t,e){const n=Sc[e];if(n)return n;let s=er(e);if(s!=="filter"&&s in t)return Sc[e]=s;s=Bd(s);for(let r=0;r<yh.length;r++){const i=yh[r]+s;if(i in t)return Sc[e]=i}return e}const Th="http://www.w3.org/1999/xlink";function Eh(t,e,n,s,r,i=Mm(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Th,e.slice(6,e.length)):t.setAttributeNS(Th,e,n):n==null||i&&!Vd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":fs(n)?String(n):n)}function wh(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?B1(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(o!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Vd(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function Qs(t,e,n,s){t.addEventListener(e,n,s)}function wv(t,e,n,s){t.removeEventListener(e,n,s)}const Ah=Symbol("_vei");function Av(t,e,n,s,r=null){const i=t[Ah]||(t[Ah]={}),a=i[e];if(s&&a)a.value=s;else{const[o,c]=Sv(e);if(s){const u=i[e]=Mv(s,r);Qs(t,o,u,c)}else a&&(wv(t,o,a,c),i[e]=void 0)}}const Sh=/(?:Once|Passive|Capture)$/;function Sv(t){let e;if(Sh.test(t)){e={};let s;for(;s=t.match(Sh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gr(t.slice(2)),e]}let xc=0;const xv=Promise.resolve(),Cv=()=>xc||(xv.then(()=>xc=0),xc=Date.now());function Mv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ds(Ov(s,n.value),e,5,[s])};return n.value=t,n.attached=Cv(),n}function Ov(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const xh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Rv=(t,e,n,s,r,i)=>{const a=r==="svg";e==="class"?vv(t,s,a):e==="style"?Tv(t,n,s):Ml(e)?Bu(e)||Av(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nv(t,e,s,a))?(wh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Eh(t,e,s,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Dt(s))?wh(t,er(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Eh(t,e,s,a))};function Nv(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&xh(e)&&We(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return xh(e)&&Dt(n)?!1:e in t}const xi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>qo(e,n):e};function Iv(t){t.target.composing=!0}function Ch(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ms=Symbol("_assign"),Ws={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ms]=xi(r);const i=s||r.props&&r.props.type==="number";Qs(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),i&&(o=Zo(o)),t[Ms](o)}),n&&Qs(t,"change",()=>{t.value=t.value.trim()}),e||(Qs(t,"compositionstart",Iv),Qs(t,"compositionend",Ch),Qs(t,"change",Ch))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(t[Ms]=xi(a),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Zo(t.value):t.value,c=e??"";o!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},To={deep:!0,created(t,e,n){t[Ms]=xi(n),Qs(t,"change",()=>{const s=t._modelValue,r=Na(t),i=t.checked,a=t[Ms];if(Pe(s)){const o=$u(s,r),c=o!==-1;if(i&&!c)a(s.concat(r));else if(!i&&c){const u=[...s];u.splice(o,1),a(u)}}else if(Hi(s)){const o=new Set(s);i?o.add(r):o.delete(r),a(o)}else a(L1(t,i))})},mounted:Mh,beforeUpdate(t,e,n){t[Ms]=xi(n),Mh(t,e,n)}};function Mh(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(Pe(e))r=$u(e,s.props.value)>-1;else if(Hi(e))r=e.has(s.props.value);else{if(e===n)return;r=Ka(e,L1(t,!0))}t.checked!==r&&(t.checked=r)}const Cc={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Hi(e);Qs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Zo(Na(a)):Na(a));t[Ms](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,r1(()=>{t._assigning=!1})}),t[Ms]=xi(s)},mounted(t,{value:e}){Oh(t,e)},beforeUpdate(t,e,n){t[Ms]=xi(n)},updated(t,{value:e}){t._assigning||Oh(t,e)}};function Oh(t,e){const n=t.multiple,s=Pe(e);if(!(n&&!s&&!Hi(e))){for(let r=0,i=t.options.length;r<i;r++){const a=t.options[r],o=Na(a);if(n)if(s){const c=typeof o;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(o)):a.selected=$u(e,o)>-1}else a.selected=e.has(o);else if(Ka(Na(a),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Na(t){return"_value"in t?t._value:t.value}function L1(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const kv=["ctrl","shift","alt","meta"],Dv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kv.some(n=>t[`${n}Key`]&&!e.includes(n))},Bv=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let a=0;a<e.length;a++){const o=Dv[e[a]];if(o&&o(r,e))return}return t(r,...i)})},Lv=qt({patchProp:Rv},pv);let Rh;function Vv(){return Rh||(Rh=P2(Lv))}const Pv=(...t)=>{const e=Vv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=$v(s);if(!r)return;const i=e._component;!We(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,Fv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function Fv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $v(t){return Dt(t)?document.querySelector(t):t}const Nh="/band-cues/assets/1-_Fhpd66_.wav",Ih="/band-cues/assets/2-3ZdY-g28.wav",kh="/band-cues/assets/3-TS_UFnve.wav",Dh="/band-cues/assets/4-1pxMI5uf.wav",Bh="/band-cues/assets/5-H6F6QC97.wav",Lh="/band-cues/assets/6-BpU4GU-r.wav",Vh="/band-cues/assets/7-D8PtJjKI.wav",Ph="/band-cues/assets/AcaPella-mvD1LwpN.wav",Fh="/band-cues/assets/Band-BNLF2l1r.wav",$h="/band-cues/assets/Break-U2G04ksP.wav",Hh="/band-cues/assets/Bridge-CnH5QKib.wav",qh="/band-cues/assets/Chorus-CTj1cAMg.wav",Wh="/band-cues/assets/Count-D5VWTzFS.wav",jh="/band-cues/assets/End-DtxBnx9T.wav",Uh="/band-cues/assets/Instrumental-lWiQpMng.wav",Yh="/band-cues/assets/Intro-BsGk2r_D.wav",Gh="/band-cues/assets/KeyChange-BzT0QnyZ.wav",Xh="/band-cues/assets/Outro-OiDV6Xao.wav",Kh="/band-cues/assets/PreChorus-C0gEndEe.wav",zh="/band-cues/assets/Ready-DmkkJ_JO.wav",Zh="/band-cues/assets/Riff-UYlJ-1fP.wav",Qh="/band-cues/assets/Solo-CrGRj_82.wav",Jh="/band-cues/assets/Tag-iCaxl7_m.wav",ef="/band-cues/assets/Turn-OglyZt3i.wav",tf="/band-cues/assets/Verse-DOmUcMeR.wav",V1="14.9.17",nf=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),sf=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),_u=(t,e)=>({startTime:e,type:"setValue",value:t}),P1=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),F1=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),di=t=>t.type==="exponentialRampToValue",rl=t=>t.type==="linearRampToValue",Zs=t=>di(t)||rl(t),Ju=t=>t.type==="setValue",Es=t=>t.type==="setValueCurve",il=(t,e,n,s)=>{const r=t[e];return r===void 0?s:Zs(r)||Ju(r)?r.value:Es(r)?r.values[r.values.length-1]:F1(n,il(t,e-1,r.startTime,s),r)},rf=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:Zs(n)?[n.endTime,n.value]:Ju(n)?[n.startTime,n.value]:Es(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,il(t,e-1,n.startTime,r)],pu=t=>t.type==="cancelAndHold",mu=t=>t.type==="cancelScheduledValues",js=t=>pu(t)||mu(t)?t.cancelTime:di(t)||rl(t)?t.endTime:t.startTime,af=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,of=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Hv=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},qv=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Hv(s,r)},Eo=t=>t.type==="setTarget";class Wv{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=js(e);if(pu(e)||mu(e)){const s=this._automationEvents.findIndex(i=>mu(e)&&Es(i)?i.startTime+i.duration>=n:js(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),pu(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Zs(r)){if(i!==void 0&&Eo(i))throw new Error("The internal list is malformed.");const a=i===void 0?r.insertTime:Es(i)?i.startTime+i.duration:js(i),o=i===void 0?this._defaultValue:Es(i)?i.values[i.values.length-1]:i.value,c=di(r)?af(n,a,o,r):of(n,a,o,r),u=di(r)?nf(c,n,this._currenTime):sf(c,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Eo(i)&&this._automationEvents.push(_u(this.getValue(n),n)),i!==void 0&&Es(i)&&i.startTime+i.duration>n){const a=n-i.startTime,o=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(a*o)),u=a/(c-1)*o,f=i.values.slice(0,c);if(u<1)for(let h=1;h<c;h+=1){const O=u*h%1;f[h]=i.values[h-1]*(1-O)+i.values[h]*O}this._automationEvents[this._automationEvents.length-1]=P1(f,i.startTime,a)}}}else{const s=this._automationEvents.findIndex(a=>js(a)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&Es(r)&&js(r)+r.duration>n)return!1;const i=di(e)?nf(e.value,e.endTime,this._currenTime):rl(e)?sf(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(Es(e)&&n+e.duration>js(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>js(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];Eo(r)&&s.unshift(_u(il(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>js(a)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&Eo(i)&&(s===void 0||!Zs(s)||s.insertTime>e))return F1(e,il(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Ju(i)&&(s===void 0||!Zs(s)))return i.value;if(i!==void 0&&Es(i)&&(s===void 0||!Zs(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?qv(e,i):i.values[i.values.length-1];if(i!==void 0&&Zs(i)&&(s===void 0||!Zs(s)))return i.value;if(s!==void 0&&di(s)){const[a,o]=rf(this._automationEvents,r,i,s,this._defaultValue);return af(e,a,o,s)}if(s!==void 0&&rl(s)){const[a,o]=rf(this._automationEvents,r,i,s,this._defaultValue);return of(e,a,o,s)}return this._defaultValue}}const jv=t=>({cancelTime:t,type:"cancelAndHold"}),Uv=t=>({cancelTime:t,type:"cancelScheduledValues"}),Yv=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Gv=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Xv=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Kv=()=>new DOMException("","AbortError"),zv=t=>(e,n,[s,r,i],a)=>{t(e[r],[n,s,i],o=>o[0]===n&&o[1]===s,a)},Zv=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Qv=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ci=new WeakSet,$1=new WeakMap,e0=new WeakMap,H1=new WeakMap,t0=new WeakMap,Vl=new WeakMap,q1=new WeakMap,vu=new WeakMap,gu=new WeakMap,bu=new WeakMap,W1={construct(){return W1}},Jv=t=>{try{const e=new Proxy(t,W1);new e}catch{return!1}return!0},lf=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,cf=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(lf);for(;r!==null;){const i=r[1].slice(1,-1),a=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(a),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(lf)}return[n.join(";"),s]},uf=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},hf=t=>{if(!Jv(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},e3=(t,e,n,s,r,i,a,o,c,u,f,h,O)=>{let w=0;return(T,D,k={credentials:"omit"})=>{const I=f.get(T);if(I!==void 0&&I.has(D))return Promise.resolve();const m=u.get(T);if(m!==void 0){const l=m.get(D);if(l!==void 0)return l}const C=i(T),R=C.audioWorklet===void 0?r(D).then(([l,E])=>{const[S,g]=cf(l,E),y=`${S};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${g}
})})(window,'_AWGS')`;return n(y)}).then(()=>{const l=O._AWGS.pop();if(l===void 0)throw new SyntaxError;s(C.currentTime,C.sampleRate,()=>l(class{},void 0,(E,S)=>{if(E.trim()==="")throw e();const g=gu.get(C);if(g!==void 0){if(g.has(E))throw e();hf(S),uf(S.parameterDescriptors),g.set(E,S)}else hf(S),uf(S.parameterDescriptors),gu.set(C,new Map([[E,S]]))},C.sampleRate,void 0,void 0))}):Promise.all([r(D),Promise.resolve(t(h,h))]).then(([[l,E],S])=>{const g=w+1;w=g;const[y,_]=cf(l,E),d=`${y};((AudioWorkletProcessor,registerProcessor)=>{${_}
})(${S?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${S?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${S?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${g}',class extends AudioWorkletProcessor{process(){return !1}})`,x=new Blob([d],{type:"application/javascript; charset=utf-8"}),N=URL.createObjectURL(x);return C.audioWorklet.addModule(N,k).then(()=>{if(o(C))return C;const H=a(C);return H.audioWorklet.addModule(N,k).then(()=>H)}).then(H=>{if(c===null)throw new SyntaxError;try{new c(H,`__sac${g}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(N))});return m===void 0?u.set(T,new Map([[D,R]])):m.set(D,R),R.then(()=>{const l=f.get(T);l===void 0?f.set(T,new Set([D])):l.add(D)}).finally(()=>{const l=u.get(T);l!==void 0&&l.delete(D)}),R}},Kn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Pl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},j1=(t,e,n,s)=>{const r=Kn(t,e),i=Pl(r,a=>a[0]===n&&a[1]===s);return r.size===0&&t.delete(e),i},Qa=t=>Kn(q1,t),Mi=t=>{if(Ci.has(t))throw new Error("The AudioNode is already stored.");Ci.add(t),Qa(t).forEach(e=>e(!0))},U1=t=>"port"in t,Ja=t=>{if(!Ci.has(t))throw new Error("The AudioNode is not stored.");Ci.delete(t),Qa(t).forEach(e=>e(!1))},yu=(t,e)=>{!U1(t)&&e.every(n=>n.size===0)&&Ja(t)},t3=(t,e,n,s,r,i,a,o,c,u,f,h,O)=>{const w=new WeakMap;return(T,D,k,I,m)=>{const{activeInputs:C,passiveInputs:R}=i(D),{outputs:l}=i(T),E=o(T),S=g=>{const y=c(D),_=c(T);if(g){const b=j1(R,T,k,I);t(C,T,b,!1),!m&&!h(T)&&n(_,y,k,I),O(D)&&Mi(D)}else{const b=s(C,T,k,I);e(R,I,b,!1),!m&&!h(T)&&r(_,y,k,I);const A=a(D);if(A===0)f(D)&&yu(D,C);else{const v=w.get(D);v!==void 0&&clearTimeout(v),w.set(D,setTimeout(()=>{f(D)&&yu(D,C)},A*1e3))}}};return u(l,[D,k,I],g=>g[0]===D&&g[1]===k&&g[2]===I,!0)?(E.add(S),f(T)?t(C,T,[k,I,S],!0):e(R,I,[T,k,S],!0),!0):!1}},n3=t=>(e,n,[s,r,i],a)=>{const o=e.get(s);o===void 0?e.set(s,new Set([[r,n,i]])):t(o,[r,n,i],c=>c[0]===r&&c[1]===n,a)},s3=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},r3=t=>(e,n)=>{t(e).add(n)},i3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},a3=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=r(o),f={...i3,...c},h=s(u,f),O=i(u)?e():null;super(o,!1,h,O),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(o){this._nativeAnalyserNode.fftSize=o}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(o){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=o,!(o>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(o){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=o,!(this._nativeAnalyserNode.maxDecibels>o))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(o){this._nativeAnalyserNode.smoothingTimeConstant=o}getByteFrequencyData(o){this._nativeAnalyserNode.getByteFrequencyData(o)}getByteTimeDomainData(o){this._nativeAnalyserNode.getByteTimeDomainData(o)}getFloatFrequencyData(o){this._nativeAnalyserNode.getFloatFrequencyData(o)}getFloatTimeDomainData(o){this._nativeAnalyserNode.getFloatTimeDomainData(o)}},Gt=(t,e)=>t.context===e,o3=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,a)=>{let o=e(i);if(!Gt(o,a)){const u={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(a,u)}return s.set(a,o),await n(i,a,o),o};return{render(i,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):r(i,a)}}},al=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ms=()=>new DOMException("","IndexSizeError"),n0=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?ms():s}})(t.getChannelData)},l3={numberOfChannels:1},c3=(t,e,n,s,r,i,a,o)=>{let c=null;return class Y1{constructor(f){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:O,sampleRate:w}={...l3,...f};c===null&&(c=new r(1,1,44100));const T=s!==null&&e(i,i)?new s({length:h,numberOfChannels:O,sampleRate:w}):c.createBuffer(O,h,w);if(T.numberOfChannels===0)throw n();return typeof T.copyFromChannel!="function"?(a(T),n0(T)):e(al,()=>al(T))||o(T),t.add(T),T}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===Y1.prototype||t.has(f)}}},fn=-34028234663852886e22,Qt=-fn,Os=t=>Ci.has(t),u3={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},h3=(t,e,n,s,r,i,a,o)=>class extends t{constructor(u,f){const h=i(u),O={...u3,...f},w=r(h,O),T=a(h),D=T?e():null;super(u,!1,w,D),this._audioBufferSourceNodeRenderer=D,this._isBufferNullified=!1,this._isBufferSet=O.buffer!==null,this._nativeAudioBufferSourceNode=w,this._onended=null,this._playbackRate=n(this,T,w.playbackRate,Qt,fn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const f=typeof u=="function"?o(this,u):null;this._nativeAudioBufferSourceNode.onended=f;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===f?u:h}get playbackRate(){return this._playbackRate}start(u=0,f=0,h){if(this._nativeAudioBufferSourceNode.start(u,f,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,f]:[u,f,h]),this.context.state!=="closed"){Mi(this);const O=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",O),Os(this)&&Ja(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",O)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},f3=(t,e,n,s,r)=>()=>{const i=new WeakMap;let a=null,o=null;const c=async(u,f)=>{let h=n(u);const O=Gt(h,f);if(!O){const w={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(f,w),a!==null&&h.start(...a),o!==null&&h.stop(o)}return i.set(f,h),O?await t(f,u.playbackRate,h.playbackRate):await s(f,u.playbackRate,h.playbackRate),await r(u,f,h),h};return{set start(u){a=u},set stop(u){o=u},render(u,f){const h=i.get(f);return h!==void 0?Promise.resolve(h):c(u,f)}}},d3=t=>"playbackRate"in t,_3=t=>"frequency"in t&&"gain"in t,p3=t=>"offset"in t,m3=t=>!("frequency"in t)&&"gain"in t,v3=t=>"detune"in t&&"frequency"in t&&!("gain"in t),g3=t=>"pan"in t,en=t=>Kn($1,t),eo=t=>Kn(H1,t),Tu=(t,e)=>{const{activeInputs:n}=en(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Tu(i,[...e,t])}));const s=d3(t)?[t.playbackRate]:U1(t)?Array.from(t.parameters.values()):_3(t)?[t.Q,t.detune,t.frequency,t.gain]:p3(t)?[t.offset]:m3(t)?[t.gain]:v3(t)?[t.detune,t.frequency]:g3(t)?[t.pan]:[];for(const r of s){const i=eo(r);i!==void 0&&i.activeInputs.forEach(([a])=>Tu(a,e))}Os(t)&&Ja(t)},G1=t=>{Tu(t.destination,[])},b3=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),y3=(t,e,n,s,r,i,a,o,c)=>class extends t{constructor(f={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new c(f)}catch(T){throw T.code===12&&T.message==="sampleRate is not in range"?n():T}if(h===null)throw s();if(!b3(f.latencyHint))throw new TypeError(`The provided value '${f.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(f.sampleRate!==void 0&&h.sampleRate!==f.sampleRate)throw n();super(h,2);const{latencyHint:O}=f,{sampleRate:w}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:O==="balanced"?512/w:O==="interactive"||O===void 0?256/w:O==="playback"?1024/w:Math.max(2,Math.min(128,Math.round(O*w/128)))*128/w,this._nativeAudioContext=h,c.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const T=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",T)};h.addEventListener("statechange",T)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),G1(this)}))}createMediaElementSource(f){return new r(this,{mediaElement:f})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(f){return new a(this,{mediaStream:f})}createMediaStreamTrackSource(f){return new o(this,{mediaStreamTrack:f})}resume(){return this._state==="suspended"?new Promise((f,h)=>{const O=()=>{this._nativeAudioContext.removeEventListener("statechange",O),this._nativeAudioContext.state==="running"?f():this.resume().then(f,h)};this._nativeAudioContext.addEventListener("statechange",O)}):this._nativeAudioContext.resume().catch(f=>{throw f===void 0||f.code===15?e():f})}suspend(){return this._nativeAudioContext.suspend().catch(f=>{throw f===void 0?e():f})}},T3=(t,e,n,s,r,i,a,o)=>class extends t{constructor(u,f){const h=i(u),O=a(h),w=r(h,f,O),T=O?e(o):null;super(u,!1,w,T),this._isNodeOfNativeOfflineAudioContext=O,this._nativeAudioDestinationNode=w}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},E3=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},w3=(t,e,n,s,r,i,a,o)=>(c,u)=>{const f=u.listener,h=()=>{const l=new Float32Array(1),E=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),S=a(u);let g=!1,y=[0,0,-1,0,1,0],_=[0,0,0];const b=()=>{if(g)return;g=!0;const x=s(u,256,9,0);x.onaudioprocess=({inputBuffer:N})=>{const H=[i(N,l,0),i(N,l,1),i(N,l,2),i(N,l,3),i(N,l,4),i(N,l,5)];H.some((F,p)=>F!==y[p])&&(f.setOrientation(...H),y=H);const V=[i(N,l,6),i(N,l,7),i(N,l,8)];V.some((F,p)=>F!==_[p])&&(f.setPosition(...V),_=V)},E.connect(x)},A=x=>N=>{N!==y[x]&&(y[x]=N,f.setOrientation(...y))},v=x=>N=>{N!==_[x]&&(_[x]=N,f.setPosition(..._))},d=(x,N,H)=>{const V=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:N});V.connect(E,0,x),V.start(),Object.defineProperty(V.offset,"defaultValue",{get(){return N}});const F=t({context:c},S,V.offset,Qt,fn);return o(F,"value",p=>()=>p.call(F),p=>M=>{try{p.call(F,M)}catch(q){if(q.code!==9)throw q}b(),S&&H(M)}),F.cancelAndHoldAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.cancelAndHoldAtTime),F.cancelScheduledValues=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.cancelScheduledValues),F.exponentialRampToValueAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.exponentialRampToValueAtTime),F.linearRampToValueAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.linearRampToValueAtTime),F.setTargetAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.setTargetAtTime),F.setValueAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.setValueAtTime),F.setValueCurveAtTime=(p=>S?()=>{throw r()}:(...M)=>{const q=p.apply(F,M);return b(),q})(F.setValueCurveAtTime),F};return{forwardX:d(0,0,A(0)),forwardY:d(1,0,A(1)),forwardZ:d(2,-1,A(2)),positionX:d(6,0,v(0)),positionY:d(7,0,v(1)),positionZ:d(8,0,v(2)),upX:d(3,0,A(3)),upY:d(4,1,A(4)),upZ:d(5,0,A(5))}},{forwardX:O,forwardY:w,forwardZ:T,positionX:D,positionY:k,positionZ:I,upX:m,upY:C,upZ:R}=f.forwardX===void 0?h():f;return{get forwardX(){return O},get forwardY(){return w},get forwardZ(){return T},get positionX(){return D},get positionY(){return k},get positionZ(){return I},get upX(){return m},get upY(){return C},get upZ(){return R}}},ol=t=>"context"in t,to=t=>ol(t[0]),Xr=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},ff=(t,e,[n,s],r)=>{Xr(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},df=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Xr(i,[n,s],a=>a[0]===n,r)},qi=t=>"inputs"in t,ll=(t,e,n,s)=>{if(qi(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},X1=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},A3=(t,e,n)=>Pl(t,s=>s[0]===e&&s[1]===n),K1=(t,e)=>{if(!Qa(t).delete(e))throw new Error("Missing the expected event listener.")},z1=(t,e,n)=>{const s=Kn(t,e),r=Pl(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},cl=(t,e,n,s)=>{qi(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},lt=t=>Kn(e0,t),Ia=t=>Kn(t0,t),Vr=t=>vu.has(t),Yo=t=>!Ci.has(t),_f=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(s).connect(t.destination),o.connect(r),o.disconnect(r),s.onaudioprocess=c=>{const u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,f=>f===1)?n(!0):n(!1),o.stop(),s.onaudioprocess=null,o.disconnect(s),s.disconnect(t.destination)},o.start()}}),Mc=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},ul=t=>"context"in t,S3=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const a=ul(s)?n(s,r,i):n(s,r),o=e.get(s);return o===void 0?e.set(s,[{input:i,output:r}]):o.every(c=>c.input!==i||c.output!==r)&&o.push({input:i,output:r}),a})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[a,o]of e){const c=o.filter(u=>u.output!==s);c.length===0?e.delete(a):e.set(a,c)}else if(e.has(s))if(r===void 0)e.delete(s);else{const a=e.get(s);if(a!==void 0){const o=a.filter(c=>c.output!==r&&(c.input!==i||i===void 0));o.length===0?e.delete(s):e.set(s,o)}}for(const[a,o]of e)o.forEach(c=>{ul(a)?t.connect(a,c.output,c.input):t.connect(a,c.output)})})(t.disconnect)},x3=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=eo(e),{outputs:a}=en(t),o=Qa(t),c=u=>{const f=lt(t),h=Ia(e);if(u){const O=z1(i,t,n);ff(r,t,O,!1),!s&&!Vr(t)&&f.connect(h,n)}else{const O=A3(r,t,n);df(i,O,!1),!s&&!Vr(t)&&f.disconnect(h,n)}};return Xr(a,[e,n],u=>u[0]===e&&u[1]===n,!0)?(o.add(c),Os(t)?ff(r,t,[n,c],!0):df(i,[t,n,c],!0),!0):!1},C3=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=en(e),a=X1(r[s],t,n);return a===null?[j1(i,t,n,s)[2],!1]:[a[2],!0]},M3=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=eo(e),i=X1(s,t,n);return i===null?[z1(r,t,n)[1],!1]:[i[2],!0]},s0=(t,e,n,s,r)=>{const[i,a]=C3(t,n,s,r);if(i!==null&&(K1(t,i),a&&!e&&!Vr(t)&&cl(lt(t),lt(n),s,r)),Os(n)){const{activeInputs:o}=en(n);yu(n,o)}},r0=(t,e,n,s)=>{const[r,i]=M3(t,n,s);r!==null&&(K1(t,r),i&&!e&&!Vr(t)&&lt(t).disconnect(Ia(n),s))},O3=(t,e)=>{const n=en(t),s=[];for(const r of n.outputs)to(r)?s0(t,e,...r):r0(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},R3=(t,e,n)=>{const s=en(t),r=[];for(const i of s.outputs)i[1]===n&&(to(i)?s0(t,e,...i):r0(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},N3=(t,e,n,s,r)=>{const i=en(t);return Array.from(i.outputs).filter(a=>a[0]===n&&(s===void 0||a[1]===s)&&(r===void 0||a[2]===r)).map(a=>(to(a)?s0(t,e,...a):r0(t,e,...a),i.outputs.delete(a),a[0]))},I3=(t,e,n,s,r,i,a,o,c,u,f,h,O,w,T,D)=>class extends u{constructor(I,m,C,R){super(C),this._context=I,this._nativeAudioNode=C;const l=f(I);h(l)&&n(_f,()=>_f(l,D))!==!0&&S3(C),e0.set(this,C),q1.set(this,new Set),I.state!=="closed"&&m&&Mi(this),t(this,R,C)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(I){this._nativeAudioNode.channelCount=I}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(I){this._nativeAudioNode.channelCountMode=I}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(I){this._nativeAudioNode.channelInterpretation=I}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(I,m=0,C=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw r();const R=f(this._context),l=T(R);if(O(I)||w(I))throw i();if(ol(I)){const g=lt(I);try{const _=ll(this._nativeAudioNode,g,m,C),b=Yo(this);(l||b)&&this._nativeAudioNode.disconnect(..._),this.context.state!=="closed"&&!b&&Yo(I)&&Mi(I)}catch(_){throw _.code===12?i():_}if(e(this,I,m,C,l)){const _=c([this],I);Mc(_,s(l))}return I}const E=Ia(I);if(E.name==="playbackRate"&&E.maxValue===1024)throw a();try{this._nativeAudioNode.connect(E,m),(l||Yo(this))&&this._nativeAudioNode.disconnect(E,m)}catch(g){throw g.code===12?i():g}if(x3(this,I,m,l)){const g=c([this],I);Mc(g,s(l))}}disconnect(I,m,C){let R;const l=f(this._context),E=T(l);if(I===void 0)R=O3(this,E);else if(typeof I=="number"){if(I<0||I>=this.numberOfOutputs)throw r();R=R3(this,E,I)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||ol(I)&&C!==void 0&&(C<0||C>=I.numberOfInputs))throw r();if(R=N3(this,E,I,m,C),R.length===0)throw i()}for(const S of R){const g=c([this],S);Mc(g,o)}}},k3=(t,e,n,s,r,i,a,o,c,u,f,h,O)=>(w,T,D,k=null,I=null)=>{const m=D.value,C=new Wv(m),R=T?s(C):null,l={get defaultValue(){return m},get maxValue(){return k===null?D.maxValue:k},get minValue(){return I===null?D.minValue:I},get value(){return D.value},set value(E){D.value=E,l.setValueAtTime(E,w.context.currentTime)},cancelAndHoldAtTime(E){if(typeof D.cancelAndHoldAtTime=="function")R===null&&C.flush(w.context.currentTime),C.add(r(E)),D.cancelAndHoldAtTime(E);else{const S=Array.from(C).pop();R===null&&C.flush(w.context.currentTime),C.add(r(E));const g=Array.from(C).pop();D.cancelScheduledValues(E),S!==g&&g!==void 0&&(g.type==="exponentialRampToValue"?D.exponentialRampToValueAtTime(g.value,g.endTime):g.type==="linearRampToValue"?D.linearRampToValueAtTime(g.value,g.endTime):g.type==="setValue"?D.setValueAtTime(g.value,g.startTime):g.type==="setValueCurve"&&D.setValueCurveAtTime(g.values,g.startTime,g.duration))}return l},cancelScheduledValues(E){return R===null&&C.flush(w.context.currentTime),C.add(i(E)),D.cancelScheduledValues(E),l},exponentialRampToValueAtTime(E,S){if(E===0)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;const g=w.context.currentTime;return R===null&&C.flush(g),Array.from(C).length===0&&(C.add(u(m,g)),D.setValueAtTime(m,g)),C.add(a(E,S)),D.exponentialRampToValueAtTime(E,S),l},linearRampToValueAtTime(E,S){const g=w.context.currentTime;return R===null&&C.flush(g),Array.from(C).length===0&&(C.add(u(m,g)),D.setValueAtTime(m,g)),C.add(o(E,S)),D.linearRampToValueAtTime(E,S),l},setTargetAtTime(E,S,g){return R===null&&C.flush(w.context.currentTime),C.add(c(E,S,g)),D.setTargetAtTime(E,S,g),l},setValueAtTime(E,S){return R===null&&C.flush(w.context.currentTime),C.add(u(E,S)),D.setValueAtTime(E,S),l},setValueCurveAtTime(E,S,g){const y=E instanceof Float32Array?E:new Float32Array(E);if(h!==null&&h.name==="webkitAudioContext"){const _=S+g,b=w.context.sampleRate,A=Math.ceil(S*b),v=Math.floor(_*b),d=v-A,x=new Float32Array(d);for(let H=0;H<d;H+=1){const V=(y.length-1)/g*((A+H)/b-S),F=Math.floor(V),p=Math.ceil(V);x[H]=F===p?y[F]:(1-(V-F))*y[F]+(1-(p-V))*y[p]}R===null&&C.flush(w.context.currentTime),C.add(f(x,S,g)),D.setValueCurveAtTime(x,S,g);const N=v/b;N<_&&O(l,x[x.length-1],N),O(l,y[y.length-1],_)}else R===null&&C.flush(w.context.currentTime),C.add(f(y,S,g)),D.setValueCurveAtTime(y,S,g);return l}};return n.set(l,D),e.set(l,w),t(l,R),l},D3=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class Z1{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const B3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},L3=(t,e,n,s,r,i,a,o,c,u,f,h,O,w)=>class extends e{constructor(D,k,I){var m;const C=o(D),R=c(C),l=f({...B3,...I});O(l);const E=gu.get(C),S=E==null?void 0:E.get(k),g=R||C.state!=="closed"?C:(m=a(C))!==null&&m!==void 0?m:C,y=r(g,R?null:D.baseLatency,u,k,S,l),_=R?s(k,l,S):null;super(D,!0,y,_);const b=[];y.parameters.forEach((v,d)=>{const x=n(this,R,v);b.push([d,x])}),this._nativeAudioWorkletNode=y,this._onprocessorerror=null,this._parameters=new Z1(b),R&&t(C,this);const{activeInputs:A}=i(this);h(y,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(D){const k=typeof D=="function"?w(this,D):null;this._nativeAudioWorkletNode.onprocessorerror=k;const I=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=I!==null&&I===k?D:I}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function hl(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const a=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const Q1=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},fl=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let a=0;a<i;a+=1)r.push(new Float32Array(128));n.push(r)}return n},V3=(t,e)=>{const n=Kn(bu,t),s=lt(e);return Kn(n,s)},P3=async(t,e,n,s,r,i,a)=>{const o=e===null?Math.ceil(t.context.length/128)*128:e.length,c=s.channelCount*s.numberOfInputs,u=r.reduce((k,I)=>k+I,0),f=u===0?null:n.createBuffer(u,o,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=en(t),O=await V3(n,t),w=fl(s.numberOfInputs,s.channelCount),T=fl(s.numberOfOutputs,r),D=Array.from(t.parameters.keys()).reduce((k,I)=>({...k,[I]:new Float32Array(128)}),{});for(let k=0;k<o;k+=128){if(s.numberOfInputs>0&&e!==null)for(let I=0;I<s.numberOfInputs;I+=1)for(let m=0;m<s.channelCount;m+=1)hl(e,w[I],m,m,k);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:I},m)=>{hl(e,D,I,c+m,k)});for(let I=0;I<s.numberOfInputs;I+=1)for(let m=0;m<r[I];m+=1)T[I][m].byteLength===0&&(T[I][m]=new Float32Array(128));try{const I=w.map((C,R)=>h.activeInputs[R].size===0?[]:C),m=a(k/n.sampleRate,n.sampleRate,()=>O.process(I,T,D));if(f!==null)for(let C=0,R=0;C<s.numberOfOutputs;C+=1){for(let l=0;l<r[C];l+=1)Q1(f,T[C],l,R+l,k);R+=r[C]}if(!m)break}catch(I){t.dispatchEvent(new ErrorEvent("processorerror",{colno:I.colno,filename:I.filename,lineno:I.lineno,message:I.message}));break}}return f},F3=(t,e,n,s,r,i,a,o,c,u,f,h,O,w,T,D)=>(k,I,m)=>{const C=new WeakMap;let R=null;const l=async(E,S)=>{let g=f(E),y=null;const _=Gt(g,S),b=Array.isArray(I.outputChannelCount)?I.outputChannelCount:Array.from(I.outputChannelCount);if(h===null){const A=b.reduce((N,H)=>N+H,0),v=r(S,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),d=[];for(let N=0;N<E.numberOfOutputs;N+=1)d.push(s(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[N]}));const x=a(S,{channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation,gain:1});x.connect=e.bind(null,d),x.disconnect=c.bind(null,d),y=[v,d,x]}else _||(g=new h(S,k));if(C.set(S,y===null?g:y[2]),y!==null){if(R===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(O===null)throw new Error("Missing the native OfflineAudioContext constructor.");const H=E.channelCount*E.numberOfInputs,V=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,F=H+V;R=P3(E,F===0?null:await(async()=>{const M=new O(F,Math.ceil(E.context.length/128)*128,S.sampleRate),q=[],U=[];for(let ae=0;ae<I.numberOfInputs;ae+=1)q.push(a(M,{channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation,gain:1})),U.push(r(M,{channelCount:I.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:I.channelCount}));const fe=await Promise.all(Array.from(E.parameters.values()).map(async ae=>{const ce=i(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await w(M,ae,ce.offset),ce})),ie=s(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,H+V)});for(let ae=0;ae<I.numberOfInputs;ae+=1){q[ae].connect(U[ae]);for(let ce=0;ce<I.channelCount;ce+=1)U[ae].connect(ie,ce,ae*I.channelCount+ce)}for(const[ae,ce]of fe.entries())ce.connect(ie,0,H+ae),ce.start(0);return ie.connect(M.destination),await Promise.all(q.map(ae=>T(E,M,ae))),D(M)})(),S,I,b,m,u)}const A=await R,v=n(S,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[d,x,N]=y;A!==null&&(v.buffer=A,v.start(0)),v.connect(d);for(let H=0,V=0;H<E.numberOfOutputs;H+=1){const F=x[H];for(let p=0;p<b[H];p+=1)d.connect(F,V+p,p);V+=b[H]}return N}if(_)for(const[A,v]of E.parameters.entries())await t(S,v,g.parameters.get(A));else for(const[A,v]of E.parameters.entries())await w(S,v,g.parameters.get(A));return await T(E,S,g),g};return{render(E,S){o(S,E);const g=C.get(S);return g!==void 0?Promise.resolve(g):l(E,S)}}},$3=(t,e,n,s,r,i,a,o,c,u,f,h,O,w,T,D,k,I,m,C)=>class extends T{constructor(l,E){super(l,E),this._nativeContext=l,this._audioWorklet=t===void 0?void 0:{addModule:(S,g)=>t(this,S,g)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(l,E,S){return new n({length:E,numberOfChannels:l,sampleRate:S})}createBufferSource(){return new s(this)}createChannelMerger(l=6){return new i(this,{numberOfInputs:l})}createChannelSplitter(l=6){return new a(this,{numberOfOutputs:l})}createConstantSource(){return new o(this)}createConvolver(){return new c(this)}createDelay(l=1){return new f(this,{maxDelayTime:l})}createDynamicsCompressor(){return new h(this)}createGain(){return new O(this)}createIIRFilter(l,E){return new w(this,{feedback:E,feedforward:l})}createOscillator(){return new D(this)}createPanner(){return new k(this)}createPeriodicWave(l,E,S={disableNormalization:!1}){return new I(this,{...S,imag:E,real:l})}createStereoPanner(){return new m(this)}createWaveShaper(){return new C(this)}decodeAudioData(l,E,S){return u(this._nativeContext,l).then(g=>(typeof E=="function"&&E(g),g),g=>{throw typeof S=="function"&&S(g),g})}},H3={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},q3=(t,e,n,s,r,i,a,o)=>class extends t{constructor(u,f){const h=i(u),O={...H3,...f},w=r(h,O),T=a(h),D=T?n():null;super(u,!1,w,D),this._Q=e(this,T,w.Q,Qt,fn),this._detune=e(this,T,w.detune,1200*Math.log2(Qt),-1200*Math.log2(Qt)),this._frequency=e(this,T,w.frequency,u.sampleRate/2,0),this._gain=e(this,T,w.gain,40*Math.log10(Qt),fn),this._nativeBiquadFilterNode=w,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,f,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,f,h)}catch(O){throw O.code===11?s():O}if(u.length!==f.length||f.length!==h.length)throw s()}},W3=(t,e,n,s,r)=>()=>{const i=new WeakMap,a=async(o,c)=>{let u=n(o);const f=Gt(u,c);if(!f){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(c,h)}return i.set(c,u),f?(await t(c,o.Q,u.Q),await t(c,o.detune,u.detune),await t(c,o.frequency,u.frequency),await t(c,o.gain,u.gain)):(await s(c,o.Q,u.Q),await s(c,o.detune,u.detune),await s(c,o.frequency,u.frequency),await s(c,o.gain,u.gain)),await r(o,c,u),u};return{render(o,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):a(o,c)}}},j3=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const a=s();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(o=>(t.delete(n),e.set(n,o),o))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},U3={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Y3=(t,e,n,s,r)=>class extends t{constructor(a,o){const c=s(a),u={...U3,...o},f=n(c,u),h=r(c)?e():null;super(a,!1,f,h)}},G3=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,a)=>{let o=e(i);if(!Gt(o,a)){const u={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(a,u)}return s.set(a,o),await n(i,a,o),o};return{render(i,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):r(i,a)}}},X3={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},K3=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=s(o),f=i({...X3,...c}),h=n(u,f),O=r(u)?e():null;super(o,!1,h,O)}},z3=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,a)=>{let o=e(i);if(!Gt(o,a)){const u={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(a,u)}return s.set(a,o),await n(i,a,o),o};return{render(i,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):r(i,a)}}},Z3=t=>(e,n,s)=>t(n,e,s),Q3=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return ul(n)?i.connect(n,0,r):i.connect(n,0)},J3=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},eg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},tg=(t,e,n,s,r,i,a)=>class extends t{constructor(c,u){const f=r(c),h={...eg,...u},O=s(f,h),w=i(f),T=w?n():null;super(c,!1,O,T),this._constantSourceNodeRenderer=T,this._nativeConstantSourceNode=O,this._offset=e(this,w,O.offset,Qt,fn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeConstantSourceNode.onended=u;const f=this._nativeConstantSourceNode.onended;this._onended=f!==null&&f===u?c:f}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Mi(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Os(this)&&Ja(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},ng=(t,e,n,s,r)=>()=>{const i=new WeakMap;let a=null,o=null;const c=async(u,f)=>{let h=n(u);const O=Gt(h,f);if(!O){const w={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(f,w),a!==null&&h.start(a),o!==null&&h.stop(o)}return i.set(f,h),O?await t(f,u.offset,h.offset):await s(f,u.offset,h.offset),await r(u,f,h),h};return{set start(u){a=u},set stop(u){o=u},render(u,f){const h=i.get(f);return h!==void 0?Promise.resolve(h):c(u,f)}}},sg=t=>e=>(t[0]=e,t[0]),rg={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ig=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=s(o),f={...rg,...c},h=n(u,f),w=r(u)?e():null;super(o,!1,h,w),this._isBufferNullified=!1,this._nativeConvolverNode=h,f.buffer!==null&&i(this,f.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(o){if(this._nativeConvolverNode.buffer=o,o===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(o){this._nativeConvolverNode.normalize=o}},ag=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,a)=>{let o=e(i);if(!Gt(o,a)){const u={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(a,u)}return s.set(a,o),qi(o)?await n(i,a,o.inputs[0]):await n(i,a,o),o};return{render(i,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):r(i,a)}}},og=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},lg=()=>new DOMException("","DataCloneError"),pf=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},cg=(t,e,n,s,r,i,a,o,c,u,f)=>(h,O)=>{const w=a(h)?h:i(h);if(r.has(O)){const T=n();return Promise.reject(T)}try{r.add(O)}catch{}return e(c,()=>c(w))?w.decodeAudioData(O).then(T=>(pf(O).catch(()=>{}),e(o,()=>o(T))||f(T),t.add(T),T)):new Promise((T,D)=>{const k=async()=>{try{await pf(O)}catch{}},I=m=>{D(m),k()};try{w.decodeAudioData(O,m=>{typeof m.copyFromChannel!="function"&&(u(m),n0(m)),t.add(m),k().then(()=>T(m))},m=>{I(m===null?s():m)})}catch(m){I(m)}})},ug=(t,e,n,s,r,i,a,o)=>(c,u)=>{const f=e.get(c);if(f===void 0)throw new Error("Missing the expected cycle count.");const h=i(c.context),O=o(h);if(f===u){if(e.delete(c),!O&&a(c)){const w=s(c),{outputs:T}=n(c);for(const D of T)if(to(D)){const k=s(D[0]);t(w,k,D[1],D[2])}else{const k=r(D[0]);w.connect(k,D[1])}}}else e.set(c,f-u)},hg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},fg=(t,e,n,s,r,i,a)=>class extends t{constructor(c,u){const f=r(c),h={...hg,...u},O=s(f,h),w=i(f),T=w?n(h.maxDelayTime):null;super(c,!1,O,T),this._delayTime=e(this,w,O.delayTime),a(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},dg=(t,e,n,s,r)=>i=>{const a=new WeakMap,o=async(c,u)=>{let f=n(c);const h=Gt(f,u);if(!h){const O={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,delayTime:f.delayTime.value,maxDelayTime:i};f=e(u,O)}return a.set(u,f),h?await t(u,c.delayTime,f.delayTime):await s(u,c.delayTime,f.delayTime),await r(c,u,f),f};return{render(c,u){const f=a.get(u);return f!==void 0?Promise.resolve(f):o(c,u)}}},_g=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),pg=t=>(e,n)=>{t(e).delete(n)},mg=t=>"delayTime"in t,vg=(t,e,n)=>function s(r,i){const a=ol(i)?i:n(t,i);if(mg(a))return[];if(r[0]===a)return[r];if(r.includes(a))return[];const{outputs:o}=e(a);return Array.from(o).map(c=>s([...r,a],c[0])).reduce((c,u)=>c.concat(u),[])},wo=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},gg=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?wo(t,e,n).disconnect():ul(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?wo(t,e,s).disconnect(n,0):wo(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):wo(t,e,s).disconnect(n,0),bg={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},yg=(t,e,n,s,r,i,a,o)=>class extends t{constructor(u,f){const h=i(u),O={...bg,...f},w=s(h,O),T=a(h),D=T?n():null;super(u,!1,w,D),this._attack=e(this,T,w.attack),this._knee=e(this,T,w.knee),this._nativeDynamicsCompressorNode=w,this._ratio=e(this,T,w.ratio),this._release=e(this,T,w.release),this._threshold=e(this,T,w.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const f=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=f,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const f=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=f,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Tg=(t,e,n,s,r)=>()=>{const i=new WeakMap,a=async(o,c)=>{let u=n(o);const f=Gt(u,c);if(!f){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(c,h)}return i.set(c,u),f?(await t(c,o.attack,u.attack),await t(c,o.knee,u.knee),await t(c,o.ratio,u.ratio),await t(c,o.release,u.release),await t(c,o.threshold,u.threshold)):(await s(c,o.attack,u.attack),await s(c,o.knee,u.knee),await s(c,o.ratio,u.ratio),await s(c,o.release,u.release),await s(c,o.threshold,u.threshold)),await r(o,c,u),u};return{render(o,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):a(o,c)}}},Eg=()=>new DOMException("","EncodingError"),wg=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(a),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(o)};t.onerror=(f,h,O,w,T)=>{if(h===o||h===t.location.href&&O===1&&w===1)return u(),s(T),!1;if(c!==null)return c(f,h,O,w,T)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=o,i.type="module",r.appendChild(i)}}),Ag=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},Sg=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},xg=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},Cg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Mg=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=r(o),f={...Cg,...c},h=s(u,f),O=i(u),w=O?n():null;super(o,!1,h,w),this._gain=e(this,O,h.gain,Qt,fn)}get gain(){return this._gain}},Og=(t,e,n,s,r)=>()=>{const i=new WeakMap,a=async(o,c)=>{let u=n(o);const f=Gt(u,c);if(!f){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(c,h)}return i.set(c,u),f?await t(c,o.gain,u.gain):await s(c,o.gain,u.gain),await r(o,c,u),u};return{render(o,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):a(o,c)}}},Rg=(t,e)=>n=>e(t,n),Ng=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Ig=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},kg=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Dg=t=>e=>t.get(e),$t=()=>new DOMException("","InvalidStateError"),Bg=t=>e=>{const n=t.get(e);if(n===void 0)throw $t();return n},Lg=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},Vg=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Fl=()=>new DOMException("","InvalidAccessError"),Pg=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Fl();return e.call(t,n,s,r)})(t.getFrequencyResponse)},Fg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},$g=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=s(o),f=r(u),h={...Fg,...c},O=e(u,f?null:o.baseLatency,h),w=f?n(h.feedback,h.feedforward):null;super(o,!1,O,w),Pg(O),this._nativeIIRFilterNode=O,i(this,1)}getFrequencyResponse(o,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(o,c,u)}},J1=(t,e,n,s,r,i,a,o,c,u,f)=>{const h=u.length;let O=o;for(let w=0;w<h;w+=1){let T=n[0]*u[w];for(let D=1;D<r;D+=1){const k=O-D&c-1;T+=n[D]*i[k],T-=t[D]*a[k]}for(let D=r;D<s;D+=1)T+=n[D]*i[O-D&c-1];for(let D=r;D<e;D+=1)T-=t[D]*a[O-D&c-1];i[O]=u[w],a[O]=T,O=O+1&c-1,f[w]=T}return O},Hg=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),a=r.length,o=i.length,c=Math.min(a,o);if(r[0]!==1){for(let T=0;T<a;T+=1)i[T]/=r[0];for(let T=1;T<o;T+=1)r[T]/=r[0]}const u=32,f=new Float32Array(u),h=new Float32Array(u),O=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),w=t.numberOfChannels;for(let T=0;T<w;T+=1){const D=t.getChannelData(T),k=O.getChannelData(T);f.fill(0),h.fill(0),J1(r,a,i,o,c,f,h,0,u,D,k)}return O},qg=(t,e,n,s,r)=>(i,a)=>{const o=new WeakMap;let c=null;const u=async(f,h)=>{let O=null,w=e(f);const T=Gt(w,h);if(h.createIIRFilter===void 0?O=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):T||(w=h.createIIRFilter(a,i)),o.set(h,O===null?w:O),O!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new n(f.context.destination.channelCount,f.context.length,h.sampleRate);c=(async()=>{await s(f,k,k.destination);const I=await r(k);return Hg(I,h,i,a)})()}const D=await c;return O.buffer=D,O.start(0),O}return await s(f,h,w),w};return{render(f,h){const O=o.get(h);return O!==void 0?Promise.resolve(O):u(f,h)}}},Wg=(t,e,n,s,r,i)=>a=>(o,c)=>{const u=t.get(o);if(u===void 0){if(!a&&i(o)){const f=s(o),{outputs:h}=n(o);for(const O of h)if(to(O)){const w=s(O[0]);e(f,w,O[1],O[2])}else{const w=r(O[0]);f.disconnect(w,O[1])}}t.set(o,c)}else t.set(o,u+c)},jg=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Ug=(t,e)=>n=>t.has(n)||e(n),Yg=(t,e)=>n=>t.has(n)||e(n),Gg=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Xg=t=>e=>t!==null&&e instanceof t,Kg=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,zg=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Zg=(t,e)=>n=>t(n)||e(n),Qg=t=>e=>t!==null&&e instanceof t,Jg=t=>t!==null&&t.isSecureContext,e4=(t,e,n,s)=>class extends t{constructor(i,a){const o=n(i),c=e(o,a);if(s(o))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},t4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},n4=(t,e,n,s)=>class extends t{constructor(i,a){const o=n(i);if(s(o))throw new TypeError;const c={...t4,...a},u=e(o,c);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},s4=(t,e,n,s)=>class extends t{constructor(i,a){const o=n(i),c=e(o,a);if(s(o))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},r4=(t,e,n)=>class extends t{constructor(r,i){const a=n(r),o=e(a,i);super(r,!0,o,null)}},i4=(t,e,n,s,r,i)=>class extends n{constructor(o,c){super(o),this._nativeContext=o,Vl.set(this,o),s(o)&&r.set(o,new Set),this._destination=new t(this,c),this._listener=e(this,o),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(o){const c=typeof o=="function"?i(this,o):null;this._nativeContext.onstatechange=c;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?o:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ka=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},a4=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(a=>(o,c=0,u=0)=>{const f=i.size===0;if(e(o))return a.call(n,o,c,u),t(i,[o,c,u],h=>h[0]===o&&h[1]===c&&h[2]===u,!0),f&&s(),o;a.call(n,o,c),t(i,[o,c],h=>h[0]===o&&h[1]===c,!0),f&&s()})(n.connect),n.disconnect=(a=>(o,c,u)=>{const f=i.size>0;if(o===void 0)a.apply(n),i.clear();else if(typeof o=="number"){a.call(n,o);for(const O of i)O[1]===o&&i.delete(O)}else{e(o)?a.call(n,o,c,u):a.call(n,o,c);for(const O of i)O[0]===o&&(c===void 0||O[1]===c)&&(u===void 0||O[2]===u)&&i.delete(O)}const h=i.size===0;f&&h&&r()})(n.disconnect),n},_t=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Lt=(t,e)=>{_t(t,e,"channelCount"),_t(t,e,"channelCountMode"),_t(t,e,"channelInterpretation")},mf=t=>typeof t.getFloatTimeDomainData=="function",o4=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},l4=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(Lt(r,s),!(s.maxDecibels>s.minDecibels))throw e();return _t(r,s,"fftSize"),_t(r,s,"maxDecibels"),_t(r,s,"minDecibels"),_t(r,s,"smoothingTimeConstant"),t(mf,()=>mf(r))||o4(r),r},c4=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,wt=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},u4=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw $t();e.call(t,s,r,i),n=!0}})(t.start)},i0=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},a0=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},h4=(t,e,n,s,r,i,a,o,c,u,f)=>(h,O)=>{const w=h.createBufferSource();return Lt(w,O),wt(w,O,"playbackRate"),_t(w,O,"buffer"),_t(w,O,"loop"),_t(w,O,"loopEnd"),_t(w,O,"loopStart"),e(n,()=>n(h))||u4(w),e(s,()=>s(h))||c(w),e(r,()=>r(h))||u(w,h),e(i,()=>i(h))||i0(w),e(a,()=>a(h))||f(w,h),e(o,()=>o(h))||a0(w),t(h,w),w},f4=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,d4=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const a=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(a,"channelCount",o=>()=>o.call(a),o=>c=>{o.call(a,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(a,"channelCountMode",o=>()=>o.call(a),o=>c=>{o.call(a,c),i.channelCountMode=c}),e(a,"channelInterpretation",o=>()=>o.call(a),o=>c=>{o.call(a,c),i.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},_4=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,p4=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},m4=(t,e,n,s,r)=>(i,a,o,c,u,f)=>{if(o!==null)try{const h=new o(i,c,f),O=new Map;let w=null;if(Object.defineProperties(h,{channelCount:{get:()=>f.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>w,set:T=>{typeof w=="function"&&h.removeEventListener("processorerror",w),w=typeof T=="function"?T:null,typeof w=="function"&&h.addEventListener("processorerror",w)}}}),h.addEventListener=(T=>(...D)=>{if(D[0]==="processorerror"){const k=typeof D[1]=="function"?D[1]:typeof D[1]=="object"&&D[1]!==null&&typeof D[1].handleEvent=="function"?D[1].handleEvent:null;if(k!==null){const I=O.get(D[1]);I!==void 0?D[1]=I:(D[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),k(m)):k(new ErrorEvent(D[0],{...m}))},O.set(k,D[1]))}}return T.call(h,"error",D[1],D[2]),T.call(h,...D)})(h.addEventListener),h.removeEventListener=(T=>(...D)=>{if(D[0]==="processorerror"){const k=O.get(D[1]);k!==void 0&&(O.delete(D[1]),D[1]=k)}return T.call(h,"error",D[1],D[2]),T.call(h,D[0],D[1],D[2])})(h.removeEventListener),f.numberOfOutputs!==0){const T=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(T).connect(i.destination),r(h,()=>T.disconnect(),()=>T.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return p4(f),e(i,a,u,f)},e_=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),v4=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),g4=async(t,e)=>{const n=await v4(e);return new t(n)},b4=(t,e,n,s)=>{let r=bu.get(t);r===void 0&&(r=new WeakMap,bu.set(t,r));const i=g4(n,s);return r.set(e,i),i},y4=(t,e,n,s,r,i,a,o,c,u,f,h,O)=>(w,T,D,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw c();const I=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(I.some(j=>j<1))throw c();if(I.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw c();const m=k.channelCount*k.numberOfInputs,C=I.reduce((j,Z)=>j+Z,0),R=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length;if(m+R>6||C>6)throw c();const l=new MessageChannel,E=[],S=[];for(let j=0;j<k.numberOfInputs;j+=1)E.push(a(w,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),S.push(r(w,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const g=[];if(D.parameterDescriptors!==void 0)for(const{defaultValue:j,maxValue:Z,minValue:te,name:oe}of D.parameterDescriptors){const he=i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[oe]!==void 0?k.parameterData[oe]:j===void 0?0:j});Object.defineProperties(he.offset,{defaultValue:{get:()=>j===void 0?0:j},maxValue:{get:()=>Z===void 0?Qt:Z},minValue:{get:()=>te===void 0?fn:te}}),g.push(he)}const y=s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+R)}),_=e_(T,w.sampleRate),b=o(w,_,m+R,Math.max(1,C)),A=r(w,{channelCount:Math.max(1,C),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,C)}),v=[];for(let j=0;j<k.numberOfOutputs;j+=1)v.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[j]}));for(let j=0;j<k.numberOfInputs;j+=1){E[j].connect(S[j]);for(let Z=0;Z<k.channelCount;Z+=1)S[j].connect(y,Z,j*k.channelCount+Z)}const d=new Z1(D.parameterDescriptors===void 0?[]:D.parameterDescriptors.map(({name:j},Z)=>{const te=g[Z];return te.connect(y,0,m+Z),te.start(0),[j,te.offset]}));y.connect(b);let x=k.channelInterpretation,N=null;const H=k.numberOfOutputs===0?[b]:v,V={get bufferSize(){return _},get channelCount(){return k.channelCount},set channelCount(j){throw n()},get channelCountMode(){return k.channelCountMode},set channelCountMode(j){throw n()},get channelInterpretation(){return x},set channelInterpretation(j){for(const Z of E)Z.channelInterpretation=j;x=j},get context(){return b.context},get inputs(){return E},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return N},set onprocessorerror(j){typeof N=="function"&&V.removeEventListener("processorerror",N),N=typeof j=="function"?j:null,typeof N=="function"&&V.addEventListener("processorerror",N)},get parameters(){return d},get port(){return l.port2},addEventListener(...j){return b.addEventListener(j[0],j[1],j[2])},connect:t.bind(null,H),disconnect:u.bind(null,H),dispatchEvent(...j){return b.dispatchEvent(j[0])},removeEventListener(...j){return b.removeEventListener(j[0],j[1],j[2])}},F=new Map;l.port1.addEventListener=(j=>(...Z)=>{if(Z[0]==="message"){const te=typeof Z[1]=="function"?Z[1]:typeof Z[1]=="object"&&Z[1]!==null&&typeof Z[1].handleEvent=="function"?Z[1].handleEvent:null;if(te!==null){const oe=F.get(Z[1]);oe!==void 0?Z[1]=oe:(Z[1]=he=>{f(w.currentTime,w.sampleRate,()=>te(he))},F.set(te,Z[1]))}}return j.call(l.port1,Z[0],Z[1],Z[2])})(l.port1.addEventListener),l.port1.removeEventListener=(j=>(...Z)=>{if(Z[0]==="message"){const te=F.get(Z[1]);te!==void 0&&(F.delete(Z[1]),Z[1]=te)}return j.call(l.port1,Z[0],Z[1],Z[2])})(l.port1.removeEventListener);let p=null;Object.defineProperty(l.port1,"onmessage",{get:()=>p,set:j=>{typeof p=="function"&&l.port1.removeEventListener("message",p),p=typeof j=="function"?j:null,typeof p=="function"&&(l.port1.addEventListener("message",p),l.port1.start())}}),D.prototype.port=l.port1;let M=null;b4(w,V,D,k).then(j=>M=j);const U=fl(k.numberOfInputs,k.channelCount),fe=fl(k.numberOfOutputs,I),ie=D.parameterDescriptors===void 0?[]:D.parameterDescriptors.reduce((j,{name:Z})=>({...j,[Z]:new Float32Array(128)}),{});let ae=!0;const ce=()=>{k.numberOfOutputs>0&&b.disconnect(A);for(let j=0,Z=0;j<k.numberOfOutputs;j+=1){const te=v[j];for(let oe=0;oe<I[j];oe+=1)A.disconnect(te,Z+oe,oe);Z+=I[j]}},ue=new Map;b.onaudioprocess=({inputBuffer:j,outputBuffer:Z})=>{if(M!==null){const te=h(V);for(let oe=0;oe<_;oe+=128){for(let he=0;he<k.numberOfInputs;he+=1)for(let le=0;le<k.channelCount;le+=1)hl(j,U[he],le,le,oe);D.parameterDescriptors!==void 0&&D.parameterDescriptors.forEach(({name:he},le)=>{hl(j,ie,he,m+le,oe)});for(let he=0;he<k.numberOfInputs;he+=1)for(let le=0;le<I[he];le+=1)fe[he][le].byteLength===0&&(fe[he][le]=new Float32Array(128));try{const he=U.map((pe,_e)=>{if(te[_e].size>0)return ue.set(_e,_/128),pe;const Ee=ue.get(_e);return Ee===void 0?[]:(pe.every(Oe=>Oe.every(Ie=>Ie===0))&&(Ee===1?ue.delete(_e):ue.set(_e,Ee-1)),pe)});ae=f(w.currentTime+oe/w.sampleRate,w.sampleRate,()=>M.process(he,fe,ie));for(let pe=0,_e=0;pe<k.numberOfOutputs;pe+=1){for(let Re=0;Re<I[pe];Re+=1)Q1(Z,fe[pe],Re,_e+Re,oe);_e+=I[pe]}}catch(he){ae=!1,V.dispatchEvent(new ErrorEvent("processorerror",{colno:he.colno,filename:he.filename,lineno:he.lineno,message:he.message}))}if(!ae){for(let he=0;he<k.numberOfInputs;he+=1){E[he].disconnect(S[he]);for(let le=0;le<k.channelCount;le+=1)S[oe].disconnect(y,le,he*k.channelCount+le)}if(D.parameterDescriptors!==void 0){const he=D.parameterDescriptors.length;for(let le=0;le<he;le+=1){const pe=g[le];pe.disconnect(y,0,m+le),pe.stop()}}y.disconnect(b),b.onaudioprocess=null,we?ce():Xe();break}}}};let we=!1;const de=a(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ve=()=>b.connect(de).connect(w.destination),Xe=()=>{b.disconnect(de),de.disconnect()},$=()=>{if(ae){Xe(),k.numberOfOutputs>0&&b.connect(A);for(let j=0,Z=0;j<k.numberOfOutputs;j+=1){const te=v[j];for(let oe=0;oe<I[j];oe+=1)A.connect(te,Z+oe,oe);Z+=I[j]}}we=!0},Y=()=>{ae&&(Ve(),ce()),we=!1};return Ve(),O(V,$,Y)},t_=(t,e)=>{const n=t.createBiquadFilter();return Lt(n,e),wt(n,e,"Q"),wt(n,e,"detune"),wt(n,e,"frequency"),wt(n,e,"gain"),_t(n,e,"type"),n},T4=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Lt(r,s),r},E4=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw $t()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw $t()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw $t()}})},no=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Lt(n,e),E4(n),n},w4=(t,e,n,s,r)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const o=i.createConstantSource();return Lt(o,a),wt(o,a,"offset"),e(s,()=>s(i))||i0(o),e(r,()=>r(i))||a0(o),t(i,o),o},Wi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),A4=(t,e,n,s)=>(r,{offset:i,...a})=>{const o=r.createBuffer(1,2,44100),c=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...a,gain:i}),f=o.getChannelData(0);f[0]=1,f[1]=1,c.buffer=o,c.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(T){u.channelCount=T},get channelCountMode(){return u.channelCountMode},set channelCountMode(T){u.channelCountMode=T},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(T){u.channelInterpretation=T},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(T){c.onended=T},addEventListener(...T){return c.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return c.dispatchEvent(T[0])},removeEventListener(...T){return c.removeEventListener(T[0],T[1],T[2])},start(T=0){c.start.call(c,T)},stop(T=0){c.stop.call(c,T)}},O=()=>c.connect(u),w=()=>c.disconnect(u);return t(r,c),s(Wi(h,u),O,w)},S4=(t,e)=>(n,s)=>{const r=n.createConvolver();if(Lt(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),_t(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>a=>{if(a>2)throw t();return i.call(r,a)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>a=>{if(a==="max")throw t();return i.call(r,a)}),r},n_=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Lt(n,e),wt(n,e,"delayTime"),n},x4=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Lt(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return wt(s,n,"attack"),wt(s,n,"knee"),wt(s,n,"ratio"),wt(s,n,"release"),wt(s,n,"threshold"),s},pn=(t,e)=>{const n=t.createGain();return Lt(n,e),wt(n,e,"gain"),n},C4=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Lt(r,s),r};function M4(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function O4(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function vf(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=O4(n,e),n[0]+=t[s];return n}const R4=(t,e,n,s)=>(r,i,{channelCount:a,channelCountMode:o,channelInterpretation:c,feedback:u,feedforward:f})=>{const h=e_(i,r.sampleRate),O=u instanceof Float64Array?u:new Float64Array(u),w=f instanceof Float64Array?f:new Float64Array(f),T=O.length,D=w.length,k=Math.min(T,D);if(T===0||T>20)throw s();if(O[0]===0)throw e();if(D===0||D>20)throw s();if(w[0]===0)throw e();if(O[0]!==1){for(let g=0;g<D;g+=1)w[g]/=O[0];for(let g=1;g<T;g+=1)O[g]/=O[0]}const I=n(r,h,a,a);I.channelCount=a,I.channelCountMode=o,I.channelInterpretation=c;const m=32,C=[],R=[],l=[];for(let g=0;g<a;g+=1){C.push(0);const y=new Float32Array(m),_=new Float32Array(m);y.fill(0),_.fill(0),R.push(y),l.push(_)}I.onaudioprocess=g=>{const y=g.inputBuffer,_=g.outputBuffer,b=y.numberOfChannels;for(let A=0;A<b;A+=1){const v=y.getChannelData(A),d=_.getChannelData(A);C[A]=J1(O,T,w,D,k,R[A],l[A],C[A],m,v,d)}};const E=r.sampleRate/2;return Wi({get bufferSize(){return h},get channelCount(){return I.channelCount},set channelCount(g){I.channelCount=g},get channelCountMode(){return I.channelCountMode},set channelCountMode(g){I.channelCountMode=g},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(g){I.channelInterpretation=g},get context(){return I.context},get inputs(){return[I]},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},addEventListener(...g){return I.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return I.dispatchEvent(g[0])},getFrequencyResponse(g,y,_){if(g.length!==y.length||y.length!==_.length)throw t();const b=g.length;for(let A=0;A<b;A+=1){const v=-Math.PI*(g[A]/E),d=[Math.cos(v),Math.sin(v)],x=vf(w,d),N=vf(O,d),H=M4(x,N);y[A]=Math.sqrt(H[0]*H[0]+H[1]*H[1]),_[A]=Math.atan2(H[1],H[0])}},removeEventListener(...g){return I.removeEventListener(g[0],g[1],g[2])}},I)},N4=(t,e)=>t.createMediaElementSource(e.mediaElement),I4=(t,e)=>{const n=t.createMediaStreamDestination();return Lt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},k4=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},D4=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},B4=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,L4=(t,e,n,s,r,i)=>(a,o)=>{const c=a.createOscillator();return Lt(c,o),wt(c,o,"detune"),wt(c,o,"frequency"),o.periodicWave!==void 0?c.setPeriodicWave(o.periodicWave):_t(c,o,"type"),e(n,()=>n(a))||i0(c),e(s,()=>s(a))||i(c,a),e(r,()=>r(a))||a0(c),t(a,c),c},V4=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Lt(s,n),wt(s,n,"orientationX"),wt(s,n,"orientationY"),wt(s,n,"orientationZ"),wt(s,n,"positionX"),wt(s,n,"positionY"),wt(s,n,"positionZ"),_t(s,n,"coneInnerAngle"),_t(s,n,"coneOuterAngle"),_t(s,n,"coneOuterGain"),_t(s,n,"distanceModel"),_t(s,n,"maxDistance"),_t(s,n,"panningModel"),_t(s,n,"refDistance"),_t(s,n,"rolloffFactor"),s)},P4=(t,e,n,s,r,i,a,o,c,u)=>(f,{coneInnerAngle:h,coneOuterAngle:O,coneOuterGain:w,distanceModel:T,maxDistance:D,orientationX:k,orientationY:I,orientationZ:m,panningModel:C,positionX:R,positionY:l,positionZ:E,refDistance:S,rolloffFactor:g,...y})=>{const _=f.createPanner();if(y.channelCount>2||y.channelCountMode==="max")throw a();Lt(_,y);const b={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(f,{...b,channelInterpretation:"speakers",numberOfInputs:6}),v=s(f,{...y,gain:1}),d=s(f,{...b,gain:1}),x=s(f,{...b,gain:0}),N=s(f,{...b,gain:0}),H=s(f,{...b,gain:0}),V=s(f,{...b,gain:0}),F=s(f,{...b,gain:0}),p=r(f,256,6,1),M=i(f,{...b,curve:new Float32Array([1,1]),oversample:"none"});let q=[k,I,m],U=[R,l,E];const fe=new Float32Array(1);p.onaudioprocess=({inputBuffer:ue})=>{const we=[c(ue,fe,0),c(ue,fe,1),c(ue,fe,2)];we.some((Ve,Xe)=>Ve!==q[Xe])&&(_.setOrientation(...we),q=we);const de=[c(ue,fe,3),c(ue,fe,4),c(ue,fe,5)];de.some((Ve,Xe)=>Ve!==U[Xe])&&(_.setPosition(...de),U=de)},Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(ue){if(ue>2)throw a();v.channelCount=ue,_.channelCount=ue},get channelCountMode(){return _.channelCountMode},set channelCountMode(ue){if(ue==="max")throw a();v.channelCountMode=ue,_.channelCountMode=ue},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(ue){v.channelInterpretation=ue,_.channelInterpretation=ue},get coneInnerAngle(){return _.coneInnerAngle},set coneInnerAngle(ue){_.coneInnerAngle=ue},get coneOuterAngle(){return _.coneOuterAngle},set coneOuterAngle(ue){_.coneOuterAngle=ue},get coneOuterGain(){return _.coneOuterGain},set coneOuterGain(ue){if(ue<0||ue>1)throw e();_.coneOuterGain=ue},get context(){return _.context},get distanceModel(){return _.distanceModel},set distanceModel(ue){_.distanceModel=ue},get inputs(){return[v]},get maxDistance(){return _.maxDistance},set maxDistance(ue){if(ue<0)throw new RangeError;_.maxDistance=ue},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get orientationX(){return d.gain},get orientationY(){return x.gain},get orientationZ(){return N.gain},get panningModel(){return _.panningModel},set panningModel(ue){_.panningModel=ue},get positionX(){return H.gain},get positionY(){return V.gain},get positionZ(){return F.gain},get refDistance(){return _.refDistance},set refDistance(ue){if(ue<0)throw new RangeError;_.refDistance=ue},get rolloffFactor(){return _.rolloffFactor},set rolloffFactor(ue){if(ue<0)throw new RangeError;_.rolloffFactor=ue},addEventListener(...ue){return v.addEventListener(ue[0],ue[1],ue[2])},dispatchEvent(...ue){return v.dispatchEvent(ue[0])},removeEventListener(...ue){return v.removeEventListener(ue[0],ue[1],ue[2])}};h!==ie.coneInnerAngle&&(ie.coneInnerAngle=h),O!==ie.coneOuterAngle&&(ie.coneOuterAngle=O),w!==ie.coneOuterGain&&(ie.coneOuterGain=w),T!==ie.distanceModel&&(ie.distanceModel=T),D!==ie.maxDistance&&(ie.maxDistance=D),k!==ie.orientationX.value&&(ie.orientationX.value=k),I!==ie.orientationY.value&&(ie.orientationY.value=I),m!==ie.orientationZ.value&&(ie.orientationZ.value=m),C!==ie.panningModel&&(ie.panningModel=C),R!==ie.positionX.value&&(ie.positionX.value=R),l!==ie.positionY.value&&(ie.positionY.value=l),E!==ie.positionZ.value&&(ie.positionZ.value=E),S!==ie.refDistance&&(ie.refDistance=S),g!==ie.rolloffFactor&&(ie.rolloffFactor=g),(q[0]!==1||q[1]!==0||q[2]!==0)&&_.setOrientation(...q),(U[0]!==0||U[1]!==0||U[2]!==0)&&_.setPosition(...U);const ae=()=>{v.connect(_),t(v,M,0,0),M.connect(d).connect(A,0,0),M.connect(x).connect(A,0,1),M.connect(N).connect(A,0,2),M.connect(H).connect(A,0,3),M.connect(V).connect(A,0,4),M.connect(F).connect(A,0,5),A.connect(p).connect(f.destination)},ce=()=>{v.disconnect(_),o(v,M,0,0),M.disconnect(d),d.disconnect(A),M.disconnect(x),x.disconnect(A),M.disconnect(N),N.disconnect(A),M.disconnect(H),H.disconnect(A),M.disconnect(V),V.disconnect(A),M.disconnect(F),F.disconnect(A),A.disconnect(p),p.disconnect(f.destination)};return u(Wi(ie,_),ae,ce)},F4=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),a=r instanceof Float32Array?r:new Float32Array(r),o=e.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return o},so=(t,e,n,s)=>t.createScriptProcessor(e,n,s),$4=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return Lt(i,s),wt(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:a=>{if(a!==r)throw e()}}),i},H4=(t,e,n,s,r,i)=>{const o=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},f={...u,oversample:"none"},h=(T,D,k,I)=>{const m=new Float32Array(16385),C=new Float32Array(16385);for(let y=0;y<16385;y+=1){const _=y/16384*c;m[y]=Math.cos(_),C[y]=Math.sin(_)}const R=n(T,{...u,gain:0}),l=s(T,{...f,curve:m}),E=s(T,{...f,curve:o}),S=n(T,{...u,gain:0}),g=s(T,{...f,curve:C});return{connectGraph(){D.connect(R),D.connect(E.inputs===void 0?E:E.inputs[0]),D.connect(S),E.connect(k),k.connect(l.inputs===void 0?l:l.inputs[0]),k.connect(g.inputs===void 0?g:g.inputs[0]),l.connect(R.gain),g.connect(S.gain),R.connect(I,0,0),S.connect(I,0,1)},disconnectGraph(){D.disconnect(R),D.disconnect(E.inputs===void 0?E:E.inputs[0]),D.disconnect(S),E.disconnect(k),k.disconnect(l.inputs===void 0?l:l.inputs[0]),k.disconnect(g.inputs===void 0?g:g.inputs[0]),l.disconnect(R.gain),g.disconnect(S.gain),R.disconnect(I,0,0),S.disconnect(I,0,1)}}},O=(T,D,k,I)=>{const m=new Float32Array(16385),C=new Float32Array(16385),R=new Float32Array(16385),l=new Float32Array(16385),E=Math.floor(16385/2);for(let H=0;H<16385;H+=1)if(H>E){const V=(H-E)/(16384-E)*c;m[H]=Math.cos(V),C[H]=Math.sin(V),R[H]=0,l[H]=1}else{const V=H/(16384-E)*c;m[H]=1,C[H]=0,R[H]=Math.cos(V),l[H]=Math.sin(V)}const S=e(T,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=n(T,{...u,gain:0}),y=s(T,{...f,curve:m}),_=n(T,{...u,gain:0}),b=s(T,{...f,curve:C}),A=s(T,{...f,curve:o}),v=n(T,{...u,gain:0}),d=s(T,{...f,curve:R}),x=n(T,{...u,gain:0}),N=s(T,{...f,curve:l});return{connectGraph(){D.connect(S),D.connect(A.inputs===void 0?A:A.inputs[0]),S.connect(g,0),S.connect(_,0),S.connect(v,1),S.connect(x,1),A.connect(k),k.connect(y.inputs===void 0?y:y.inputs[0]),k.connect(b.inputs===void 0?b:b.inputs[0]),k.connect(d.inputs===void 0?d:d.inputs[0]),k.connect(N.inputs===void 0?N:N.inputs[0]),y.connect(g.gain),b.connect(_.gain),d.connect(v.gain),N.connect(x.gain),g.connect(I,0,0),v.connect(I,0,0),_.connect(I,0,1),x.connect(I,0,1)},disconnectGraph(){D.disconnect(S),D.disconnect(A.inputs===void 0?A:A.inputs[0]),S.disconnect(g,0),S.disconnect(_,0),S.disconnect(v,1),S.disconnect(x,1),A.disconnect(k),k.disconnect(y.inputs===void 0?y:y.inputs[0]),k.disconnect(b.inputs===void 0?b:b.inputs[0]),k.disconnect(d.inputs===void 0?d:d.inputs[0]),k.disconnect(N.inputs===void 0?N:N.inputs[0]),y.disconnect(g.gain),b.disconnect(_.gain),d.disconnect(v.gain),N.disconnect(x.gain),g.disconnect(I,0,0),v.disconnect(I,0,0),_.disconnect(I,0,1),x.disconnect(I,0,1)}}},w=(T,D,k,I,m)=>{if(D===1)return h(T,k,I,m);if(D===2)return O(T,k,I,m);throw r()};return(T,{channelCount:D,channelCountMode:k,pan:I,...m})=>{if(k==="max")throw r();const C=t(T,{...m,channelCount:1,channelCountMode:k,numberOfInputs:2}),R=n(T,{...m,channelCount:D,channelCountMode:k,gain:1}),l=n(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:I});let{connectGraph:E,disconnectGraph:S}=w(T,D,R,l,C);Object.defineProperty(l.gain,"defaultValue",{get:()=>0}),Object.defineProperty(l.gain,"maxValue",{get:()=>1}),Object.defineProperty(l.gain,"minValue",{get:()=>-1});const g={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(A){R.channelCount!==A&&(y&&S(),{connectGraph:E,disconnectGraph:S}=w(T,A,R,l,C),y&&E()),R.channelCount=A},get channelCountMode(){return R.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw r();R.channelCountMode=A},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(A){R.channelInterpretation=A},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return l.gain},addEventListener(...A){return R.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return R.dispatchEvent(A[0])},removeEventListener(...A){return R.removeEventListener(A[0],A[1],A[2])}};let y=!1;const _=()=>{E(),y=!0},b=()=>{S(),y=!1};return i(Wi(g,C),_,b)}},q4=(t,e,n,s,r,i,a)=>(o,c)=>{const u=o.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&o.createGain().gain.automationRate===void 0)return n(o,c);Lt(u,c);const f=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(f!==null&&f.length<2)throw e();_t(u,{curve:f},"curve"),_t(u,c,"oversample");let h=null,O=!1;return a(u,"curve",D=>()=>D.call(u),D=>k=>(D.call(u,k),O&&(s(k)&&h===null?h=t(o,u):!s(k)&&h!==null&&(h(),h=null)),k)),r(u,()=>{O=!0,s(u.curve)&&(h=t(o,u))},()=>{O=!1,h!==null&&(h(),h=null)})},W4=(t,e,n,s,r)=>(i,{curve:a,oversample:o,...c})=>{const u=i.createWaveShaper(),f=i.createWaveShaper();Lt(u,c),Lt(f,c);const h=n(i,{...c,gain:1}),O=n(i,{...c,gain:-1}),w=n(i,{...c,gain:1}),T=n(i,{...c,gain:-1});let D=null,k=!1,I=null;const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(l){h.channelCount=l,O.channelCount=l,u.channelCount=l,w.channelCount=l,f.channelCount=l,T.channelCount=l},get channelCountMode(){return u.channelCountMode},set channelCountMode(l){h.channelCountMode=l,O.channelCountMode=l,u.channelCountMode=l,w.channelCountMode=l,f.channelCountMode=l,T.channelCountMode=l},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(l){h.channelInterpretation=l,O.channelInterpretation=l,u.channelInterpretation=l,w.channelInterpretation=l,f.channelInterpretation=l,T.channelInterpretation=l},get context(){return u.context},get curve(){return I},set curve(l){if(l!==null&&l.length<2)throw e();if(l===null)u.curve=l,f.curve=l;else{const E=l.length,S=new Float32Array(E+2-E%2),g=new Float32Array(E+2-E%2);S[0]=l[0],g[0]=-l[E-1];const y=Math.ceil((E+1)/2),_=(E+1)/2-1;for(let b=1;b<y;b+=1){const A=b/y*_,v=Math.floor(A),d=Math.ceil(A);S[b]=v===d?l[v]:(1-(A-v))*l[v]+(1-(d-A))*l[d],g[b]=v===d?-l[E-1-v]:-((1-(A-v))*l[E-1-v])-(1-(d-A))*l[E-1-d]}S[y]=E%2===1?l[y-1]:(l[y-2]+l[y-1])/2,u.curve=S,f.curve=g}I=l,k&&(s(I)&&D===null?D=t(i,h):D!==null&&(D(),D=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(l){u.oversample=l,f.oversample=l},addEventListener(...l){return h.addEventListener(l[0],l[1],l[2])},dispatchEvent(...l){return h.dispatchEvent(l[0])},removeEventListener(...l){return h.removeEventListener(l[0],l[1],l[2])}};a!==null&&(m.curve=a instanceof Float32Array?a:new Float32Array(a)),o!==m.oversample&&(m.oversample=o);const C=()=>{h.connect(u).connect(w),h.connect(O).connect(f).connect(T).connect(w),k=!0,s(I)&&(D=t(i,h))},R=()=>{h.disconnect(u),u.disconnect(w),h.disconnect(O),O.disconnect(f),f.disconnect(T),T.disconnect(w),k=!1,D!==null&&(D(),D=null)};return r(Wi(m,w),C,R)},rn=()=>new DOMException("","NotSupportedError"),j4={numberOfChannels:1},U4=(t,e,n,s,r)=>class extends t{constructor(a,o,c){let u;if(typeof a=="number"&&o!==void 0&&c!==void 0)u={length:o,numberOfChannels:a,sampleRate:c};else if(typeof a=="object")u=a;else throw new Error("The given parameters are not valid.");const{length:f,numberOfChannels:h,sampleRate:O}={...j4,...u},w=s(h,f,O);e(ka,()=>ka(w))||w.addEventListener("statechange",(()=>{let T=0;const D=k=>{this._state==="running"&&(T>0?(w.removeEventListener("statechange",D),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):T+=1)};return D})()),super(w,h),this._length=f,this._nativeOfflineAudioContext=w,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,G1(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},Y4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},G4=(t,e,n,s,r,i,a)=>class extends t{constructor(c,u){const f=r(c),h={...Y4,...u},O=n(f,h),w=i(f),T=w?s():null,D=c.sampleRate/2;super(c,!1,O,T),this._detune=e(this,w,O.detune,153600,-153600),this._frequency=e(this,w,O.frequency,D,-D),this._nativeOscillatorNode=O,this._onended=null,this._oscillatorNodeRenderer=T,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeOscillatorNode.onended=u;const f=this._nativeOscillatorNode.onended;this._onended=f!==null&&f===u?c:f}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Mi(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Os(this)&&Ja(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},X4=(t,e,n,s,r)=>()=>{const i=new WeakMap;let a=null,o=null,c=null;const u=async(f,h)=>{let O=n(f);const w=Gt(O,h);if(!w){const T={channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,detune:O.detune.value,frequency:O.frequency.value,periodicWave:a===null?void 0:a,type:O.type};O=e(h,T),o!==null&&O.start(o),c!==null&&O.stop(c)}return i.set(h,O),w?(await t(h,f.detune,O.detune),await t(h,f.frequency,O.frequency)):(await s(h,f.detune,O.detune),await s(h,f.frequency,O.frequency)),await r(f,h,O),O};return{set periodicWave(f){a=f},set start(f){o=f},set stop(f){c=f},render(f,h){const O=i.get(h);return O!==void 0?Promise.resolve(O):u(f,h)}}},K4={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},z4=(t,e,n,s,r,i,a)=>class extends t{constructor(c,u){const f=r(c),h={...K4,...u},O=n(f,h),w=i(f),T=w?s():null;super(c,!1,O,T),this._nativePannerNode=O,this._orientationX=e(this,w,O.orientationX,Qt,fn),this._orientationY=e(this,w,O.orientationY,Qt,fn),this._orientationZ=e(this,w,O.orientationZ,Qt,fn),this._positionX=e(this,w,O.positionX,Qt,fn),this._positionY=e(this,w,O.positionY,Qt,fn),this._positionZ=e(this,w,O.positionZ,Qt,fn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},Z4=(t,e,n,s,r,i,a,o,c,u)=>()=>{const f=new WeakMap;let h=null;const O=async(w,T)=>{let D=null,k=i(w);const I={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},m={...I,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},C=Gt(k,T);if("bufferSize"in k)D=s(T,{...I,gain:1});else if(!C){const R={...m,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=r(T,R)}if(f.set(T,D===null?k:D),D!==null){if(h===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new a(6,w.context.length,T.sampleRate),A=e(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(b.destination),h=(async()=>{const v=await Promise.all([w.orientationX,w.orientationY,w.orientationZ,w.positionX,w.positionY,w.positionZ].map(async(d,x)=>{const N=n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x===0?1:0});return await o(b,d,N.offset),N}));for(let d=0;d<6;d+=1)v[d].connect(A,0,d),v[d].start(0);return u(b)})()}const R=await h,l=s(T,{...I,gain:1});await c(w,T,l);const E=[];for(let b=0;b<R.numberOfChannels;b+=1)E.push(R.getChannelData(b));let S=[E[0][0],E[1][0],E[2][0]],g=[E[3][0],E[4][0],E[5][0]],y=s(T,{...I,gain:1}),_=r(T,{...m,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:g[0],positionY:g[1],positionZ:g[2]});l.connect(y).connect(_.inputs[0]),_.connect(D);for(let b=128;b<R.length;b+=128){const A=[E[0][b],E[1][b],E[2][b]],v=[E[3][b],E[4][b],E[5][b]];if(A.some((d,x)=>d!==S[x])||v.some((d,x)=>d!==g[x])){S=A,g=v;const d=b/T.sampleRate;y.gain.setValueAtTime(0,d),y=s(T,{...I,gain:0}),_=r(T,{...m,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:g[0],positionY:g[1],positionZ:g[2]}),y.gain.setValueAtTime(1,d),l.connect(y).connect(_.inputs[0]),_.connect(D)}}return D}return C?(await t(T,w.orientationX,k.orientationX),await t(T,w.orientationY,k.orientationY),await t(T,w.orientationZ,k.orientationZ),await t(T,w.positionX,k.positionX),await t(T,w.positionY,k.positionY),await t(T,w.positionZ,k.positionZ)):(await o(T,w.orientationX,k.orientationX),await o(T,w.orientationY,k.orientationY),await o(T,w.orientationZ,k.orientationZ),await o(T,w.positionX,k.positionX),await o(T,w.positionY,k.positionY),await o(T,w.positionZ,k.positionZ)),qi(k)?await c(w,T,k.inputs[0]):await c(w,T,k),k};return{render(w,T){const D=f.get(T);return D!==void 0?Promise.resolve(D):O(w,T)}}},Q4={disableNormalization:!1},J4=(t,e,n,s)=>class s_{constructor(i,a){const o=e(i),c=s({...Q4,...a}),u=t(o,c);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===s_.prototype||n.has(i)}},eb=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),tb=(t,e,n)=>async(s,r,i)=>{const a=t(s);await Promise.all(a.activeInputs.map((o,c)=>Array.from(o).map(async([u,f])=>{const O=await e(u).render(u,r),w=s.context.destination;!n(u)&&(s!==w||!n(s))&&O.connect(i,f,c)})).reduce((o,c)=>[...o,...c],[]))},nb=(t,e,n)=>async(s,r,i)=>{const a=e(s);await Promise.all(Array.from(a.activeInputs).map(async([o,c])=>{const f=await t(o).render(o,r);n(o)||f.connect(i,c)}))},sb=(t,e,n,s)=>r=>t(ka,()=>ka(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const a=n(r,512,0,1);r.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>r.currentTime,a.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const a=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=o=>{a.disconnect(),i(o.renderedBuffer)},a.connect(r.destination),r.startRendering()}),rb=t=>(e,n)=>{t.set(e,n)},ib=t=>(e,n)=>t.set(e,n),ab=(t,e,n,s,r,i,a,o)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(s(u)).map(f=>n(f).render(f,u)))).then(()=>r(u)).then(f=>(typeof f.copyFromChannel!="function"?(a(f),n0(f)):e(i,()=>i(f))||o(f),t.add(f),f)),ob={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},lb=(t,e,n,s,r,i)=>class extends t{constructor(o,c){const u=r(o),f={...ob,...c},h=n(u,f),O=i(u),w=O?s():null;super(o,!1,h,w),this._pan=e(this,O,h.pan)}get pan(){return this._pan}},cb=(t,e,n,s,r)=>()=>{const i=new WeakMap,a=async(o,c)=>{let u=n(o);const f=Gt(u,c);if(!f){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(c,h)}return i.set(c,u),f?await t(c,o.pan,u.pan):await s(c,o.pan,u.pan),qi(u)?await r(o,c,u.inputs[0]):await r(o,c,u),u};return{render(o,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):a(o,c)}}},ub=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},hb=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,a=!1;try{await s.audioWorklet.addModule(r);const o=new t(s,"a",{numberOfOutputs:0}),c=s.createOscillator();o.port.onmessage=()=>i=!0,o.onprocessorerror=()=>a=!0,c.connect(o),c.start(0),await s.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(r)}return i&&!a},fb=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},db=()=>new DOMException("","UnknownError"),_b={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},pb=(t,e,n,s,r,i,a)=>class extends t{constructor(c,u){const f=r(c),h={..._b,...u},O=n(f,h),T=i(f)?s():null;super(c,!0,O,T),this._isCurveNullified=!1,this._nativeWaveShaperNode=O,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},mb=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,a)=>{let o=e(i);if(!Gt(o,a)){const u={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(a,u)}return s.set(a,o),qi(o)?await n(i,a,o.inputs[0]):await n(i,a,o),o};return{render(i,a){const o=s.get(a);return o!==void 0?Promise.resolve(o):r(i,a)}}},vb=()=>typeof window>"u"?null:window,gb=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const a=t(i),o=t(r);if(o>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(o),f=s.length;for(let h=a<0?-a:0;h+a<c&&h<f;h+=1)s[h]=u[h+a]},n.copyToChannel=(s,r,i=0)=>{const a=t(i),o=t(r);if(o>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(o),f=s.length;for(let h=a<0?-a:0;h+a<c&&h<f;h+=1)u[h+a]=s[h]}},bb=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const a=t(i),o=t(r);if(a<e.length)return n.call(e,s,o,a)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const a=t(i),o=t(r);if(a<e.length)return n.call(e,s,o,a)})(e.copyToChannel)},yb=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},Tb=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const o=s.numberOfInputs;for(let c=0;c<o;c+=1)r.connect(s,0,c)},()=>r.disconnect(s))},r_=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),i_=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},ro=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:a}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(a)})},Eb=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),wb=t=>({...t,channelCount:t.numberOfOutputs}),Ab=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},a_=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;a_(t,e,n+1e-7)}},Sb=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},xb=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Cb=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},o0=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},o_=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},l0=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Mb=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Ob=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,a=i===null?s:Math.min(i.duration,s);i!==null&&a>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,r)})(t.start)},l_=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Wi(t,n),t.stop=(r=>{let i=!1;return(a=0)=>{if(i)try{r.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else r.call(t,a),i=!0}})(t.stop)},ji=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Rb=zv(Xr),Nb=n3(Xr),Ib=_g(Pl),c_=new WeakMap,kb=Ig(c_),Zn=j3(new Map,new WeakMap),_s=vb(),u_=l4(Zn,ms),c0=Ng(en),Wt=tb(en,c0,Vr),Db=o3(u_,lt,Wt),ot=Bg(Vl),Ps=B4(_s),tt=Qg(Ps),h_=new WeakMap,f_=Ag(ji),io=f4(_s),u0=Xg(io),h0=Kg(_s),d_=zg(_s),Da=_4(_s),Rt=I3(Zv($1),t3(Rb,Nb,ll,Ib,cl,en,kb,Qa,lt,Xr,Os,Vr,Yo),Zn,Wg(vu,cl,en,lt,Ia,Os),ms,Fl,rn,ug(ll,vu,en,lt,Ia,ot,Os,tt),vg(h_,en,Kn),f_,ot,u0,h0,d_,tt,Da),Bb=a3(Rt,Db,ms,u_,ot,tt),f0=new WeakSet,gf=c4(_s),__=sg(new Uint32Array(1)),d0=gb(__,ms),_0=bb(__),p_=c3(f0,Zn,rn,gf,Ps,ub(gf),d0,_0),$l=s3(pn),m_=nb(c0,eo,Vr),vs=Z3(m_),Ui=h4($l,Zn,Sb,xb,Cb,o0,o_,l0,Ob,yb(ro),l_),gs=eb(kg(eo),m_),Lb=f3(vs,Ui,lt,gs,Wt),Qn=k3(Qv(H1),h_,t0,D3,jv,Uv,Yv,Gv,Xv,_u,P1,io,a_),Vb=h3(Rt,Lb,Qn,$t,Ui,ot,tt,ji),Pb=T3(Rt,E3,ms,$t,d4(pn,ro),ot,tt,Wt),Fb=W3(vs,t_,lt,gs,Wt),Kr=ib(c_),$b=q3(Rt,Qn,Fb,Fl,t_,ot,tt,Kr),lr=a4(Xr,h0),Hb=Tb($t,lr),cr=T4(io,Hb),qb=G3(cr,lt,Wt),Wb=Y3(Rt,qb,cr,ot,tt),jb=z3(no,lt,Wt),Ub=K3(Rt,jb,no,ot,tt,wb),Yb=A4($l,Ui,pn,lr),Yi=w4($l,Zn,Yb,o0,l0),Gb=ng(vs,Yi,lt,gs,Wt),Xb=tg(Rt,Qn,Gb,Yi,ot,tt,ji),v_=S4(rn,ro),Kb=ag(v_,lt,Wt),zb=ig(Rt,Kb,v_,ot,tt,Kr),Zb=dg(vs,n_,lt,gs,Wt),Qb=fg(Rt,Qn,Zb,n_,ot,tt,Kr),g_=x4(rn),Jb=Tg(vs,g_,lt,gs,Wt),ey=yg(Rt,Qn,Jb,g_,rn,ot,tt,Kr),ty=Og(vs,pn,lt,gs,Wt),ny=Mg(Rt,Qn,ty,pn,ot,tt),sy=R4(Fl,$t,so,rn),Hl=sb(Zn,pn,so,fb(pn,Ps)),ry=qg(Ui,lt,Ps,Wt,Hl),iy=C4(sy),ay=$g(Rt,iy,ry,ot,tt,Kr),oy=w3(Qn,cr,Yi,so,rn,r_,tt,ro),b_=new WeakMap,ly=i4(Pb,oy,f_,tt,b_,ji),y_=L4($l,Zn,o0,o_,l0,l_),cy=X4(vs,y_,lt,gs,Wt),uy=G4(Rt,Qn,y_,cy,ot,tt,ji),T_=J3(Ui),hy=W4(T_,$t,pn,i_,lr),ql=q4(T_,$t,hy,i_,lr,io,ro),fy=P4(ll,$t,cr,pn,so,ql,rn,cl,r_,lr),E_=V4(fy),dy=Z4(vs,cr,Yi,pn,E_,lt,Ps,gs,Wt,Hl),_y=z4(Rt,Qn,E_,dy,ot,tt,Kr),py=F4(ms),my=J4(py,ot,new WeakSet,Ab),vy=H4(cr,no,pn,ql,rn,lr),w_=$4(vy,rn),gy=cb(vs,w_,lt,gs,Wt),by=lb(Rt,Qn,w_,gy,ot,tt),yy=mb(ql,lt,Wt),Ty=pb(Rt,$t,ql,yy,ot,tt,Kr),A_=Jg(_s),p0=Sg(_s),S_=new WeakMap,Ey=Lg(S_,Ps),wy=A_?e3(Zn,rn,wg(_s),p0,xg(Kv),ot,Ey,tt,Da,new WeakMap,new WeakMap,hb(Da,Ps),_s):void 0,Ay=Zg(u0,tt),Sy=cg(f0,Zn,lg,Eg,new WeakSet,ot,Ay,al,ka,d0,_0),x_=$3(wy,Bb,p_,Vb,$b,Wb,Ub,Xb,zb,Sy,Qb,ey,ny,ay,ly,uy,_y,my,by,Ty),xy=e4(Rt,N4,ot,tt),Cy=n4(Rt,I4,ot,tt),My=s4(Rt,k4,ot,tt),Oy=D4($t,tt),Ry=r4(Rt,Oy,ot),Ny=y3(x_,$t,rn,db,xy,Cy,My,Ry,io),m0=Vg(b_),Iy=r3(m0),C_=Q3(ms),ky=pg(m0),M_=gg(ms),O_=new WeakMap,Dy=Rg(O_,Kn),By=y4(C_,ms,$t,cr,no,Yi,pn,so,rn,M_,p0,Dy,lr),Ly=m4($t,By,pn,rn,lr),Vy=F3(vs,C_,Ui,cr,no,Yi,pn,ky,M_,p0,lt,Da,Ps,gs,Wt,Hl),Py=Dg(S_),Fy=rb(O_),bf=A_?L3(Iy,Rt,Qn,Vy,Ly,en,Py,ot,tt,Da,Eb,Fy,Mb,ji):void 0,$y=og(rn,Ps),Hy=ab(f0,Zn,c0,m0,Hl,al,d0,_0),qy=U4(x_,Zn,$t,$y,Hy),Wy=jg(Vl,u0),jy=Ug(e0,h0),Uy=Yg(t0,d_),Yy=Gg(Vl,tt);function Dn(t){return t===void 0}function Ge(t){return t!==void 0}function Gy(t){return typeof t=="function"}function Pr(t){return typeof t=="number"}function kr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Xy(t){return typeof t=="boolean"}function Xn(t){return Array.isArray(t)}function ks(t){return typeof t=="string"}function Ao(t){return ks(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function je(t,e){if(!t)throw new Error(e)}function tr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function R_(t){!t.isOffline&&t.state!=="running"&&v0('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let N_=!1,yf=!1;function Tf(t){N_=t}function Ky(t){Dn(t)&&N_&&!yf&&(yf=!0,v0("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let I_=console;function zy(...t){I_.log(...t)}function v0(...t){I_.warn(...t)}function Zy(t){return new Ny(t)}function Qy(t,e,n){return new qy(t,e,n)}const Dr=typeof self=="object"?self:null,Jy=Dr&&(Dr.hasOwnProperty("AudioContext")||Dr.hasOwnProperty("webkitAudioContext"));function e5(t,e,n){return je(Ge(bf),"This node only works in a secure context (https or localhost)"),new bf(t,e,n)}function Jn(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Ot(t,e,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(f){try{u(s.next(f))}catch(h){a(h)}}function c(f){try{u(s.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):r(f.value).then(o,c)}u((s=s.apply(t,e||[])).next())})}class t5{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Fr(t){return Uy(t)}function Js(t){return jy(t)}function Go(t){return Yy(t)}function ci(t){return Wy(t)}function n5(t){return t instanceof p_}function s5(t,e){return t==="value"||Fr(e)||Js(e)||n5(e)}function Ei(t,...e){if(!e.length)return t;const n=e.shift();if(kr(t)&&kr(n))for(const s in n)s5(s,n[s])?t[s]=n[s]:kr(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Ei(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Ei(t,...e)}function r5(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function xe(t,e,n=[],s){const r={},i=Array.from(e);if(kr(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(o=>Reflect.has(t,o))||(Ei(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&kr(i[0]))Ei(r,i[0]);else for(let a=0;a<n.length;a++)Ge(i[a])&&(r[n[a]]=i[a]);return Ei(t,r)}function i5(t){return t.constructor.getDefaults()}function wi(t,e){return Dn(t)?e:t}function Ef(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Fs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Dr&&this.toString()===Dr.TONE_DEBUG_CLASS)&&zy(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Fs.version=V1;const g0=1e-6;function Oi(t,e){return t>e+g0}function Eu(t,e){return Oi(t,e)||Wn(t,e)}function dl(t,e){return t+g0<e}function Wn(t,e){return Math.abs(t-e)<g0}function a5(t,e,n){return Math.max(Math.min(t,n),e)}class Bn extends Fs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=xe(Bn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(je(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];je(Eu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Wn(this._timeline[n].time,e)){for(let s=n;s>=0&&Wn(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Eu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let a=Math.floor(s+(i-s)/2);const o=this._timeline[a],c=this._timeline[a+1];if(Wn(o[n],e)){for(let u=a;u<this._timeline.length;u++){const f=this._timeline[u];if(Wn(f[n],e))a=u;else break}return a}else{if(dl(o[n],e)&&Oi(c[n],e))return a;Oi(o[n],e)?i=a:s=a+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Wn(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Wn(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const k_=[];function Wl(t){k_.push(t)}function o5(t){k_.forEach(e=>e(t))}const D_=[];function jl(t){D_.push(t)}function l5(t){D_.forEach(e=>e(t))}class ao extends Fs{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{Dn(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(Dn(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(Dn(n))this._events[r]=[];else{const i=this._events[r];for(let a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(ao.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class B_ extends ao{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class oo extends B_{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Bn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=xe(oo.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Zy({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new t5(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(o5(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return je(ci(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return je(ci(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return je(ci(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){je(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){je(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){je(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){je(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return e5(this.rawContext,e,n)}addAudioWorkletModule(e){return Ot(this,void 0,void 0,function*(){je(Ge(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ot(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ci(this._context)?this._context.resume():Promise.resolve()}close(){return Ot(this,void 0,void 0,function*(){ci(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&l5(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class c5 extends B_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ot(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function St(t,e){Xn(e)?e.forEach(n=>St(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function L_(t,e){Xn(e)?e.forEach(n=>L_(t,n)):Object.defineProperty(t,e,{writable:!0})}const et=()=>{};class it extends Fs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=et;const e=xe(it.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ks(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:et,onload:et,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:An().sampleRate}set(e){return e instanceof it?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ot(this,void 0,void 0,function*(){const n=it.load(e).then(s=>{this.set(s),this.onload(this)});it.downloads.push(n);try{yield n}finally{const s=it.downloads.indexOf(n);it.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Xn(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=An(),a=i.createBuffer(s,r,i.sampleRate),o=!n&&s===1?[e]:e;for(let c=0;c<s;c++)a.copyToChannel(o[c],c);return this._buffer=a,this}toMono(e){if(Pr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let a=0;a<i.length;a++)n[a]+=i[a]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(Pr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){je(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);je(s<r,"The start time must be less than the end time");const i=r-s,a=An().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)a.copyToChannel(this.getChannelData(o).subarray(s,r),o);return new it(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new it().fromArray(e)}static fromUrl(e){return Ot(this,void 0,void 0,function*(){return yield new it().load(e)})}static load(e){return Ot(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let u=c[0];for(const f of c)if(it.supportsType(f)){u=f;break}e=e.replace(n[0],u)}const s=it.baseUrl===""||it.baseUrl.endsWith("/")?it.baseUrl:it.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield An().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Ot(this,void 0,void 0,function*(){for(yield Promise.resolve();it.downloads.length;)yield it.downloads[0]})}}it.baseUrl="";it.downloads=[];class Ul extends oo{constructor(){super({clockSource:"offline",context:Go(arguments[0])?arguments[0]:Qy(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Go(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Go(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ot(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return Ot(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new it(n)})}close(){return Promise.resolve()}}const V_=new c5;let _i=V_;function An(){return _i===V_&&Jy&&wu(new oo),_i}function wu(t,e=!1){e&&_i.dispose(),ci(t)?_i=new oo(t):Go(t)?_i=new Ul(t):_i=t}if(Dr&&!Dr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${V1} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function u5(t){return Math.pow(10,t/20)}function h5(t){return 20*(Math.log(t)/Math.LN10)}function P_(t){return Math.pow(2,t/12)}let Yl=440;function f5(){return Yl}function d5(t){Yl=t}function Au(t){return Math.round(F_(t))}function F_(t){return 69+12*Math.log2(t/Yl)}function _5(t){return Yl*Math.pow(2,(t-69)/12)}class b0 extends Fs{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof b0&&this.fromType(this._val),Dn(this._val))return this._noArg();if(ks(this._val)&&Dn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(kr(this._val)){let e=0;for(const n in this._val)if(Ge(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(Ge(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return ks(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Un extends b0{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Un(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),o=Math.round(r/s)*s-r;return r+o*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const a=Math.pow(2,i);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let s=n[0],r=new Un(this.context,n[0]).toSeconds();return n.forEach(i=>{const a=new Un(this.context,i).toSeconds();Math.abs(a-e)<Math.abs(r-e)&&(s=i,r=a)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Au(this.toFrequency())}_now(){return this.context.now()}}class kn extends Un{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return f5()}static set A4(e){d5(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:kn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=p5[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:kn.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new kn(this.context,this.valueOf()*P_(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Au(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/kn.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),m5[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return _5(e)}static ftom(e){return Au(e)}}const p5={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},m5=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class wa extends Un{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class _n extends Fs{constructor(){super();const e=xe(_n.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:An()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Ky(e),new Un(this.context,e).toSeconds()}toFrequency(e){return new kn(this.context,e).toFrequency()}toTicks(e){return new wa(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Dn(e[s])&&delete n[s]}),n}get(){const e=i5(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];Ge(s)&&Ge(s.value)&&Ge(s.setValueAtTime)?e[n]=s.value:s instanceof _n?e[n]=s._getPartialProperties(e[n]):Xn(s)||Pr(s)||ks(s)||Xy(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Ge(this[n])&&(this[n]&&Ge(this[n].value)&&Ge(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof _n?this[n].set(e[n]):this[n]=e[n])}),this}}class y0 extends Bn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return tr(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class dt extends _n{constructor(){super(xe(dt.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=xe(dt.getDefaults(),arguments,["param","units","convert"]);for(je(Ge(e.param)&&(Fr(e.param)||e.param instanceof dt),"param must be an AudioParam");!Fr(e.param);)e.param=e.param._param;this._swappable=Ge(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Bn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ge(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(_n.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ge(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ge(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Ge(this.maxValue)&&Ge(this.minValue)&&tr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?u5(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?h5(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return je(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const a=this._events.getBefore(r.time);let o;a===null?o=this._initialValue:o=a.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,o,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let a=r.value;if(r.type==="setTargetAtTime"){const o=this._events.getBefore(r.time);o===null?a=this._initialValue:a=o.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,a,s.time,s.value,n):i=this._exponentialInterpolate(r.time,a,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return je(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Wn(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return je(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);je(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),je(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const a=s/(e.length-1);for(let o=1;o<e.length;o++){const c=this._fromType(e[o])*r;this.linearRampToValueAtTime(this._toType(c),n+o*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return je(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));je(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Wn(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,a=(i-n)/10;for(let o=n;o<i;o+=a)e.linearRampToValueAtTime(this.getValueAtTime(o),o)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){je(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class Ue extends _n{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ge(this.input)?Fr(this.input)||this.input instanceof dt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ge(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ge(e)&&(e instanceof Ue||Js(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();je(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Gi(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return v0("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return v5(this,e,n,s),this}chain(...e){return Su(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Ge(this.input)&&(this.input instanceof Ue?this.input.dispose():Js(this.input)&&this.input.disconnect()),Ge(this.output)&&(this.output instanceof Ue?this.output.dispose():Js(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Su(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof Ue?n.connect(s):Js(n)&&Gi(n,s),s),e)}function Gi(t,e,n=0,s=0){for(je(Ge(t),"Cannot connect from undefined node"),je(Ge(e),"Cannot connect to undefined node"),(e instanceof Ue||Js(e))&&je(e.numberOfInputs>0,"Cannot connect to node with no inputs"),je(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ue||e instanceof dt;)Ge(e.input)&&(e=e.input);for(;t instanceof Ue;)Ge(t.output)&&(t=t.output);Fr(e)?t.connect(e,n):t.connect(e,n,s)}function v5(t,e,n=0,s=0){if(Ge(e))for(;e instanceof Ue;)e=e.input;for(;!Js(t);)Ge(t.output)&&(t=t.output);Fr(e)?t.disconnect(e,n):Js(e)?t.disconnect(e,n,s):t.disconnect()}class Ht extends Ue{constructor(){super(xe(Ht.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=xe(Ht.getDefaults(),arguments,["gain","units"]);this.gain=new dt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),St(this,"gain")}static getDefaults(){return Object.assign(Ue.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ri extends Ue{constructor(e){super(e),this.onended=et,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ht({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ue.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:et})}_startGain(e,n=1){je(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){je(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==et&&(this.onended(this),this.onended=et,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),je(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=et,this}}class _l extends Ri{constructor(){super(xe(_l.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=xe(_l.getDefaults(),arguments,["offset"]);Gi(this._source,this._gainNode),this.offset=new dt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ri.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Vt extends Ue{constructor(){super(xe(Vt.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=xe(Vt.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new _l({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ue.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return T0(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function T0(t,e,n,s){(e instanceof dt||Fr(e)||e instanceof Vt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Vt&&(e.overridden=!0)),Gi(t,e,n,s)}class pl extends dt{constructor(){super(xe(pl.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Bn(1/0),this._multiplier=1;const e=xe(pl.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(dt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),a=Math.round(Math.max(1/s,1));for(let o=0;o<=a;o++){const c=s*o+n,u=this._exponentialApproach(i.time,i.value,r,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),a=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),a=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),a=(n-r.time)/i;for(let o=0;o<=i;o++){const c=a*o+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Dn(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),o=Math.sqrt(Math.pow(r,2)-2*a*(n.ticks-e)),c=(-r+o)/a,u=(-r-o)/a;return(c>0?c:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ml extends Vt{constructor(){super(xe(ml.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=xe(ml.getDefaults(),arguments,["value"]);this.input=this._param=new pl({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Vt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class vl extends _n{constructor(){super(xe(vl.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new y0,this._tickOffset=new Bn,this._ticksAtTime=new Bn,this._secondsAtTime=new Bn;const e=xe(vl.getDefaults(),arguments,["frequency"]);this.frequency=new ml({context:this.context,units:e.units,value:e.frequency}),St(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_n.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Ge(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let a=r||s,o=r?r.ticks:0,c=null;return this._state.forEachBetween(a.time,n+this.sampleTime,u=>{let f=a.time;const h=this._tickOffset.get(u.time);h&&h.time>=a.time&&(o=h.ticks,f=h.time),a.state==="started"&&u.state!=="started"&&(o+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(f),u.time!==i.time&&(c={state:u.state,time:u.time,ticks:o})),a=u}),this._state.remove(i),c&&this._ticksAtTime.add(c),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,a=r?r.seconds:0,o=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let u=i.time;const f=this._tickOffset.get(c.time);f&&f.time>=i.time&&(a=f.seconds,u=f.time),i.state==="started"&&c.state!=="started"&&(a+=c.time-u,c.time!==s.time&&(o={state:c.state,time:c.time,seconds:a})),i=c}),this._state.remove(s),o&&this._secondsAtTime.add(o),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),a=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,a=>{r&&r.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),a.time-this.sampleTime,s),r=a});let i=null;if(r&&r.state==="started"){const a=Math.max(r.time,e),o=this.frequency.getTicksAtTime(a),c=this.frequency.getTicksAtTime(r.time),u=o-c;let f=Math.ceil(u)-u;f=Wn(f,1)?0:f;let h=this.frequency.getTimeOfTick(o+f);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(O){i=O;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ba extends _n{constructor(){super(xe(Ba.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=et,this._lastUpdate=0,this._state=new y0("stopped"),this._boundLoop=this._loop.bind(this);const e=xe(Ba.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new vl({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,St(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_n.getDefaults(),{callback:et,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){R_(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ao.mixin(Ba);function g5(t,e,n=2,s=An().sampleRate){return Ot(this,void 0,void 0,function*(){const r=An(),i=new Ul(n,e,s);wu(i),yield t(i);const a=i.render();wu(r);const o=yield a;return new it(o)})}class E0 extends Fs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=xe(E0.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:et,onload:et,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return je(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=et,r=et){return ks(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new it(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new it(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class pi extends wa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class b5 extends _n{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Bn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Wl(t=>{t.draw=new b5({context:t})});jl(t=>{t.draw.dispose()});class y5 extends Fs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){je(Ge(e.time),"Events must have a time property"),je(Ge(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new T5(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class T5{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $r extends Ue{constructor(){super(xe($r.getDefaults(),arguments,["volume"])),this.name="Volume";const e=xe($r.getDefaults(),arguments,["volume"]);this.input=this.output=new Ht({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,St(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ue.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class gl extends Ue{constructor(){super(xe(gl.getDefaults(),arguments)),this.name="Destination",this.input=new $r({context:this.context}),this.output=new Ht({context:this.context}),this.volume=this.input.volume;const e=xe(gl.getDefaults(),arguments);Su(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ue.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Su(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Wl(t=>{t.destination=new gl({context:t})});jl(t=>{t.destination.dispose()});class E5 extends Fs{constructor(e){super(),this.name="TimelineValue",this._timeline=new Bn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Ni extends Ue{constructor(){super(Object.assign(xe(Ni.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return T0(this,e,n,s),this}}class Ii extends Ni{constructor(){super(Object.assign(xe(Ii.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=xe(Ii.getDefaults(),arguments,["mapping","length"]);Xn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Gy(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Vt.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const a=r/(i-1)*2-1;s[r]=e(a,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));je(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class bl extends Ni{constructor(){super(Object.assign(xe(bl.getDefaults(),arguments,["value"]))),this.name="Pow";const e=xe(bl.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ii({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ni.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class nr{constructor(e,n){this.id=nr._eventId++,this._remainderTime=0;const s=Object.assign(nr.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:et,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}nr._eventId=0;class w0 extends nr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(w0.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},nr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return dl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new pi(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){dl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new pi(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Oi(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class La extends _n{constructor(){super(xe(La.getDefaults(),arguments)),this.name="Transport",this._loop=new E5(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Bn,this._repeatedEvents=new y5,this._syncedSignals=[],this._swingAmount=0;const e=xe(La.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ba({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),St(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(_n.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new pi(this.context,this._swingTicks*2/3).toSeconds()*r}Tf(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),Tf(!1)}schedule(e,n){const s=new nr(this,{callback:e,time:new wa(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new w0(this,{callback:e,duration:new Un(this.context,r).toTicks(),interval:new Un(this.context,n).toTicks(),time:new wa(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new nr(this,{callback:e,once:!0,time:new wa(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new pi(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return Ge(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Xn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Un(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Un(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new pi(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new pi(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),a=[];if(e.units==="time"){const c=.015625/i,u=new Ht(c),f=new bl(-1),h=new Ht(c);r.chain(u,f,h),r=h,i=1/i,a=[u,f,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const o=new Ht(n);return r.connect(o),o.connect(e._param),a.push(o),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),L_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ao.mixin(La);Wl(t=>{t.transport=new La({context:t})});jl(t=>{t.transport.dispose()});class Sn extends Ue{constructor(e){super(e),this.input=void 0,this._state=new y0("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=et,this._syncedStop=et,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $r({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,St(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ue.getDefaults(),{mute:!1,onstop:et,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=Dn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")je(Oi(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(wi(n,0)),i.duration=s?this.toSeconds(s):void 0);const a=this.context.transport.schedule(o=>{this._start(o,n,s)},r);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else R_(this.context),this._start(r,n,s);return this}stop(e){let n=Dn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Ge(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Oi(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=et,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Va extends Ri{constructor(){super(xe(Va.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=xe(Va.getDefaults(),arguments,["url","onload"]);Gi(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new dt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new it(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ri.getDefaults(),{url:new it,loop:!1,loopEnd:0,loopStart:0,onload:et,onerror:et,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){je(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=wi(n,this.loopStart):n=wi(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const o=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=o-c;Eu(a,o)&&(a=(a-c)%u+c),Wn(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,dl(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,a)),Ge(s)){let o=this.toSeconds(s);o=Math.max(o,0),this.stop(i+o)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function zr(t,e){return Ot(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Ul(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class yl extends Ri{constructor(){super(xe(yl.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=xe(yl.getDefaults(),arguments,["frequency","type"]);Gi(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new dt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new dt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),St(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ri.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class bt extends Sn{constructor(){super(xe(bt.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=xe(bt.getDefaults(),arguments,["frequency","type"]);this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),St(this,"frequency"),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),St(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Sn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new yl({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return bt._periodicWaveCache.find(n=>n.phase===this._phase&&r5(n.partials,this._partials));{const e=bt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Ge(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(r,i);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),bt._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),bt._periodicWaveCache.length>100&&bt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){tr(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,a)=>r[a]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),a=new Float32Array(r);let o=1;if(e==="custom"){if(o=this._partials.length+1,this._partialCount=this._partials.length,r=o,this._partials.length===0)return[i,a]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(o=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],o=Math.max(o,2),r=o):this._partialCount=0,this._partials=[]}for(let c=1;c<r;++c){const u=2/(c*Math.PI);let f;switch(e){case"sine":f=c<=o?1:0,this._partials[c-1]=f;break;case"square":f=c&1?2*u:0,this._partials[c-1]=f;break;case"sawtooth":f=u*(c&1?1:-1),this._partials[c-1]=f;break;case"triangle":c&1?f=2*(u*u)*(c-1>>1&1?-1:1):f=0,this._partials[c-1]=f;break;case"custom":f=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}f!==0?(i[c]=-f*Math.sin(n*c),a[c]=f*Math.cos(n*c)):(i[c]=0,a[c]=0)}return[i,a]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let a=0;a<i;a++)r+=e[a]*Math.cos(a*s)+n[a]*Math.sin(a*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let a=0;a<i;a++)s=Math.max(this._inverseFFT(e,n,a/i*r),s);return a5(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}bt._periodicWaveCache=[];class w5 extends Ni{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ii({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Hr extends Vt{constructor(){super(Object.assign(xe(Hr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=xe(Hr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Ht({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pa extends Sn{constructor(){super(xe(Pa.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new w5({context:this.context}),this._modulationNode=new Ht({context:this.context});const e=xe(Pa.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new bt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Hr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),St(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Fa extends Sn{constructor(){super(xe(Fa.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Ht({context:this.context,gain:0});const e=xe(Fa.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new bt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Hr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Hr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),St(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ki extends Sn{constructor(){super(xe(ki.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Ht({context:this.context,gain:0}),this._thresh=new Ii({context:this.context,mapping:n=>n<=0?-1:1});const e=xe(ki.getDefaults(),arguments,["frequency","width"]);this.width=new Vt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new bt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),St(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Sn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class $a extends Sn{constructor(){super(xe($a.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=xe($a.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,St(this,["frequency","detune"])}static getDefaults(){return Object.assign(bt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(tr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new bt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):et});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ha extends Sn{constructor(){super(xe(Ha.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Hr({context:this.context,value:2});const e=xe(Ha.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ki({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new bt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),St(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Sn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const wf={am:Pa,fat:$a,fm:Fa,oscillator:bt,pulse:ki,pwm:Ha};class qa extends Sn{constructor(){super(xe(qa.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=xe(qa.getDefaults(),arguments,["frequency","type"]);this.frequency=new Vt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Vt({context:this.context,units:"cents",value:e.detune}),St(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(bt.getDefaults(),Fa.getDefaults(),Pa.getDefaults(),$a.getDefaults(),ki.getDefaults(),Ha.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=wf[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof wf[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Pr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Pr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ks(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Ot(this,void 0,void 0,function*(){return zr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function $_(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){tr(i,t,e),n.set(this,i)}})}}function $s(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){tr(this.toSeconds(i),t,e),n.set(this,i)}})}}class qr extends Sn{constructor(){super(xe(qr.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=xe(qr.getDefaults(),arguments,["url","onload"]);this._buffer=new it({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Sn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:et,onerror:et,playbackRate:1,reverse:!1})}load(e){return Ot(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=et){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=wi(n,this._loopStart):n=wi(n,0);const r=this.toSeconds(n),i=s;s=wi(s,Math.max(this._buffer.duration-r,0));let a=this.toSeconds(s);a=a/this._playbackRate,e=this.toSeconds(e);const o=new Va({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Dn(i)?o.start(e,r):o.start(e,r,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&tr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&tr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Jn([$s(0)],qr.prototype,"fadeIn",void 0);Jn([$s(0)],qr.prototype,"fadeOut",void 0);class Ds extends Ue{constructor(){super(xe(Ds.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Vt({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=xe(Ds.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ue.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(ks(e))return e;{let s;for(s in So)if(So[s][n]===e)return s;return e}}_setCurve(e,n,s){if(ks(s)&&Reflect.has(So,s)){const r=So[s];kr(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(Xn(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const o=1/r;r=(1-a)/o}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let o=this._attackCurve;for(let c=1;c<o.length;c++)if(o[c-1]<=a&&a<=o[c]){o=this._attackCurve.slice(c),o[0]=a;break}this._sig.setValueCurveAtTime(o,e,r,n)}if(i&&this.sustain<1){const o=n*this.sustain,c=e+r;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(o,i+c):this._sig.exponentialApproachValueAtTime(o,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(je(Xn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return T0(this,e,n,s),this}asArray(e=1024){return Ot(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new Ul(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),a=i*.1,o=i+a,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/o,decay:n*this.toSeconds(this.decay)/o,release:n*this.toSeconds(this.release)/o,context:s}));return c._sig.toDestination(),c.triggerAttackRelease(n*(r+a)/o,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Jn([$s(0)],Ds.prototype,"attack",void 0);Jn([$s(0)],Ds.prototype,"decay",void 0);Jn([$_(0,1)],Ds.prototype,"sustain",void 0);Jn([$s(0)],Ds.prototype,"release",void 0);const So=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const O=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=O/10+n*.83}r[127]=1;const a=[],o=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*o)/o;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const O=Math.pow(n,3)*4+.2,w=Math.cos(O*Math.PI*2*n);u[e]=Math.abs(w*(1-n))}function f(O){const w=new Array(O.length);for(let T=0;T<O.length;T++)w[T]=1-O[T];return w}function h(O){return O.slice(0).reverse()}return{bounce:{In:f(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:f(r)},sine:{In:c,Out:f(c)},step:{In:a,Out:f(a)}}})();class Wr extends Ue{constructor(){super(xe(Wr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=xe(Wr.getDefaults(),arguments);this._volume=this.output=new $r({context:this.context,volume:e.volume}),this.volume=this._volume.volume,St(this,"volume")}static getDefaults(){return Object.assign(Ue.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],a=this.context.transport.schedule(o=>{r[n]=o,s.apply(this,r)},i);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),a=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class jr extends Wr{constructor(){super(xe(jr.getDefaults(),arguments));const e=xe(jr.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Wr.getDefaults(),{detune:0,onsilence:et,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof kn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Jn([$s(0)],jr.prototype,"portamento",void 0);class A0 extends Ds{constructor(){super(xe(A0.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ht({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Wa extends jr{constructor(){super(xe(Wa.getDefaults(),arguments)),this.name="Synth";const e=xe(Wa.getDefaults(),arguments);this.oscillator=new qa(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new A0(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),St(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(jr.getDefaults(),{envelope:Object.assign(Ef(Ds.getDefaults(),Object.keys(Ue.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ef(qa.getDefaults(),[...Object.keys(Sn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ja extends Wa{constructor(){super(xe(ja.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=xe(ja.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,St(this,["oscillator","envelope"])}static getDefaults(){return Ei(jr.getDefaults(),Wa.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof kn?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Jn([$_(0)],ja.prototype,"octaves",void 0);Jn([$s(0)],ja.prototype,"pitchDecay",void 0);const H_=new Set;function S0(t){H_.add(t)}function q_(t,e){const n=`registerProcessor("${t}", ${e})`;H_.add(n)}const A5=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;S0(A5);const S5=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;S0(S5);const x5=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;S0(x5);const C5="feedback-comb-filter",M5=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;q_(C5,M5);class Ua extends Wr{constructor(){super(xe(Ua.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=xe(Ua.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(je(Ao(s)||Pr(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),Ao(s)){const i=new kn(this.context,s).toMidi();n[i]=e.urls[s]}else Pr(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new E0({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Wr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:et,onerror:et,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=F_(new kn(this.context,r).toFrequency()),a=Math.round(i),o=i-a,c=this._findClosest(a),u=a-c,f=this._buffers.get(u),h=P_(c+o),O=new Va({url:f,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);O.start(n,0,f.duration/h,s),Xn(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(O),O.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const w=this._activeSources.get(a),T=w.indexOf(O);T!==-1&&w.splice(T,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new kn(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(a=>{a.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),Xn(n)?(je(Xn(e),"notes must be an array when duration is array"),e.forEach((a,o)=>{const c=n[Math.min(o,n.length-1)];this.triggerRelease(a,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(je(Ao(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ao(e)){const r=new kn(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Jn([$s(0)],Ua.prototype,"attack",void 0);Jn([$s(0)],Ua.prototype,"release",void 0);class Tl extends Ue{constructor(){super(Object.assign(xe(Tl.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=xe(Tl.getDefaults(),arguments,["pan"]);this.pan=new dt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",St(this,"pan")}static getDefaults(){return Object.assign(Ue.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const O5="bit-crusher",R5=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;q_(O5,R5);class Mt extends Ue{constructor(){super(xe(Mt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=xe(Mt.getDefaults(),arguments,["solo"]);this.input=this.output=new Ht({context:this.context}),Mt._allSolos.has(this.context)||Mt._allSolos.set(this.context,new Set),Mt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ue.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Mt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Mt._soloed.has(this.context)||Mt._soloed.set(this.context,new Set),Mt._soloed.get(this.context).add(this)}_removeSolo(){Mt._soloed.has(this.context)&&Mt._soloed.get(this.context).delete(this)}_isSoloed(){return Mt._soloed.has(this.context)&&Mt._soloed.get(this.context).has(this)}_noSolos(){return!Mt._soloed.has(this.context)||Mt._soloed.has(this.context)&&Mt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Mt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Mt._allSolos=new Map;Mt._soloed=new Map;class El extends Ue{constructor(){super(xe(El.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=xe(El.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Tl({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $r({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,St(this,["pan","volume"])}static getDefaults(){return Object.assign(Ue.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ss extends Ue{constructor(){super(xe(Ss.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=xe(Ss.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Mt({solo:e.solo,context:this.context}),this._panVol=this.output=new El({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),St(this,["pan","volume"])}static getDefaults(){return Object.assign(Ue.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ss.buses.has(e)||Ss.buses.set(e,new Ht({context:this.context})),Ss.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Ht({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ss.buses=new Map;class N5 extends Ue{constructor(){super(...arguments),this.name="Listener",this.positionX=new dt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new dt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new dt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new dt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new dt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new dt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new dt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new dt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new dt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ue.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Wl(t=>{t.listener=new N5({context:t})});jl(t=>{t.listener.dispose()});An().transport;An().destination;An().destination;An().listener;An().draw;An();const I5=[-1,0,1],k5=["wav"],Af=[1,2],D5=["AcaPella","Band","Break","Bridge","Chorus","Count","End","Instrumental","Intro","KeyChange","Outro","PreChorus","Ready","Riff","Solo","Tag","Turn","Verse"],Sf=["sine","sawtooth","square","triangle"];function B5(t){return new Int8Array(t)}function W_(t){return new Int16Array(t)}function j_(t){return new Int32Array(t)}function U_(t){return new Float32Array(t)}function L5(t){return new Float64Array(t)}function Y_(t){if(t.length==1)return U_(t[0]);var e=t[0];t=t.slice(1);for(var n=[],s=0;s<e;s++)n.push(Y_(t));return n}function G_(t){if(t.length==1)return j_(t[0]);var e=t[0];t=t.slice(1);for(var n=[],s=0;s<e;s++)n.push(G_(t));return n}function X_(t){if(t.length==1)return W_(t[0]);var e=t[0];t=t.slice(1);for(var n=[],s=0;s<e;s++)n.push(X_(t));return n}function K_(t){if(t.length==1)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],s=0;s<e;s++)n.push(K_(t));return n}var z_={};z_.fill=function(t,e,n,s){if(arguments.length==2)for(var r=0;r<t.length;r++)t[r]=arguments[1];else for(var r=e;r<n;r++)t[r]=s};var lo={};lo.arraycopy=function(t,e,n,s,r){for(var i=e+r;e<i;)n[s++]=t[e++]};lo.out={};lo.out.println=function(t){console.log(t)};lo.out.printf=function(){console.log.apply(console,arguments)};var Gl={};Gl.SQRT2=1.4142135623730951;Gl.FAST_LOG10=function(t){return Math.log10(t)};Gl.FAST_LOG10_X=function(t,e){return Math.log10(t)*e};function Bs(t){this.ordinal=t}Bs.short_block_allowed=new Bs(0);Bs.short_block_coupled=new Bs(1);Bs.short_block_dispensed=new Bs(2);Bs.short_block_forced=new Bs(3);var Z_={};Z_.MAX_VALUE=34028235e31;function xn(t){this.ordinal=t}xn.vbr_off=new xn(0);xn.vbr_mt=new xn(1);xn.vbr_rh=new xn(2);xn.vbr_abr=new xn(3);xn.vbr_mtrh=new xn(4);xn.vbr_default=xn.vbr_mtrh;var V5=function(t){},pt={System:lo,VbrMode:xn,Float:Z_,ShortBlock:Bs,Util:Gl,Arrays:z_,new_array_n:K_,new_byte:B5,new_double:L5,new_float:U_,new_float_n:Y_,new_int:j_,new_int_n:G_,new_short:W_,new_short_n:X_,assert:V5},Oc,xf;function P5(){if(xf)return Oc;xf=1;var t=pt,e=t.System,n=t.Util,s=t.Arrays,r=t.new_float,i=Xt();function a(){var o=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],c=12,u=36,f=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],h=f[i.SHORT_TYPE],O=f[i.SHORT_TYPE],w=f[i.SHORT_TYPE],T=f[i.SHORT_TYPE],D=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function k(C,R,l){for(var E=10,S=R+238-14-286,g=-15;g<0;g++){var y,_,b;y=o[E+-10],_=C[S+-224]*y,b=C[R+224]*y,y=o[E+-9],_+=C[S+-160]*y,b+=C[R+160]*y,y=o[E+-8],_+=C[S+-96]*y,b+=C[R+96]*y,y=o[E+-7],_+=C[S+-32]*y,b+=C[R+32]*y,y=o[E+-6],_+=C[S+32]*y,b+=C[R+-32]*y,y=o[E+-5],_+=C[S+96]*y,b+=C[R+-96]*y,y=o[E+-4],_+=C[S+160]*y,b+=C[R+-160]*y,y=o[E+-3],_+=C[S+224]*y,b+=C[R+-224]*y,y=o[E+-2],_+=C[R+-256]*y,b-=C[S+256]*y,y=o[E+-1],_+=C[R+-192]*y,b-=C[S+192]*y,y=o[E+0],_+=C[R+-128]*y,b-=C[S+128]*y,y=o[E+1],_+=C[R+-64]*y,b-=C[S+64]*y,y=o[E+2],_+=C[R+0]*y,b-=C[S+0]*y,y=o[E+3],_+=C[R+64]*y,b-=C[S+-64]*y,y=o[E+4],_+=C[R+128]*y,b-=C[S+-128]*y,y=o[E+5],_+=C[R+192]*y,b-=C[S+-192]*y,_*=o[E+6],y=b-_,l[30+g*2]=b+_,l[31+g*2]=o[E+7]*y,E+=18,R--,S++}{var _,b,A,v;b=C[R+-16]*o[E+-10],_=C[R+-32]*o[E+-2],b+=(C[R+-48]-C[R+16])*o[E+-9],_+=C[R+-96]*o[E+-1],b+=(C[R+-80]+C[R+48])*o[E+-8],_+=C[R+-160]*o[E+0],b+=(C[R+-112]-C[R+80])*o[E+-7],_+=C[R+-224]*o[E+1],b+=(C[R+-144]+C[R+112])*o[E+-6],_-=C[R+32]*o[E+2],b+=(C[R+-176]-C[R+144])*o[E+-5],_-=C[R+96]*o[E+3],b+=(C[R+-208]+C[R+176])*o[E+-4],_-=C[R+160]*o[E+4],b+=(C[R+-240]-C[R+208])*o[E+-3],_-=C[R+224],A=_-b,v=_+b,b=l[14],_=l[15]-b,l[31]=v+b,l[30]=A+_,l[15]=A-_,l[14]=v-b}{var d;d=l[28]-l[0],l[0]+=l[28],l[28]=d*o[E+-2*18+7],d=l[29]-l[1],l[1]+=l[29],l[29]=d*o[E+-2*18+7],d=l[26]-l[2],l[2]+=l[26],l[26]=d*o[E+-4*18+7],d=l[27]-l[3],l[3]+=l[27],l[27]=d*o[E+-4*18+7],d=l[24]-l[4],l[4]+=l[24],l[24]=d*o[E+-6*18+7],d=l[25]-l[5],l[5]+=l[25],l[25]=d*o[E+-6*18+7],d=l[22]-l[6],l[6]+=l[22],l[22]=d*n.SQRT2,d=l[23]-l[7],l[7]+=l[23],l[23]=d*n.SQRT2-l[7],l[7]-=l[6],l[22]-=l[7],l[23]-=l[22],d=l[6],l[6]=l[31]-d,l[31]=l[31]+d,d=l[7],l[7]=l[30]-d,l[30]=l[30]+d,d=l[22],l[22]=l[15]-d,l[15]=l[15]+d,d=l[23],l[23]=l[14]-d,l[14]=l[14]+d,d=l[20]-l[8],l[8]+=l[20],l[20]=d*o[E+-10*18+7],d=l[21]-l[9],l[9]+=l[21],l[21]=d*o[E+-10*18+7],d=l[18]-l[10],l[10]+=l[18],l[18]=d*o[E+-12*18+7],d=l[19]-l[11],l[11]+=l[19],l[19]=d*o[E+-12*18+7],d=l[16]-l[12],l[12]+=l[16],l[16]=d*o[E+-14*18+7],d=l[17]-l[13],l[13]+=l[17],l[17]=d*o[E+-14*18+7],d=-l[20]+l[24],l[20]+=l[24],l[24]=d*o[E+-12*18+7],d=-l[21]+l[25],l[21]+=l[25],l[25]=d*o[E+-12*18+7],d=l[4]-l[8],l[4]+=l[8],l[8]=d*o[E+-12*18+7],d=l[5]-l[9],l[5]+=l[9],l[9]=d*o[E+-12*18+7],d=l[0]-l[12],l[0]+=l[12],l[12]=d*o[E+-4*18+7],d=l[1]-l[13],l[1]+=l[13],l[13]=d*o[E+-4*18+7],d=l[16]-l[28],l[16]+=l[28],l[28]=d*o[E+-4*18+7],d=-l[17]+l[29],l[17]+=l[29],l[29]=d*o[E+-4*18+7],d=n.SQRT2*(l[2]-l[10]),l[2]+=l[10],l[10]=d,d=n.SQRT2*(l[3]-l[11]),l[3]+=l[11],l[11]=d,d=n.SQRT2*(-l[18]+l[26]),l[18]+=l[26],l[26]=d-l[18],d=n.SQRT2*(-l[19]+l[27]),l[19]+=l[27],l[27]=d-l[19],d=l[2],l[19]-=l[3],l[3]-=d,l[2]=l[31]-d,l[31]+=d,d=l[3],l[11]-=l[19],l[18]-=d,l[3]=l[30]-d,l[30]+=d,d=l[18],l[27]-=l[11],l[19]-=d,l[18]=l[15]-d,l[15]+=d,d=l[19],l[10]-=d,l[19]=l[14]-d,l[14]+=d,d=l[10],l[11]-=d,l[10]=l[23]-d,l[23]+=d,d=l[11],l[26]-=d,l[11]=l[22]-d,l[22]+=d,d=l[26],l[27]-=d,l[26]=l[7]-d,l[7]+=d,d=l[27],l[27]=l[6]-d,l[6]+=d,d=n.SQRT2*(l[0]-l[4]),l[0]+=l[4],l[4]=d,d=n.SQRT2*(l[1]-l[5]),l[1]+=l[5],l[5]=d,d=n.SQRT2*(l[16]-l[20]),l[16]+=l[20],l[20]=d,d=n.SQRT2*(l[17]-l[21]),l[17]+=l[21],l[21]=d,d=-n.SQRT2*(l[8]-l[12]),l[8]+=l[12],l[12]=d-l[8],d=-n.SQRT2*(l[9]-l[13]),l[9]+=l[13],l[13]=d-l[9],d=-n.SQRT2*(l[25]-l[29]),l[25]+=l[29],l[29]=d-l[25],d=-n.SQRT2*(l[24]+l[28]),l[24]-=l[28],l[28]=d-l[24],d=l[24]-l[16],l[24]=d,d=l[20]-d,l[20]=d,d=l[28]-d,l[28]=d,d=l[25]-l[17],l[25]=d,d=l[21]-d,l[21]=d,d=l[29]-d,l[29]=d,d=l[17]-l[1],l[17]=d,d=l[9]-d,l[9]=d,d=l[25]-d,l[25]=d,d=l[5]-d,l[5]=d,d=l[21]-d,l[21]=d,d=l[13]-d,l[13]=d,d=l[29]-d,l[29]=d,d=l[1]-l[0],l[1]=d,d=l[16]-d,l[16]=d,d=l[17]-d,l[17]=d,d=l[8]-d,l[8]=d,d=l[9]-d,l[9]=d,d=l[24]-d,l[24]=d,d=l[25]-d,l[25]=d,d=l[4]-d,l[4]=d,d=l[5]-d,l[5]=d,d=l[20]-d,l[20]=d,d=l[21]-d,l[21]=d,d=l[12]-d,l[12]=d,d=l[13]-d,l[13]=d,d=l[28]-d,l[28]=d,d=l[29]-d,l[29]=d,d=l[0],l[0]+=l[31],l[31]-=d,d=l[1],l[1]+=l[30],l[30]-=d,d=l[16],l[16]+=l[15],l[15]-=d,d=l[17],l[17]+=l[14],l[14]-=d,d=l[8],l[8]+=l[23],l[23]-=d,d=l[9],l[9]+=l[22],l[22]-=d,d=l[24],l[24]+=l[7],l[7]-=d,d=l[25],l[25]+=l[6],l[6]-=d,d=l[4],l[4]+=l[27],l[27]-=d,d=l[5],l[5]+=l[26],l[26]-=d,d=l[20],l[20]+=l[11],l[11]-=d,d=l[21],l[21]+=l[10],l[10]-=d,d=l[12],l[12]+=l[19],l[19]-=d,d=l[13],l[13]+=l[18],l[18]-=d,d=l[28],l[28]+=l[3],l[3]-=d,d=l[29],l[29]+=l[2],l[2]-=d}}function I(C,R){for(var l=0;l<3;l++){var E,S,g,y,_,b;y=C[R+2*3]*f[i.SHORT_TYPE][0]-C[R+5*3],E=C[R+0*3]*f[i.SHORT_TYPE][2]-C[R+3*3],S=y+E,g=y-E,y=C[R+5*3]*f[i.SHORT_TYPE][0]+C[R+2*3],E=C[R+3*3]*f[i.SHORT_TYPE][2]+C[R+0*3],_=y+E,b=-y+E,E=(C[R+1*3]*f[i.SHORT_TYPE][1]-C[R+4*3])*2069978111953089e-26,y=(C[R+4*3]*f[i.SHORT_TYPE][1]+C[R+1*3])*2069978111953089e-26,C[R+3*0]=S*190752519173728e-25+E,C[R+3*5]=-_*190752519173728e-25+y,g=g*.8660254037844387*1907525191737281e-26,_=_*.5*1907525191737281e-26+y,C[R+3*1]=g-_,C[R+3*2]=g+_,S=S*.5*1907525191737281e-26-E,b=b*.8660254037844387*1907525191737281e-26,C[R+3*3]=S+b,C[R+3*4]=S-b,R++}}function m(C,R,l){var E,S;{var g,y,_,b,A,v,d,x;g=l[17]-l[9],_=l[15]-l[11],b=l[14]-l[12],A=l[0]+l[8],v=l[1]+l[7],d=l[2]+l[6],x=l[3]+l[5],C[R+17]=A+d-x-(v-l[4]),S=(A+d-x)*O[19]+(v-l[4]),E=(g-_-b)*O[18],C[R+5]=E+S,C[R+6]=E-S,y=(l[16]-l[10])*O[18],v=v*O[19]+l[4],E=g*O[12]+y+_*O[13]+b*O[14],S=-A*O[16]+v-d*O[17]+x*O[15],C[R+1]=E+S,C[R+2]=E-S,E=g*O[13]-y-_*O[14]+b*O[12],S=-A*O[17]+v-d*O[15]+x*O[16],C[R+9]=E+S,C[R+10]=E-S,E=g*O[14]-y+_*O[12]-b*O[13],S=A*O[15]-v+d*O[16]-x*O[17],C[R+13]=E+S,C[R+14]=E-S}{var N,H,V,F,p,M,q,U;N=l[8]-l[0],V=l[6]-l[2],F=l[5]-l[3],p=l[17]+l[9],M=l[16]+l[10],q=l[15]+l[11],U=l[14]+l[12],C[R+0]=p+q+U+(M+l[13]),E=(p+q+U)*O[19]-(M+l[13]),S=(N-V+F)*O[18],C[R+11]=E+S,C[R+12]=E-S,H=(l[7]-l[1])*O[18],M=l[13]-M*O[19],E=p*O[15]-M+q*O[16]+U*O[17],S=N*O[14]+H+V*O[12]+F*O[13],C[R+3]=E+S,C[R+4]=E-S,E=-p*O[17]+M-q*O[15]-U*O[16],S=N*O[13]+H-V*O[14]-F*O[12],C[R+7]=E+S,C[R+8]=E-S,E=-p*O[16]+M-q*O[17]-U*O[15],S=N*O[12]-H+V*O[13]-F*O[14],C[R+15]=E+S,C[R+16]=E-S}}this.mdct_sub48=function(C,R,l){for(var E=R,S=286,g=0;g<C.channels_out;g++){for(var y=0;y<C.mode_gr;y++){for(var _,b=C.l3_side.tt[y][g],A=b.xr,v=0,d=C.sb_sample[g][1-y],x=0,N=0;N<18/2;N++)for(k(E,S,d[x]),k(E,S+32,d[x+1]),x+=2,S+=64,_=1;_<32;_+=2)d[x-1][_]*=-1;for(_=0;_<32;_++,v+=18){var H=b.block_type,V=C.sb_sample[g][y],F=C.sb_sample[g][1-y];if(b.mixed_block_flag!=0&&_<2&&(H=0),C.amp_filter[_]<1e-12)s.fill(A,v+0,v+18,0);else{if(C.amp_filter[_]<1)for(var N=0;N<18;N++)F[N][D[_]]*=C.amp_filter[_];if(H==i.SHORT_TYPE){for(var N=-c/4;N<0;N++){var p=f[i.SHORT_TYPE][N+3];A[v+N*3+9]=V[9+N][D[_]]*p-V[8-N][D[_]],A[v+N*3+18]=V[14-N][D[_]]*p+V[15+N][D[_]],A[v+N*3+10]=V[15+N][D[_]]*p-V[14-N][D[_]],A[v+N*3+19]=F[2-N][D[_]]*p+F[3+N][D[_]],A[v+N*3+11]=F[3+N][D[_]]*p-F[2-N][D[_]],A[v+N*3+20]=F[8-N][D[_]]*p+F[9+N][D[_]]}I(A,v)}else{for(var M=r(18),N=-u/4;N<0;N++){var q,U;q=f[H][N+27]*F[N+9][D[_]]+f[H][N+36]*F[8-N][D[_]],U=f[H][N+9]*V[N+9][D[_]]-f[H][N+18]*V[8-N][D[_]],M[N+9]=q-U*h[3+N+9],M[N+18]=q*h[3+N+9]+U}m(A,v,M)}}if(H!=i.SHORT_TYPE&&_!=0)for(var N=7;N>=0;--N){var fe,ie;fe=A[v+N]*w[20+N]+A[v+-1-N]*T[28+N],ie=A[v+N]*T[28+N]-A[v+-1-N]*w[20+N],A[v+-1-N]=fe,A[v+N]=ie}}}if(E=l,S=286,C.mode_gr==1)for(var ae=0;ae<18;ae++)e.arraycopy(C.sb_sample[g][1][ae],0,C.sb_sample[g][0][ae],0,32)}}}return Oc=a,Oc}var Rc,Cf;function Q_(){if(Cf)return Rc;Cf=1;var t=Xt(),e=pt,n=e.System,s=e.new_float,r=e.new_float_n;function i(){this.l=s(t.SBMAX_l),this.s=r([t.SBMAX_s,3]);var a=this;this.assign=function(o){n.arraycopy(o.l,0,a.l,0,t.SBMAX_l);for(var c=0;c<t.SBMAX_s;c++)for(var u=0;u<3;u++)a.s[c][u]=o.s[c][u]}}return Rc=i,Rc}var Nc,Mf;function F5(){if(Mf)return Nc;Mf=1;var t=Q_();function e(){this.thm=new t,this.en=new t}return Nc=e,Nc}var Ic,Of;function Xt(){if(Of)return Ic;Of=1;var t=pt,e=t.System,n=t.VbrMode,s=t.new_array_n,r=t.new_float,i=t.new_float_n,a=t.new_int,o=t.assert;c.ENCDELAY=576,c.POSTDELAY=1152,c.MDCTDELAY=48,c.FFTOFFSET=224+c.MDCTDELAY,c.DECDELAY=528,c.SBLIMIT=32,c.CBANDS=64,c.SBPSY_l=21,c.SBPSY_s=12,c.SBMAX_l=22,c.SBMAX_s=13,c.PSFB21=6,c.PSFB12=6,c.BLKSIZE=1024,c.HBLKSIZE=c.BLKSIZE/2+1,c.BLKSIZE_s=256,c.HBLKSIZE_s=c.BLKSIZE_s/2+1,c.NORM_TYPE=0,c.START_TYPE=1,c.SHORT_TYPE=2,c.STOP_TYPE=3,c.MPG_MD_LR_LR=0,c.MPG_MD_LR_I=1,c.MPG_MD_MS_LR=2,c.MPG_MD_MS_I=3,c.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function c(){var u=P5(),f=F5(),h=c.FFTOFFSET,O=c.MPG_MD_MS_LR,w=null;this.psy=null;var T=null,D=null,k=null;this.setModules=function(l,E,S,g){w=l,this.psy=E,T=E,D=g,k=S};var I=new u;function m(l){var E,S;if(l.ATH.useAdjust==0){l.ATH.adjust=1;return}if(S=l.loudness_sq[0][0],E=l.loudness_sq[1][0],l.channels_out==2?(S+=l.loudness_sq[0][1],E+=l.loudness_sq[1][1]):(S+=S,E+=E),l.mode_gr==2&&(S=Math.max(S,E)),S*=.5,S*=l.ATH.aaSensitivityP,S>.03125)l.ATH.adjust>=1?l.ATH.adjust=1:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=1;else{var g=31.98*S+625e-6;l.ATH.adjust>=g?(l.ATH.adjust*=g*.075+.925,l.ATH.adjust<g&&(l.ATH.adjust=g)):l.ATH.adjustLimit>=g?l.ATH.adjust=g:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=g}}function C(l){var E,S;for(o(0<=l.bitrate_index&&l.bitrate_index<16),o(0<=l.mode_ext&&l.mode_ext<4),l.bitrate_stereoMode_Hist[l.bitrate_index][4]++,l.bitrate_stereoMode_Hist[15][4]++,l.channels_out==2&&(l.bitrate_stereoMode_Hist[l.bitrate_index][l.mode_ext]++,l.bitrate_stereoMode_Hist[15][l.mode_ext]++),E=0;E<l.mode_gr;++E)for(S=0;S<l.channels_out;++S){var g=l.l3_side.tt[E][S].block_type|0;l.l3_side.tt[E][S].mixed_block_flag!=0&&(g=4),l.bitrate_blockType_Hist[l.bitrate_index][g]++,l.bitrate_blockType_Hist[l.bitrate_index][5]++,l.bitrate_blockType_Hist[15][g]++,l.bitrate_blockType_Hist[15][5]++}}function R(l,E){var S=l.internal_flags,g,y;if(S.lame_encode_frame_init==0){var _,b,A=r(2014),v=r(2014);for(S.lame_encode_frame_init=1,_=0,b=0;_<286+576*(1+S.mode_gr);++_)_<576*S.mode_gr?(A[_]=0,S.channels_out==2&&(v[_]=0)):(A[_]=E[0][b],S.channels_out==2&&(v[_]=E[1][b]),++b);for(y=0;y<S.mode_gr;y++)for(g=0;g<S.channels_out;g++)S.l3_side.tt[y][g].block_type=c.SHORT_TYPE;I.mdct_sub48(S,A,v),o(576>=c.FFTOFFSET),o(S.mf_size>=c.BLKSIZE+l.framesize-c.FFTOFFSET),o(S.mf_size>=512+l.framesize-32)}}this.lame_encode_mp3_frame=function(l,E,S,g,y,_){var b,A=s([2,2]);A[0][0]=new f,A[0][1]=new f,A[1][0]=new f,A[1][1]=new f;var v=s([2,2]);v[0][0]=new f,v[0][1]=new f,v[1][0]=new f,v[1][1]=new f;var d,x=[null,null],N=l.internal_flags,H=i([2,4]),V=[.5,.5],F=[[0,0],[0,0]],p=[[0,0],[0,0]],M,q,U;if(x[0]=E,x[1]=S,N.lame_encode_frame_init==0&&R(l,x),N.padding=0,(N.slot_lag-=N.frac_SpF)<0&&(N.slot_lag+=l.out_samplerate,N.padding=1),N.psymodel!=0){var fe,ie=[null,null],ae=0,ce=a(2);for(U=0;U<N.mode_gr;U++){for(q=0;q<N.channels_out;q++)ie[q]=x[q],ae=576+U*576-c.FFTOFFSET;if(l.VBR==n.vbr_mtrh||l.VBR==n.vbr_mt?fe=T.L3psycho_anal_vbr(l,ie,ae,U,A,v,F[U],p[U],H[U],ce):fe=T.L3psycho_anal_ns(l,ie,ae,U,A,v,F[U],p[U],H[U],ce),fe!=0)return-4;for(l.mode==MPEGMode.JOINT_STEREO&&(V[U]=H[U][2]+H[U][3],V[U]>0&&(V[U]=H[U][3]/V[U])),q=0;q<N.channels_out;q++){var ue=N.l3_side.tt[U][q];ue.block_type=ce[q],ue.mixed_block_flag=0}}}else for(U=0;U<N.mode_gr;U++)for(q=0;q<N.channels_out;q++)N.l3_side.tt[U][q].block_type=c.NORM_TYPE,N.l3_side.tt[U][q].mixed_block_flag=0,p[U][q]=F[U][q]=700;if(m(N),I.mdct_sub48(N,x[0],x[1]),N.mode_ext=c.MPG_MD_LR_LR,l.force_ms)N.mode_ext=c.MPG_MD_MS_LR;else if(l.mode==MPEGMode.JOINT_STEREO){var we=0,de=0;for(U=0;U<N.mode_gr;U++)for(q=0;q<N.channels_out;q++)we+=p[U][q],de+=F[U][q];if(we<=1*de){var Ve=N.l3_side.tt[0],Xe=N.l3_side.tt[N.mode_gr-1];Ve[0].block_type==Ve[1].block_type&&Xe[0].block_type==Xe[1].block_type&&(N.mode_ext=c.MPG_MD_MS_LR)}}if(N.mode_ext==O?(d=v,M=p):(d=A,M=F),l.analysis&&N.pinfo!=null)for(U=0;U<N.mode_gr;U++)for(q=0;q<N.channels_out;q++)N.pinfo.ms_ratio[U]=N.ms_ratio[U],N.pinfo.ms_ener_ratio[U]=V[U],N.pinfo.blocktype[U][q]=N.l3_side.tt[U][q].block_type,N.pinfo.pe[U][q]=M[U][q],e.arraycopy(N.l3_side.tt[U][q].xr,0,N.pinfo.xr[U][q],0,576),N.mode_ext==O&&(N.pinfo.ers[U][q]=N.pinfo.ers[U][q+2],e.arraycopy(N.pinfo.energy[U][q+2],0,N.pinfo.energy[U][q],0,N.pinfo.energy[U][q].length));if(l.VBR==n.vbr_off||l.VBR==n.vbr_abr){var $,Y;for($=0;$<18;$++)N.nsPsy.pefirbuf[$]=N.nsPsy.pefirbuf[$+1];for(Y=0,U=0;U<N.mode_gr;U++)for(q=0;q<N.channels_out;q++)Y+=M[U][q];for(N.nsPsy.pefirbuf[18]=Y,Y=N.nsPsy.pefirbuf[9],$=0;$<9;$++)Y+=(N.nsPsy.pefirbuf[$]+N.nsPsy.pefirbuf[18-$])*c.fircoef[$];for(Y=670*5*N.mode_gr*N.channels_out/Y,U=0;U<N.mode_gr;U++)for(q=0;q<N.channels_out;q++)M[U][q]*=Y}if(N.iteration_loop.iteration_loop(l,M,V,d),w.format_bitstream(l),b=w.copy_buffer(N,g,y,_,1),l.bWriteVbrTag&&D.addVbrFrame(l),l.analysis&&N.pinfo!=null){for(q=0;q<N.channels_out;q++){var j;for(j=0;j<h;j++)N.pinfo.pcmdata[q][j]=N.pinfo.pcmdata[q][j+l.framesize];for(j=h;j<1600;j++)N.pinfo.pcmdata[q][j]=x[q][j-h]}k.set_frame_pinfo(l,d)}return C(N),b}}return Ic=c,Ic}var J_=pt,Rf=J_.Util,Nf=J_.new_float,Ct=Xt();function $5(){var t=Nf(Ct.BLKSIZE),e=Nf(Ct.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function s(i,a,o){var c=0,u,f,h;o<<=1;var O=a+o;u=4;do{var w,T,D,k,I,m,C;C=u>>1,k=u,I=u<<1,m=I+k,u=I<<1,f=a,h=f+C;do{var R,l,E,S;l=i[f+0]-i[f+k],R=i[f+0]+i[f+k],S=i[f+I]-i[f+m],E=i[f+I]+i[f+m],i[f+I]=R-E,i[f+0]=R+E,i[f+m]=l-S,i[f+k]=l+S,l=i[h+0]-i[h+k],R=i[h+0]+i[h+k],S=Rf.SQRT2*i[h+m],E=Rf.SQRT2*i[h+I],i[h+I]=R-E,i[h+0]=R+E,i[h+m]=l-S,i[h+k]=l+S,h+=u,f+=u}while(f<O);for(T=n[c+0],w=n[c+1],D=1;D<C;D++){var g,y;g=1-2*w*w,y=2*w*T,f=a+D,h=a+k-D;do{var _,b,A,R,l,v,E,d,S,x;b=y*i[f+k]-g*i[h+k],_=g*i[f+k]+y*i[h+k],l=i[f+0]-_,R=i[f+0]+_,v=i[h+0]-b,A=i[h+0]+b,b=y*i[f+m]-g*i[h+m],_=g*i[f+m]+y*i[h+m],S=i[f+I]-_,E=i[f+I]+_,x=i[h+I]-b,d=i[h+I]+b,b=w*E-T*x,_=T*E+w*x,i[f+I]=R-_,i[f+0]=R+_,i[h+m]=v-b,i[h+k]=v+b,b=T*d-w*S,_=w*d+T*S,i[h+I]=A-_,i[h+0]=A+_,i[f+m]=l-b,i[f+k]=l+b,h+=u,f+=u}while(f<O);g=T,T=g*n[c+0]-w*n[c+1],w=g*n[c+1]+w*n[c+0]}c+=2}while(u<o)}var r=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,a,o,c,u){for(var f=0;f<3;f++){var h=Ct.BLKSIZE_s/2,O=65535&576/3*(f+1),w=Ct.BLKSIZE_s/8-1;do{var T,D,k,I,m,C=r[w<<2]&255;T=e[C]*c[o][u+C+O],m=e[127-C]*c[o][u+C+O+128],D=T-m,T=T+m,k=e[C+64]*c[o][u+C+O+64],m=e[63-C]*c[o][u+C+O+192],I=k-m,k=k+m,h-=4,a[f][h+0]=T+k,a[f][h+2]=T-k,a[f][h+1]=D+I,a[f][h+3]=D-I,T=e[C+1]*c[o][u+C+O+1],m=e[126-C]*c[o][u+C+O+129],D=T-m,T=T+m,k=e[C+65]*c[o][u+C+O+65],m=e[62-C]*c[o][u+C+O+193],I=k-m,k=k+m,a[f][h+Ct.BLKSIZE_s/2+0]=T+k,a[f][h+Ct.BLKSIZE_s/2+2]=T-k,a[f][h+Ct.BLKSIZE_s/2+1]=D+I,a[f][h+Ct.BLKSIZE_s/2+3]=D-I}while(--w>=0);s(a[f],h,Ct.BLKSIZE_s/2)}},this.fft_long=function(i,a,o,c,u){var f=Ct.BLKSIZE/8-1,h=Ct.BLKSIZE/2;do{var O,w,T,D,k,I=r[f]&255;O=t[I]*c[o][u+I],k=t[I+512]*c[o][u+I+512],w=O-k,O=O+k,T=t[I+256]*c[o][u+I+256],k=t[I+768]*c[o][u+I+768],D=T-k,T=T+k,h-=4,a[h+0]=O+T,a[h+2]=O-T,a[h+1]=w+D,a[h+3]=w-D,O=t[I+1]*c[o][u+I+1],k=t[I+513]*c[o][u+I+513],w=O-k,O=O+k,T=t[I+257]*c[o][u+I+257],k=t[I+769]*c[o][u+I+769],D=T-k,T=T+k,a[h+Ct.BLKSIZE/2+0]=O+T,a[h+Ct.BLKSIZE/2+2]=O-T,a[h+Ct.BLKSIZE/2+1]=w+D,a[h+Ct.BLKSIZE/2+3]=w-D}while(--f>=0);s(a,h,Ct.BLKSIZE/2)},this.init_fft=function(i){for(var a=0;a<Ct.BLKSIZE;a++)t[a]=.42-.5*Math.cos(2*Math.PI*(a+.5)/Ct.BLKSIZE)+.08*Math.cos(4*Math.PI*(a+.5)/Ct.BLKSIZE);for(var a=0;a<Ct.BLKSIZE_s/2;a++)e[a]=.5*(1-Math.cos(2*Math.PI*(a+.5)/Ct.BLKSIZE_s))}}var H5=$5,Hs=pt,ni=Hs.VbrMode,If=Hs.Float,si=Hs.ShortBlock,ln=Hs.Util,q5=Hs.Arrays,Nt=Hs.new_float,Rn=Hs.new_float_n,vr=Hs.new_int,$e=Hs.assert,W5=H5,ne=Xt();function j5(){var t=new W5,e=2.302585092994046,n=2,s=16,r=2,i=16,a=.34,o=1/(14752*14752)/(ne.BLKSIZE/2),c=.01,u=.8,f=.6,h=.3,O=3.5,w=21,T=.2302585093;function D(B){return B}function k(B,L){for(var W=0,G=0;G<ne.BLKSIZE/2;++G)W+=B[G]*L.ATH.eql_w[G];return W*=o,W}function I(B,L,W,G,X,P,z,Q,K,se,J){var re=B.internal_flags;if(K<2)t.fft_long(re,G[X],K,se,J),t.fft_short(re,P[z],K,se,J);else if(K==2){for(var Ae=ne.BLKSIZE-1;Ae>=0;--Ae){var ke=G[X+0][Ae],ve=G[X+1][Ae];G[X+0][Ae]=(ke+ve)*ln.SQRT2*.5,G[X+1][Ae]=(ke-ve)*ln.SQRT2*.5}for(var Ne=2;Ne>=0;--Ne)for(var Ae=ne.BLKSIZE_s-1;Ae>=0;--Ae){var ke=P[z+0][Ne][Ae],ve=P[z+1][Ne][Ae];P[z+0][Ne][Ae]=(ke+ve)*ln.SQRT2*.5,P[z+1][Ne][Ae]=(ke-ve)*ln.SQRT2*.5}}L[0]=G[X+0][0],L[0]*=L[0];for(var Ae=ne.BLKSIZE/2-1;Ae>=0;--Ae){var ee=G[X+0][ne.BLKSIZE/2-Ae],Ce=G[X+0][ne.BLKSIZE/2+Ae];L[ne.BLKSIZE/2-Ae]=(ee*ee+Ce*Ce)*.5}for(var Ne=2;Ne>=0;--Ne){W[Ne][0]=P[z+0][Ne][0],W[Ne][0]*=W[Ne][0];for(var Ae=ne.BLKSIZE_s/2-1;Ae>=0;--Ae){var ee=P[z+0][Ne][ne.BLKSIZE_s/2-Ae],Ce=P[z+0][Ne][ne.BLKSIZE_s/2+Ae];W[Ne][ne.BLKSIZE_s/2-Ae]=(ee*ee+Ce*Ce)*.5}}{for(var He=0,Ae=11;Ae<ne.HBLKSIZE;Ae++)He+=L[Ae];re.tot_ener[K]=He}if(B.analysis){for(var Ae=0;Ae<ne.HBLKSIZE;Ae++)re.pinfo.energy[Q][K][Ae]=re.pinfo.energy_save[K][Ae],re.pinfo.energy_save[K][Ae]=L[Ae];re.pinfo.pe[Q][K]=re.pe[K]}B.athaa_loudapprox==2&&K<2&&(re.loudness_sq[Q][K]=re.loudness_sq_save[K],re.loudness_sq_save[K]=k(L,re))}var m=8,C=23,R=15,l,E,S,g=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function y(){l=Math.pow(10,(m+1)/16),E=Math.pow(10,(C+1)/16),S=Math.pow(10,R/10)}var _=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],b=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],A=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function v(B,L,W,G,X,P){var z;if(L>B)if(L<B*E)z=L/B;else return B+L;else{if(B>=L*E)return B+L;z=B/L}if(B+=L,G+3<=6){if(z>=l)return B;var Q=0|ln.FAST_LOG10_X(z,16);return B*b[Q]}var Q=0|ln.FAST_LOG10_X(z,16);if(L=X.ATH.cb_l[W]*X.ATH.adjust,B<S*L){if(B>L){var K,se;return K=1,Q<=13&&(K=A[Q]),se=ln.FAST_LOG10_X(B/L,10/15),B*((_[Q]-K)*se+K)}return Q>13?B:B*A[Q]}return B*_[Q]}var d=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function x(B,L,W){var G;if(B<0&&(B=0),L<0&&(L=0),B<=0)return L;if(L<=0)return B;if(L>B?G=L/B:G=B/L,-2<=W&&W<=2){if(G>=l)return B+L;var X=0|ln.FAST_LOG10_X(G,16);return(B+L)*d[X]}return G<E?B+L:(B<L&&(B=L),B)}function N(B,L){var W=B.internal_flags;if(W.channels_out>1){for(var G=0;G<ne.SBMAX_l;G++){var X=W.thm[0].l[G],P=W.thm[1].l[G];W.thm[0].l[G]+=P*L,W.thm[1].l[G]+=X*L}for(var G=0;G<ne.SBMAX_s;G++)for(var z=0;z<3;z++){var X=W.thm[0].s[G][z],P=W.thm[1].s[G][z];W.thm[0].s[G][z]+=P*L,W.thm[1].s[G][z]+=X*L}}}function H(B){for(var L=0;L<ne.SBMAX_l;L++)if(!(B.thm[0].l[L]>1.58*B.thm[1].l[L]||B.thm[1].l[L]>1.58*B.thm[0].l[L])){var W=B.mld_l[L]*B.en[3].l[L],G=Math.max(B.thm[2].l[L],Math.min(B.thm[3].l[L],W));W=B.mld_l[L]*B.en[2].l[L];var X=Math.max(B.thm[3].l[L],Math.min(B.thm[2].l[L],W));B.thm[2].l[L]=G,B.thm[3].l[L]=X}for(var L=0;L<ne.SBMAX_s;L++)for(var P=0;P<3;P++)if(!(B.thm[0].s[L][P]>1.58*B.thm[1].s[L][P]||B.thm[1].s[L][P]>1.58*B.thm[0].s[L][P])){var W=B.mld_s[L]*B.en[3].s[L][P],G=Math.max(B.thm[2].s[L][P],Math.min(B.thm[3].s[L][P],W));W=B.mld_s[L]*B.en[2].s[L][P];var X=Math.max(B.thm[3].s[L][P],Math.min(B.thm[2].s[L][P],W));B.thm[2].s[L][P]=G,B.thm[3].s[L][P]=X}}function V(B,L,W){var G=L,X=Math.pow(10,W);L*=2,G*=2;for(var P=0;P<ne.SBMAX_l;P++){var z,Q,K,se;if(se=B.ATH.cb_l[B.bm_l[P]]*X,z=Math.min(Math.max(B.thm[0].l[P],se),Math.max(B.thm[1].l[P],se)),Q=Math.max(B.thm[2].l[P],se),K=Math.max(B.thm[3].l[P],se),z*L<Q+K){var J=z*G/(Q+K);Q*=J,K*=J}B.thm[2].l[P]=Math.min(Q,B.thm[2].l[P]),B.thm[3].l[P]=Math.min(K,B.thm[3].l[P])}X*=ne.BLKSIZE_s/ne.BLKSIZE;for(var P=0;P<ne.SBMAX_s;P++)for(var re=0;re<3;re++){var z,Q,K,se;if(se=B.ATH.cb_s[B.bm_s[P]]*X,z=Math.min(Math.max(B.thm[0].s[P][re],se),Math.max(B.thm[1].s[P][re],se)),Q=Math.max(B.thm[2].s[P][re],se),K=Math.max(B.thm[3].s[P][re],se),z*L<Q+K){var J=z*L/(Q+K);Q*=J,K*=J}B.thm[2].s[P][re]=Math.min(B.thm[2].s[P][re],Q),B.thm[3].s[P][re]=Math.min(B.thm[3].s[P][re],K)}}function F(B,L,W,G,X){var P,z,Q=0,K=0;for(P=z=0;P<ne.SBMAX_s;++z,++P){for(var se=B.bo_s[P],J=B.npart_s,re=se<J?se:J;z<re;)$e(L[z]>=0),$e(W[z]>=0),Q+=L[z],K+=W[z],z++;if(B.en[G].s[P][X]=Q,B.thm[G].s[P][X]=K,z>=J){++P;break}$e(L[z]>=0),$e(W[z]>=0);{var Ae=B.PSY.bo_s_weight[P],ke=1-Ae;Q=Ae*L[z],K=Ae*W[z],B.en[G].s[P][X]+=Q,B.thm[G].s[P][X]+=K,Q=ke*L[z],K=ke*W[z]}}for(;P<ne.SBMAX_s;++P)B.en[G].s[P][X]=0,B.thm[G].s[P][X]=0}function p(B,L,W,G){var X,P,z=0,Q=0;for(X=P=0;X<ne.SBMAX_l;++P,++X){for(var K=B.bo_l[X],se=B.npart_l,J=K<se?K:se;P<J;)$e(L[P]>=0),$e(W[P]>=0),z+=L[P],Q+=W[P],P++;if(B.en[G].l[X]=z,B.thm[G].l[X]=Q,P>=se){++X;break}$e(L[P]>=0),$e(W[P]>=0);{var re=B.PSY.bo_l_weight[X],Ae=1-re;z=re*L[P],Q=re*W[P],B.en[G].l[X]+=z,B.thm[G].l[X]+=Q,z=Ae*L[P],Q=Ae*W[P]}}for(;X<ne.SBMAX_l;++X)B.en[G].l[X]=0,B.thm[G].l[X]=0}function M(B,L,W,G,X,P){var z=B.internal_flags,Q,K;for(K=Q=0;K<z.npart_s;++K){for(var se=0,J=z.numlines_s[K],re=0;re<J;++re,++Q){var Ae=L[P][Q];se+=Ae}W[K]=se}for($e(K==z.npart_s),Q=K=0;K<z.npart_s;K++){var ke=z.s3ind_s[K][0],ve=z.s3_ss[Q++]*W[ke];for(++ke;ke<=z.s3ind_s[K][1];)ve+=z.s3_ss[Q]*W[ke],++Q,++ke;{var Ne=r*z.nb_s1[X][K];G[K]=Math.min(ve,Ne)}if(z.blocktype_old[X&1]==ne.SHORT_TYPE){var Ne=i*z.nb_s2[X][K],ee=G[K];G[K]=Math.min(Ne,ee)}z.nb_s2[X][K]=z.nb_s1[X][K],z.nb_s1[X][K]=ve,$e(G[K]>=0)}for(;K<=ne.CBANDS;++K)W[K]=0,G[K]=0}function q(B,L,W,G){var X=B.internal_flags;B.short_blocks==si.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var P=0;P<X.channels_out;P++)G[P]=ne.NORM_TYPE,B.short_blocks==si.short_block_dispensed&&(L[P]=1),B.short_blocks==si.short_block_forced&&(L[P]=0),L[P]!=0?($e(X.blocktype_old[P]!=ne.START_TYPE),X.blocktype_old[P]==ne.SHORT_TYPE&&(G[P]=ne.STOP_TYPE)):(G[P]=ne.SHORT_TYPE,X.blocktype_old[P]==ne.NORM_TYPE&&(X.blocktype_old[P]=ne.START_TYPE),X.blocktype_old[P]==ne.STOP_TYPE&&(X.blocktype_old[P]=ne.SHORT_TYPE)),W[P]=X.blocktype_old[P],X.blocktype_old[P]=G[P]}function U(B,L,W){return W>=1?B:W<=0?L:L>0?Math.pow(B/L,W)*L:0}var fe=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function ie(B,L){for(var W=309.07,G=0;G<ne.SBMAX_s-1;G++)for(var X=0;X<3;X++){var P=B.thm.s[G][X];if(P>0){var z=P*L,Q=B.en.s[G][X];Q>z&&(Q>z*1e10?W+=fe[G]*(10*e):W+=fe[G]*ln.FAST_LOG10(Q/z))}}return W}var ae=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ce(B,L){for(var W=281.0575,G=0;G<ne.SBMAX_l-1;G++){var X=B.thm.l[G];if(X>0){var P=X*L,z=B.en.l[G];z>P&&(z>P*1e10?W+=ae[G]*(10*e):W+=ae[G]*ln.FAST_LOG10(z/P))}}return W}function ue(B,L,W,G,X){var P,z;for(P=z=0;P<B.npart_l;++P){var Q=0,K=0,se;for(se=0;se<B.numlines_l[P];++se,++z){var J=L[z];Q+=J,K<J&&(K=J)}W[P]=Q,G[P]=K,X[P]=Q*B.rnumlines_l[P],$e(B.rnumlines_l[P]>=0),$e(W[P]>=0),$e(G[P]>=0),$e(X[P]>=0)}}function we(B,L,W,G){var X=g.length-1,P=0,z=W[P]+W[P+1];if(z>0){var Q=L[P];Q<L[P+1]&&(Q=L[P+1]),$e(B.numlines_l[P]+B.numlines_l[P+1]-1>0),z=20*(Q*2-z)/(z*(B.numlines_l[P]+B.numlines_l[P+1]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;for(P=1;P<B.npart_l-1;P++)if(z=W[P-1]+W[P]+W[P+1],z>0){var Q=L[P-1];Q<L[P]&&(Q=L[P]),Q<L[P+1]&&(Q=L[P+1]),$e(B.numlines_l[P-1]+B.numlines_l[P]+B.numlines_l[P+1]-1>0),z=20*(Q*3-z)/(z*(B.numlines_l[P-1]+B.numlines_l[P]+B.numlines_l[P+1]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;if($e(P==B.npart_l-1),z=W[P-1]+W[P],z>0){var Q=L[P-1];Q<L[P]&&(Q=L[P]),$e(B.numlines_l[P-1]+B.numlines_l[P]-1>0),z=20*(Q*2-z)/(z*(B.numlines_l[P-1]+B.numlines_l[P]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;$e(P==B.npart_l-1)}var de=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(B,L,W,G,X,P,z,Q,K,se){var J=B.internal_flags,re=Rn([2,ne.BLKSIZE]),Ae=Rn([2,3,ne.BLKSIZE_s]),ke=Nt(ne.CBANDS+1),ve=Nt(ne.CBANDS+1),Ne=Nt(ne.CBANDS+2),ee=vr(2),Ce=vr(2),He,ge,Me,be,De,rt,Se,Fe,qe=Rn([2,576]),ut,mn=vr(ne.CBANDS+2),xt=vr(ne.CBANDS+2);for(q5.fill(xt,0),He=J.channels_out,B.mode==MPEGMode.JOINT_STEREO&&(He=4),B.VBR==ni.vbr_off?ut=J.ResvMax==0?0:J.ResvSize/J.ResvMax*.5:B.VBR==ni.vbr_rh||B.VBR==ni.vbr_mtrh||B.VBR==ni.vbr_mt?ut=.6:ut=1,ge=0;ge<J.channels_out;ge++){var ht=L[ge],an=W+576-350-w+192;for(be=0;be<576;be++){var vn,gn;for(vn=ht[an+be+10],gn=0,De=0;De<(w-1)/2-1;De+=2)vn+=de[De]*(ht[an+be+De]+ht[an+be+w-De]),gn+=de[De+1]*(ht[an+be+De+1]+ht[an+be+w-De-1]);qe[ge][be]=vn+gn}X[G][ge].en.assign(J.en[ge]),X[G][ge].thm.assign(J.thm[ge]),He>2&&(P[G][ge].en.assign(J.en[ge+2]),P[G][ge].thm.assign(J.thm[ge+2]))}for(ge=0;ge<He;ge++){var $n,Hn,Ut=Nt(12),ts=[0,0,0,0],ei=Nt(12),ac=1,X0,K0=Nt(ne.CBANDS),z0=Nt(ne.CBANDS),ft=[0,0,0,0],Z0=Nt(ne.HBLKSIZE),Q0=Rn([3,ne.HBLKSIZE_s]);for($e(J.npart_s<=ne.CBANDS),$e(J.npart_l<=ne.CBANDS),be=0;be<3;be++)Ut[be]=J.nsPsy.last_en_subshort[ge][be+6],$e(J.nsPsy.last_en_subshort[ge][be+4]>0),ei[be]=Ut[be]/J.nsPsy.last_en_subshort[ge][be+4],ts[0]+=Ut[be];if(ge==2)for(be=0;be<576;be++){var oc,lc;oc=qe[0][be],lc=qe[1][be],qe[0][be]=oc+lc,qe[1][be]=oc-lc}{var J0=qe[ge&1],sa=0;for(be=0;be<9;be++){for(var pm=sa+64,Pt=1;sa<pm;sa++)Pt<Math.abs(J0[sa])&&(Pt=Math.abs(J0[sa]));J.nsPsy.last_en_subshort[ge][be]=Ut[be+3]=Pt,ts[1+be/3]+=Pt,Pt>Ut[be+3-2]?($e(Ut[be+3-2]>0),Pt=Pt/Ut[be+3-2]):Ut[be+3-2]>Pt*10?Pt=Ut[be+3-2]/(Pt*10):Pt=0,ei[be+3]=Pt}}if(B.analysis){var cc=ei[0];for(be=1;be<12;be++)cc<ei[be]&&(cc=ei[be]);J.pinfo.ers[G][ge]=J.pinfo.ers_save[ge],J.pinfo.ers_save[ge]=cc}for(X0=ge==3?J.nsPsy.attackthre_s:J.nsPsy.attackthre,be=0;be<12;be++)ft[be/3]==0&&ei[be]>X0&&(ft[be/3]=be%3+1);for(be=1;be<4;be++){var uc;ts[be-1]>ts[be]?($e(ts[be]>0),uc=ts[be-1]/ts[be]):($e(ts[be-1]>0),uc=ts[be]/ts[be-1]),uc<1.7&&(ft[be]=0,be==1&&(ft[0]=0))}for(ft[0]!=0&&J.nsPsy.lastAttacks[ge]!=0&&(ft[0]=0),(J.nsPsy.lastAttacks[ge]==3||ft[0]+ft[1]+ft[2]+ft[3]!=0)&&(ac=0,ft[1]!=0&&ft[0]!=0&&(ft[1]=0),ft[2]!=0&&ft[1]!=0&&(ft[2]=0),ft[3]!=0&&ft[2]!=0&&(ft[3]=0)),ge<2?Ce[ge]=ac:ac==0&&(Ce[0]=Ce[1]=0),K[ge]=J.tot_ener[ge],Hn=Ae,$n=re,I(B,Z0,Q0,$n,ge&1,Hn,ge&1,G,ge,L,W),ue(J,Z0,ke,K0,z0),we(J,K0,z0,mn),Fe=0;Fe<3;Fe++){var hc,on;for(M(B,Q0,ve,Ne,ge,Fe),F(J,ve,Ne,ge,Fe),Se=0;Se<ne.SBMAX_s;Se++){if(on=J.thm[ge].s[Se][Fe],on*=u,ft[Fe]>=2||ft[Fe+1]==1){var ra=Fe!=0?Fe-1:2,Pt=U(J.thm[ge].s[Se][ra],on,f*ut);on=Math.min(on,Pt)}if(ft[Fe]==1){var ra=Fe!=0?Fe-1:2,Pt=U(J.thm[ge].s[Se][ra],on,h*ut);on=Math.min(on,Pt)}else if(Fe!=0&&ft[Fe-1]==3||Fe==0&&J.nsPsy.lastAttacks[ge]==3){var ra=Fe!=2?Fe+1:0,Pt=U(J.thm[ge].s[Se][ra],on,h*ut);on=Math.min(on,Pt)}hc=Ut[Fe*3+3]+Ut[Fe*3+4]+Ut[Fe*3+5],Ut[Fe*3+5]*6<hc&&(on*=.5,Ut[Fe*3+4]*6<hc&&(on*=.5)),J.thm[ge].s[Se][Fe]=on}}for(J.nsPsy.lastAttacks[ge]=ft[2],rt=0,Me=0;Me<J.npart_l;Me++){for(var dr=J.s3ind[Me][0],fc=ke[dr]*g[mn[dr]],_r=J.s3_ll[rt++]*fc;++dr<=J.s3ind[Me][1];)fc=ke[dr]*g[mn[dr]],_r=v(_r,J.s3_ll[rt++]*fc,dr,dr-Me,J);_r*=.158489319246111,J.blocktype_old[ge&1]==ne.SHORT_TYPE?Ne[Me]=_r:Ne[Me]=U(Math.min(_r,Math.min(n*J.nb_1[ge][Me],s*J.nb_2[ge][Me])),_r,ut),J.nb_2[ge][Me]=J.nb_1[ge][Me],J.nb_1[ge][Me]=_r}for(;Me<=ne.CBANDS;++Me)ke[Me]=0,Ne[Me]=0;p(J,ke,Ne,ge)}if((B.mode==MPEGMode.STEREO||B.mode==MPEGMode.JOINT_STEREO)&&B.interChRatio>0&&N(B,B.interChRatio),B.mode==MPEGMode.JOINT_STEREO){var dc;H(J),dc=B.msfix,Math.abs(dc)>0&&V(J,dc,B.ATHlower*J.ATH.adjust)}for(q(B,Ce,se,ee),ge=0;ge<He;ge++){var ia,aa=0,po,mo;ge>1?(ia=Q,aa=-2,po=ne.NORM_TYPE,(se[0]==ne.SHORT_TYPE||se[1]==ne.SHORT_TYPE)&&(po=ne.SHORT_TYPE),mo=P[G][ge-2]):(ia=z,aa=0,po=se[ge],mo=X[G][ge]),po==ne.SHORT_TYPE?ia[aa+ge]=ie(mo,J.masking_lower):ia[aa+ge]=ce(mo,J.masking_lower),B.analysis&&(J.pinfo.pe[G][ge]=ia[aa+ge])}return 0};function Ve(B,L,W,G,X,P,z,Q){var K=B.internal_flags;if(G<2)t.fft_long(K,z[Q],G,L,W);else if(G==2)for(var se=ne.BLKSIZE-1;se>=0;--se){var J=z[Q+0][se],re=z[Q+1][se];z[Q+0][se]=(J+re)*ln.SQRT2*.5,z[Q+1][se]=(J-re)*ln.SQRT2*.5}P[0]=z[Q+0][0],P[0]*=P[0];for(var se=ne.BLKSIZE/2-1;se>=0;--se){var Ae=z[Q+0][ne.BLKSIZE/2-se],ke=z[Q+0][ne.BLKSIZE/2+se];P[ne.BLKSIZE/2-se]=(Ae*Ae+ke*ke)*.5}{for(var ve=0,se=11;se<ne.HBLKSIZE;se++)ve+=P[se];K.tot_ener[G]=ve}if(B.analysis){for(var se=0;se<ne.HBLKSIZE;se++)K.pinfo.energy[X][G][se]=K.pinfo.energy_save[G][se],K.pinfo.energy_save[G][se]=P[se];K.pinfo.pe[X][G]=K.pe[G]}}function Xe(B,L,W,G,X,P,z,Q){var K=B.internal_flags;if(X==0&&G<2&&t.fft_short(K,z[Q],G,L,W),G==2)for(var se=ne.BLKSIZE_s-1;se>=0;--se){var J=z[Q+0][X][se],re=z[Q+1][X][se];z[Q+0][X][se]=(J+re)*ln.SQRT2*.5,z[Q+1][X][se]=(J-re)*ln.SQRT2*.5}P[X][0]=z[Q+0][X][0],P[X][0]*=P[X][0];for(var se=ne.BLKSIZE_s/2-1;se>=0;--se){var Ae=z[Q+0][X][ne.BLKSIZE_s/2-se],ke=z[Q+0][X][ne.BLKSIZE_s/2+se];P[X][ne.BLKSIZE_s/2-se]=(Ae*Ae+ke*ke)*.5}}function $(B,L,W,G){var X=B.internal_flags;B.athaa_loudapprox==2&&W<2&&(X.loudness_sq[L][W]=X.loudness_sq_save[W],X.loudness_sq_save[W]=k(G,X))}var Y=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function j(B,L,W,G,X,P,z,Q,K,se){for(var J=Rn([2,576]),re=B.internal_flags,Ae=re.channels_out,ke=B.mode==MPEGMode.JOINT_STEREO?4:Ae,ve=0;ve<Ae;ve++){firbuf=L[ve];for(var Ne=W+576-350-w+192,ee=0;ee<576;ee++){var Ce,He;Ce=firbuf[Ne+ee+10],He=0;for(var ge=0;ge<(w-1)/2-1;ge+=2)Ce+=Y[ge]*(firbuf[Ne+ee+ge]+firbuf[Ne+ee+w-ge]),He+=Y[ge+1]*(firbuf[Ne+ee+ge+1]+firbuf[Ne+ee+w-ge-1]);J[ve][ee]=Ce+He}X[G][ve].en.assign(re.en[ve]),X[G][ve].thm.assign(re.thm[ve]),ke>2&&(P[G][ve].en.assign(re.en[ve+2]),P[G][ve].thm.assign(re.thm[ve+2]))}for(var ve=0;ve<ke;ve++){var Me=Nt(12),be=Nt(12),De=[0,0,0,0],rt=J[ve&1],Se=0,Fe=ve==3?re.nsPsy.attackthre_s:re.nsPsy.attackthre,qe=1;if(ve==2)for(var ee=0,ge=576;ge>0;++ee,--ge){var ut=J[0][ee],mn=J[1][ee];J[0][ee]=ut+mn,J[1][ee]=ut-mn}for(var ee=0;ee<3;ee++)be[ee]=re.nsPsy.last_en_subshort[ve][ee+6],$e(re.nsPsy.last_en_subshort[ve][ee+4]>0),Me[ee]=be[ee]/re.nsPsy.last_en_subshort[ve][ee+4],De[0]+=be[ee];for(var ee=0;ee<9;ee++){for(var xt=Se+64,ht=1;Se<xt;Se++)ht<Math.abs(rt[Se])&&(ht=Math.abs(rt[Se]));re.nsPsy.last_en_subshort[ve][ee]=be[ee+3]=ht,De[1+ee/3]+=ht,ht>be[ee+3-2]?($e(be[ee+3-2]>0),ht=ht/be[ee+3-2]):be[ee+3-2]>ht*10?ht=be[ee+3-2]/(ht*10):ht=0,Me[ee+3]=ht}for(var ee=0;ee<3;++ee){var an=be[ee*3+3]+be[ee*3+4]+be[ee*3+5],vn=1;be[ee*3+5]*6<an&&(vn*=.5,be[ee*3+4]*6<an&&(vn*=.5)),Q[ve][ee]=vn}if(B.analysis){for(var gn=Me[0],ee=1;ee<12;ee++)gn<Me[ee]&&(gn=Me[ee]);re.pinfo.ers[G][ve]=re.pinfo.ers_save[ve],re.pinfo.ers_save[ve]=gn}for(var ee=0;ee<12;ee++)K[ve][ee/3]==0&&Me[ee]>Fe&&(K[ve][ee/3]=ee%3+1);for(var ee=1;ee<4;ee++){var $n=De[ee-1],Hn=De[ee],Ut=Math.max($n,Hn);Ut<4e4&&$n<1.7*Hn&&Hn<1.7*$n&&(ee==1&&K[ve][0]<=K[ve][ee]&&(K[ve][0]=0),K[ve][ee]=0)}K[ve][0]<=re.nsPsy.lastAttacks[ve]&&(K[ve][0]=0),(re.nsPsy.lastAttacks[ve]==3||K[ve][0]+K[ve][1]+K[ve][2]+K[ve][3]!=0)&&(qe=0,K[ve][1]!=0&&K[ve][0]!=0&&(K[ve][1]=0),K[ve][2]!=0&&K[ve][1]!=0&&(K[ve][2]=0),K[ve][3]!=0&&K[ve][2]!=0&&(K[ve][3]=0)),ve<2?se[ve]=qe:qe==0&&(se[0]=se[1]=0),z[ve]=re.tot_ener[ve]}}function Z(B,L,W){if(W==0)for(var G=0;G<B.npart_s;G++)B.nb_s2[L][G]=B.nb_s1[L][G],B.nb_s1[L][G]=0}function te(B,L){for(var W=0;W<B.npart_l;W++)B.nb_2[L][W]=B.nb_1[L][W],B.nb_1[L][W]=0}function oe(B,L,W,G){var X=g.length-1,P=0,z=W[P]+W[P+1];if(z>0){var Q=L[P];Q<L[P+1]&&(Q=L[P+1]),$e(B.numlines_s[P]+B.numlines_s[P+1]-1>0),z=20*(Q*2-z)/(z*(B.numlines_s[P]+B.numlines_s[P+1]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;for(P=1;P<B.npart_s-1;P++)if(z=W[P-1]+W[P]+W[P+1],$e(P+1<B.npart_s),z>0){var Q=L[P-1];Q<L[P]&&(Q=L[P]),Q<L[P+1]&&(Q=L[P+1]),$e(B.numlines_s[P-1]+B.numlines_s[P]+B.numlines_s[P+1]-1>0),z=20*(Q*3-z)/(z*(B.numlines_s[P-1]+B.numlines_s[P]+B.numlines_s[P+1]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;if($e(P==B.npart_s-1),z=W[P-1]+W[P],z>0){var Q=L[P-1];Q<L[P]&&(Q=L[P]),$e(B.numlines_s[P-1]+B.numlines_s[P]-1>0),z=20*(Q*2-z)/(z*(B.numlines_s[P-1]+B.numlines_s[P]-1));var K=0|z;K>X&&(K=X),G[P]=K}else G[P]=0;$e(P==B.npart_s-1)}function he(B,L,W,G,X,P){var z=B.internal_flags,Q=new float[ne.CBANDS],K=Nt(ne.CBANDS),se,J,re,Ae=new int[ne.CBANDS];for(re=J=0;re<z.npart_s;++re){var ke=0,ve=0,Ne=z.numlines_s[re];for(se=0;se<Ne;++se,++J){var ee=L[P][J];ke+=ee,ve<ee&&(ve=ee)}W[re]=ke,Q[re]=ve,K[re]=ke/Ne,$e(K[re]>=0)}for($e(re==z.npart_s);re<ne.CBANDS;++re)Q[re]=0,K[re]=0;for(oe(z,Q,K,Ae),J=re=0;re<z.npart_s;re++){var Ce=z.s3ind_s[re][0],He=z.s3ind_s[re][1],ge,Me,be,De,rt;for(ge=Ae[Ce],Me=1,De=z.s3_ss[J]*W[Ce]*g[Ae[Ce]],++J,++Ce;Ce<=He;)ge+=Ae[Ce],Me+=1,be=z.s3_ss[J]*W[Ce]*g[Ae[Ce]],De=x(De,be,Ce-re),++J,++Ce;ge=(1+2*ge)/(2*Me),rt=g[ge]*.5,De*=rt,G[re]=De,z.nb_s2[X][re]=z.nb_s1[X][re],z.nb_s1[X][re]=De,be=Q[re],be*=z.minval_s[re],be*=rt,G[re]>be&&(G[re]=be),z.masking_lower>1&&(G[re]*=z.masking_lower),G[re]>W[re]&&(G[re]=W[re]),z.masking_lower<1&&(G[re]*=z.masking_lower),$e(G[re]>=0)}for(;re<ne.CBANDS;++re)W[re]=0,G[re]=0}function le(B,L,W,G,X){var P=Nt(ne.CBANDS),z=Nt(ne.CBANDS),Q=vr(ne.CBANDS+2),K;ue(B,L,W,P,z),we(B,P,z,Q);var se=0;for(K=0;K<B.npart_l;K++){var J,re,Ae,ke,ve=B.s3ind[K][0],Ne=B.s3ind[K][1],ee=0,Ce=0;for(ee=Q[ve],Ce+=1,re=B.s3_ll[se]*W[ve]*g[Q[ve]],++se,++ve;ve<=Ne;)ee+=Q[ve],Ce+=1,J=B.s3_ll[se]*W[ve]*g[Q[ve]],ke=x(re,J,ve-K),re=ke,++se,++ve;if(ee=(1+2*ee)/(2*Ce),Ae=g[ee]*.5,re*=Ae,B.blocktype_old[X&1]==ne.SHORT_TYPE){var He=n*B.nb_1[X][K];He>0?G[K]=Math.min(re,He):G[K]=Math.min(re,W[K]*h)}else{var ge=s*B.nb_2[X][K],Me=n*B.nb_1[X][K],He;ge<=0&&(ge=re),Me<=0&&(Me=re),B.blocktype_old[X&1]==ne.NORM_TYPE?He=Math.min(Me,ge):He=Me,G[K]=Math.min(re,He)}B.nb_2[X][K]=B.nb_1[X][K],B.nb_1[X][K]=re,J=P[K],J*=B.minval_l[K],J*=Ae,G[K]>J&&(G[K]=J),B.masking_lower>1&&(G[K]*=B.masking_lower),G[K]>W[K]&&(G[K]=W[K]),B.masking_lower<1&&(G[K]*=B.masking_lower),$e(G[K]>=0)}for(;K<ne.CBANDS;++K)W[K]=0,G[K]=0}function pe(B,L){var W=B.internal_flags;B.short_blocks==si.short_block_coupled&&!(L[0]!=0&&L[1]!=0)&&(L[0]=L[1]=0);for(var G=0;G<W.channels_out;G++)B.short_blocks==si.short_block_dispensed&&(L[G]=1),B.short_blocks==si.short_block_forced&&(L[G]=0)}function _e(B,L,W){for(var G=B.internal_flags,X=0;X<G.channels_out;X++){var P=ne.NORM_TYPE;L[X]!=0?($e(G.blocktype_old[X]!=ne.START_TYPE),G.blocktype_old[X]==ne.SHORT_TYPE&&(P=ne.STOP_TYPE)):(P=ne.SHORT_TYPE,G.blocktype_old[X]==ne.NORM_TYPE&&(G.blocktype_old[X]=ne.START_TYPE),G.blocktype_old[X]==ne.STOP_TYPE&&(G.blocktype_old[X]=ne.SHORT_TYPE)),W[X]=G.blocktype_old[X],G.blocktype_old[X]=P}}function Re(B,L,W,G,X,P,z){for(var Q=P*2,K=P>0?Math.pow(10,X):1,se,J,re=0;re<z;++re){var Ae=B[2][re],ke=B[3][re],ve=L[0][re],Ne=L[1][re],ee=L[2][re],Ce=L[3][re];if(ve<=1.58*Ne&&Ne<=1.58*ve){var He=W[re]*ke,ge=W[re]*Ae;J=Math.max(ee,Math.min(Ce,He)),se=Math.max(Ce,Math.min(ee,ge))}else J=ee,se=Ce;if(P>0){var Me,be,De=G[re]*K;if(Me=Math.min(Math.max(ve,De),Math.max(Ne,De)),ee=Math.max(J,De),Ce=Math.max(se,De),be=ee+Ce,be>0&&Me*Q<be){var rt=Me*Q/be;ee*=rt,Ce*=rt}J=Math.min(ee,J),se=Math.min(Ce,se)}J>Ae&&(J=Ae),se>ke&&(se=ke),L[2][re]=J,L[3][re]=se}}this.L3psycho_anal_vbr=function(B,L,W,G,X,P,z,Q,K,se){var J=B.internal_flags,re,Ae,ke=Nt(ne.HBLKSIZE),ve=Rn([3,ne.HBLKSIZE_s]),Ne=Rn([2,ne.BLKSIZE]),ee=Rn([2,3,ne.BLKSIZE_s]),Ce=Rn([4,ne.CBANDS]),He=Rn([4,ne.CBANDS]),ge=Rn([4,3]),Me=.6,be=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],De=vr(2),rt=B.mode==MPEGMode.JOINT_STEREO?4:J.channels_out;j(B,L,W,G,X,P,K,ge,be,De),pe(B,De);{for(var Se=0;Se<rt;Se++){var Fe=Se&1;re=Ne,Ve(B,L,W,Se,G,ke,re,Fe),$(B,G,Se,ke),De[Fe]!=0?le(J,ke,Ce[Se],He[Se],Se):te(J,Se)}De[0]+De[1]==2&&B.mode==MPEGMode.JOINT_STEREO&&Re(Ce,He,J.mld_cb_l,J.ATH.cb_l,B.ATHlower*J.ATH.adjust,B.msfix,J.npart_l);for(var Se=0;Se<rt;Se++){var Fe=Se&1;De[Fe]!=0&&p(J,Ce[Se],He[Se],Se)}}{for(var qe=0;qe<3;qe++){for(var Se=0;Se<rt;++Se){var Fe=Se&1;De[Fe]!=0?Z(J,Se,qe):(Ae=ee,Xe(B,L,W,Se,qe,ve,Ae,Fe),he(B,ve,Ce[Se],He[Se],Se,qe))}De[0]+De[1]==0&&B.mode==MPEGMode.JOINT_STEREO&&Re(Ce,He,J.mld_cb_s,J.ATH.cb_s,B.ATHlower*J.ATH.adjust,B.msfix,J.npart_s);for(var Se=0;Se<rt;++Se){var Fe=Se&1;De[Fe]==0&&F(J,Ce[Se],He[Se],Se,qe)}}for(var Se=0;Se<rt;Se++){var Fe=Se&1;if(De[Fe]==0)for(var ut=0;ut<ne.SBMAX_s;ut++){for(var mn=Nt(3),qe=0;qe<3;qe++){var xt=J.thm[Se].s[ut][qe];if(xt*=u,be[Se][qe]>=2||be[Se][qe+1]==1){var ht=qe!=0?qe-1:2,an=U(J.thm[Se].s[ut][ht],xt,f*Me);xt=Math.min(xt,an)}else if(be[Se][qe]==1){var ht=qe!=0?qe-1:2,an=U(J.thm[Se].s[ut][ht],xt,h*Me);xt=Math.min(xt,an)}else if(qe!=0&&be[Se][qe-1]==3||qe==0&&J.nsPsy.lastAttacks[Se]==3){var ht=qe!=2?qe+1:0,an=U(J.thm[Se].s[ut][ht],xt,h*Me);xt=Math.min(xt,an)}xt*=ge[Se][qe],mn[qe]=xt}for(var qe=0;qe<3;qe++)J.thm[Se].s[ut][qe]=mn[qe]}}}for(var Se=0;Se<rt;Se++)J.nsPsy.lastAttacks[Se]=be[Se][2];_e(B,De,se);for(var Se=0;Se<rt;Se++){var vn,gn,$n,Hn;Se>1?(vn=Q,gn=-2,$n=ne.NORM_TYPE,(se[0]==ne.SHORT_TYPE||se[1]==ne.SHORT_TYPE)&&($n=ne.SHORT_TYPE),Hn=P[G][Se-2]):(vn=z,gn=0,$n=se[Se],Hn=X[G][Se]),$n==ne.SHORT_TYPE?vn[gn+Se]=ie(Hn,J.masking_lower):vn[gn+Se]=ce(Hn,J.masking_lower),B.analysis&&(J.pinfo.pe[G][Se]=vn[gn+Se])}return 0};function Ee(B,L){var W=B,G;return W>=0?G=-W*27:G=W*L,G<=-72?0:Math.exp(G*T)}function Oe(B){var L=0,W=0;{var G=0,X,P;for(G=0;Ee(G,B)>1e-20;G-=1);for(X=G,P=0;Math.abs(P-X)>1e-12;)G=(P+X)/2,Ee(G,B)>0?P=G:X=G;L=X}{var G=0,X,P;for(G=0;Ee(G,B)>1e-20;G+=1);for(X=0,P=G;Math.abs(P-X)>1e-12;)G=(P+X)/2,Ee(G,B)>0?X=G:P=G;W=P}{var z=0,Q=1e3,K;for(K=0;K<=Q;++K){var G=L+K*(W-L)/Q,se=Ee(G,B);z+=se}{var J=(Q+1)/(z*(W-L));return J}}}function Ie(B){var L,W,G,X;return L=B,L>=0?L*=3:L*=1.5,L>=.5&&L<=2.5?(X=L-.5,W=8*(X*X-2*X)):W=0,L+=.474,G=15.811389+7.5*L-17.5*Math.sqrt(1+L*L),G<=-60?0:(L=Math.exp((W+G)*T),L/=.6609193,L)}function Le(B){return B<0&&(B=0),B=B*.001,13*Math.atan(.76*B)+3.5*Math.atan(B*B/(7.5*7.5))}function Ye(B,L,W,G,X,P,z,Q,K,se,J,re){var Ae=Nt(ne.CBANDS+1),ke=Q/(re>15?2*576:2*192),ve=vr(ne.HBLKSIZE),Ne;Q/=K;var ee=0,Ce=0;for(Ne=0;Ne<ne.CBANDS;Ne++){var He,ge;for(He=Le(Q*ee),Ae[Ne]=Q*ee,ge=ee;Le(Q*ge)-He<a&&ge<=K/2;ge++);for(B[Ne]=ge-ee,Ce=Ne+1;ee<ge;)$e(ee<ne.HBLKSIZE),ve[ee++]=Ne;if(ee>K/2){ee=K/2,++Ne;break}}$e(Ne<ne.CBANDS),Ae[Ne]=Q*ee;for(var Me=0;Me<re;Me++){var be,De,rt,Se,Fe;rt=se[Me],Se=se[Me+1],be=0|Math.floor(.5+J*(rt-.5)),be<0&&(be=0),De=0|Math.floor(.5+J*(Se-.5)),De>K/2&&(De=K/2),W[Me]=(ve[be]+ve[De])/2,L[Me]=ve[De];var qe=ke*Se;z[Me]=(qe-Ae[L[Me]])/(Ae[L[Me]+1]-Ae[L[Me]]),z[Me]<0?z[Me]=0:z[Me]>1&&(z[Me]=1),Fe=Le(Q*se[Me]*J),Fe=Math.min(Fe,15.5)/15.5,P[Me]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Fe))-2.5)}ee=0;for(var ut=0;ut<Ce;ut++){var mn=B[ut],He,xt;He=Le(Q*ee),xt=Le(Q*(ee+mn-1)),G[ut]=.5*(He+xt),He=Le(Q*(ee-.5)),xt=Le(Q*(ee+mn-.5)),X[ut]=xt-He,ee+=mn}return Ce}function Ze(B,L,W,G,X,P){var z=Rn([ne.CBANDS,ne.CBANDS]),Q,K=0;if(P)for(var se=0;se<L;se++)for(Q=0;Q<L;Q++){var J=Ie(W[se]-W[Q])*G[Q];z[se][Q]=J*X[se]}else for(Q=0;Q<L;Q++)for(var re=15+Math.min(21/W[Q],12),Ae=Oe(re),se=0;se<L;se++){var J=Ae*Ee(W[se]-W[Q],re)*G[Q];z[se][Q]=J*X[se]}for(var se=0;se<L;se++){for(Q=0;Q<L&&!(z[se][Q]>0);Q++);for(B[se][0]=Q,Q=L-1;Q>0&&!(z[se][Q]>0);Q--);B[se][1]=Q,K+=B[se][1]-B[se][0]+1}for(var ke=Nt(K),ve=0,se=0;se<L;se++)for(Q=B[se][0];Q<=B[se][1];Q++)ke[ve++]=z[se][Q];return ke}function jt(B){var L=Le(B);return L=Math.min(L,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*L))-2.5)}this.psymodel_init=function(B){var L=B.internal_flags,W,G=!0,X=13,P=24,z=0,Q=0,K=-8.25,se=-4.5,J=Nt(ne.CBANDS),re=Nt(ne.CBANDS),Ae=Nt(ne.CBANDS),ke=B.out_samplerate;switch(B.experimentalZ){default:case 0:G=!0;break;case 1:G=!(B.VBR==ni.vbr_mtrh||B.VBR==ni.vbr_mt);break;case 2:G=!1;break;case 3:X=8,z=-1.75,Q=-.0125,K=-8.25,se=-2.25;break}for(L.ms_ener_ratio_old=.25,L.blocktype_old[0]=L.blocktype_old[1]=ne.NORM_TYPE,W=0;W<4;++W){for(var ee=0;ee<ne.CBANDS;++ee)L.nb_1[W][ee]=1e20,L.nb_2[W][ee]=1e20,L.nb_s1[W][ee]=L.nb_s2[W][ee]=1;for(var ve=0;ve<ne.SBMAX_l;ve++)L.en[W].l[ve]=1e20,L.thm[W].l[ve]=1e20;for(var ee=0;ee<3;++ee){for(var ve=0;ve<ne.SBMAX_s;ve++)L.en[W].s[ve][ee]=1e20,L.thm[W].s[ve][ee]=1e20;L.nsPsy.lastAttacks[W]=0}for(var ee=0;ee<9;ee++)L.nsPsy.last_en_subshort[W][ee]=10}for(L.loudness_sq_save[0]=L.loudness_sq_save[1]=0,L.npart_l=Ye(L.numlines_l,L.bo_l,L.bm_l,J,re,L.mld_l,L.PSY.bo_l_weight,ke,ne.BLKSIZE,L.scalefac_band.l,ne.BLKSIZE/(2*576),ne.SBMAX_l),$e(L.npart_l<ne.CBANDS),W=0;W<L.npart_l;W++){var Ne=z;J[W]>=X&&(Ne=Q*(J[W]-X)/(P-X)+z*(P-J[W])/(P-X)),Ae[W]=Math.pow(10,Ne/10),L.numlines_l[W]>0?L.rnumlines_l[W]=1/L.numlines_l[W]:L.rnumlines_l[W]=0}L.s3_ll=Ze(L.s3ind,L.npart_l,J,re,Ae,G);var ee=0;for(W=0;W<L.npart_l;W++){var Ce;Ce=If.MAX_VALUE;for(var He=0;He<L.numlines_l[W];He++,ee++){var ge=ke*ee/(1e3*ne.BLKSIZE),Me;Me=this.ATHformula(ge*1e3,B)-20,Me=Math.pow(10,.1*Me),Me*=L.numlines_l[W],Ce>Me&&(Ce=Me)}L.ATH.cb_l[W]=Ce,Ce=-20+J[W]*20/10,Ce>6&&(Ce=100),Ce<-15&&(Ce=-15),Ce-=8,L.minval_l[W]=Math.pow(10,Ce/10)*L.numlines_l[W]}for(L.npart_s=Ye(L.numlines_s,L.bo_s,L.bm_s,J,re,L.mld_s,L.PSY.bo_s_weight,ke,ne.BLKSIZE_s,L.scalefac_band.s,ne.BLKSIZE_s/(2*192),ne.SBMAX_s),$e(L.npart_s<ne.CBANDS),ee=0,W=0;W<L.npart_s;W++){var Ce,Ne=K;J[W]>=X&&(Ne=se*(J[W]-X)/(P-X)+K*(P-J[W])/(P-X)),Ae[W]=Math.pow(10,Ne/10),Ce=If.MAX_VALUE;for(var He=0;He<L.numlines_s[W];He++,ee++){var ge=ke*ee/(1e3*ne.BLKSIZE_s),Me;Me=this.ATHformula(ge*1e3,B)-20,Me=Math.pow(10,.1*Me),Me*=L.numlines_s[W],Ce>Me&&(Ce=Me)}L.ATH.cb_s[W]=Ce,Ce=-7+J[W]*7/12,J[W]>12&&(Ce*=1+Math.log(1+Ce)*3.1),J[W]<12&&(Ce*=1+Math.log(1-Ce)*2.3),Ce<-15&&(Ce=-15),Ce-=8,L.minval_s[W]=Math.pow(10,Ce/10)*L.numlines_s[W]}L.s3_ss=Ze(L.s3ind_s,L.npart_s,J,re,Ae,G),y(),t.init_fft(L),L.decay=Math.exp(-1*e/(c*ke/192));{var be;be=O,B.exp_nspsytune&2&&(be=1),Math.abs(B.msfix)>0&&(be=B.msfix),B.msfix=be;for(var De=0;De<L.npart_l;De++)L.s3ind[De][1]>L.npart_l-1&&(L.s3ind[De][1]=L.npart_l-1)}var rt=576*L.mode_gr/ke;if(L.ATH.decay=Math.pow(10,-12/10*rt),L.ATH.adjust=.01,L.ATH.adjustLimit=1,$e(L.bo_l[ne.SBMAX_l-1]<=L.npart_l),$e(L.bo_s[ne.SBMAX_s-1]<=L.npart_s),B.ATHtype!=-1){var ge,Se=B.out_samplerate/ne.BLKSIZE,Fe=0;for(ge=0,W=0;W<ne.BLKSIZE/2;++W)ge+=Se,L.ATH.eql_w[W]=1/Math.pow(10,this.ATHformula(ge,B)/10),Fe+=L.ATH.eql_w[W];for(Fe=1/Fe,W=ne.BLKSIZE/2;--W>=0;)L.ATH.eql_w[W]*=Fe}{for(var De=ee=0;De<L.npart_s;++De)for(W=0;W<L.numlines_s[De];++W)++ee;for(var De=ee=0;De<L.npart_l;++De)for(W=0;W<L.numlines_l[De];++W)++ee}for(ee=0,W=0;W<L.npart_l;W++){var ge=ke*(ee+L.numlines_l[W]/2)/(1*ne.BLKSIZE);L.mld_cb_l[W]=jt(ge),ee+=L.numlines_l[W]}for(;W<ne.CBANDS;++W)L.mld_cb_l[W]=1;for(ee=0,W=0;W<L.npart_s;W++){var ge=ke*(ee+L.numlines_s[W]/2)/(1*ne.BLKSIZE_s);L.mld_cb_s[W]=jt(ge),ee+=L.numlines_s[W]}for(;W<ne.CBANDS;++W)L.mld_cb_s[W]=1;return 0};function mt(B,L){B<-.3&&(B=3410),B/=1e3,B=Math.max(.1,B);var W=3.64*Math.pow(B,-.8)-6.8*Math.exp(-.6*Math.pow(B-3.4,2))+6*Math.exp(-.15*Math.pow(B-8.7,2))+(.6+.04*L)*.001*Math.pow(B,4);return W}this.ATHformula=function(B,L){var W;switch(L.ATHtype){case 0:W=mt(B,9);break;case 1:W=mt(B,-1);break;case 2:W=mt(B,0);break;case 3:W=mt(B,1)+6;break;case 4:W=mt(B,L.ATHcurve);break;default:W=mt(B,0);break}return W}}var U5=j5;function zn(t){var e=t;this.ordinal=function(){return e}}zn.STEREO=new zn(0);zn.JOINT_STEREO=new zn(1);zn.DUAL_CHANNEL=new zn(2);zn.MONO=new zn(3);zn.NOT_SET=new zn(4);var ep=zn,Y5=ep;function G5(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=Y5.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var X5=G5,K5=Xt(),tp={};tp.SFBMAX=K5.SBMAX_s*3;var Xl=tp,np=pt,z5=np.new_float,gr=np.new_int,kc=Xl;function Z5(){this.xr=z5(576),this.l3_enc=gr(576),this.scalefac=gr(kc.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=gr(3),this.subblock_gain=gr(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=gr(kc.SFBMAX),this.window=gr(kc.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=gr(4),this.max_nonzero_coeff=0;var t=this;function e(s){return new Int32Array(s)}function n(s){return new Float32Array(s)}this.assign=function(s){t.xr=n(s.xr),t.l3_enc=e(s.l3_enc),t.scalefac=e(s.scalefac),t.xrpow_max=s.xrpow_max,t.part2_3_length=s.part2_3_length,t.big_values=s.big_values,t.count1=s.count1,t.global_gain=s.global_gain,t.scalefac_compress=s.scalefac_compress,t.block_type=s.block_type,t.mixed_block_flag=s.mixed_block_flag,t.table_select=e(s.table_select),t.subblock_gain=e(s.subblock_gain),t.region0_count=s.region0_count,t.region1_count=s.region1_count,t.preflag=s.preflag,t.scalefac_scale=s.scalefac_scale,t.count1table_select=s.count1table_select,t.part2_length=s.part2_length,t.sfb_lmax=s.sfb_lmax,t.sfb_smin=s.sfb_smin,t.psy_lmax=s.psy_lmax,t.sfbmax=s.sfbmax,t.psymax=s.psymax,t.sfbdivide=s.sfbdivide,t.width=e(s.width),t.window=e(s.window),t.count1bits=s.count1bits,t.sfb_partition_table=s.sfb_partition_table.slice(0),t.slen=e(s.slen),t.max_nonzero_coeff=s.max_nonzero_coeff}}var x0=Z5,Q5=pt,kf=Q5.new_int,J5=x0;function e6(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[kf(4),kf(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new J5}var t6=e6,sp=pt,xo=sp.System,Co=sp.new_int,Mo=Xt();function n6(t,e,n,s){this.l=Co(1+Mo.SBMAX_l),this.s=Co(1+Mo.SBMAX_s),this.psfb21=Co(1+Mo.PSFB21),this.psfb12=Co(1+Mo.PSFB12);var r=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],xo.arraycopy(this.arrL,0,r,0,Math.min(this.arrL.length,this.l.length)),xo.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),xo.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),xo.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var rp=n6,C0=pt,Dc=C0.new_float,s6=C0.new_float_n,r6=C0.new_int,Df=Xt();function i6(){this.last_en_subshort=s6([4,9]),this.lastAttacks=r6(4),this.pefirbuf=Dc(19),this.longfact=Dc(Df.SBMAX_l),this.shortfact=Dc(Df.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var a6=i6;function o6(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var l6=o6,Xi=pt,c6=Xi.new_byte,u6=Xi.new_double,Nn=Xi.new_float,br=Xi.new_float_n,qn=Xi.new_int,Oo=Xi.new_int_n,h6=t6,f6=rp,d6=a6,_6=l6,Bf=Q_(),Et=Xt(),p6=Xl;Rs.MFSIZE=3*1152+Et.ENCDELAY-Et.MDCTDELAY;Rs.MAX_HEADER_BUF=256;Rs.MAX_BITS_PER_CHANNEL=4095;Rs.MAX_BITS_PER_GRANULE=7680;Rs.BPC=320;function Rs(){var t=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=br([2,Rs.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new h6,this.ms_ratio=Nn(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=qn(2),this.CurrentStep=qn(2),this.masking_lower=0,this.bv_scf=qn(576),this.pseudohalf=qn(p6.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Rs.BPC+1),this.itime=u6(2),this.sideinfo_len=0,this.sb_sample=br([2,2,18,Et.SBLIMIT]),this.amp_filter=Nn(32);function e(){this.write_timing=0,this.ptr=0,this.buf=c6(t)}this.header=new Array(Rs.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new f6,this.minval_l=Nn(Et.CBANDS),this.minval_s=Nn(Et.CBANDS),this.nb_1=br([4,Et.CBANDS]),this.nb_2=br([4,Et.CBANDS]),this.nb_s1=br([4,Et.CBANDS]),this.nb_s2=br([4,Et.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Nn(4),this.loudness_sq=br([2,2]),this.loudness_sq_save=Nn(2),this.mld_l=Nn(Et.SBMAX_l),this.mld_s=Nn(Et.SBMAX_s),this.bm_l=qn(Et.SBMAX_l),this.bo_l=qn(Et.SBMAX_l),this.bm_s=qn(Et.SBMAX_s),this.bo_s=qn(Et.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Oo([Et.CBANDS,2]),this.s3ind_s=Oo([Et.CBANDS,2]),this.numlines_s=qn(Et.CBANDS),this.numlines_l=qn(Et.CBANDS),this.rnumlines_l=Nn(Et.CBANDS),this.mld_cb_l=Nn(Et.CBANDS),this.mld_cb_s=Nn(Et.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Nn(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=qn(2),this.nsPsy=new d6,this.VBR_seek_table=new _6,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Oo([16,5]),this.bitrate_blockType_Hist=Oo([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new Bf;for(var n=0;n<this.thm.length;n++)this.thm[n]=new Bf;for(var n=0;n<this.header.length;n++)this.header[n]=new e}var Kl=Rs,m6=pt,yr=m6.new_float,Tr=Xt();function v6(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=yr(Tr.SBMAX_l),this.s=yr(Tr.SBMAX_s),this.psfb21=yr(Tr.PSFB21),this.psfb12=yr(Tr.PSFB12),this.cb_l=yr(Tr.CBANDS),this.cb_s=yr(Tr.CBANDS),this.eql_w=yr(Tr.BLKSIZE/2)}var g6=v6,ip=pt,cn=ip.System,Lf=ip.Arrays;At.STEPS_per_dB=100;At.MAX_dB=120;At.GAIN_NOT_ENOUGH_SAMPLES=-24601;At.GAIN_ANALYSIS_ERROR=0;At.GAIN_ANALYSIS_OK=1;At.INIT_GAIN_ANALYSIS_ERROR=0;At.INIT_GAIN_ANALYSIS_OK=1;At.YULE_ORDER=10;At.MAX_ORDER=At.YULE_ORDER;At.MAX_SAMP_FREQ=48e3;At.RMS_WINDOW_TIME_NUMERATOR=1;At.RMS_WINDOW_TIME_DENOMINATOR=20;At.MAX_SAMPLES_PER_WINDOW=At.MAX_SAMP_FREQ*At.RMS_WINDOW_TIME_NUMERATOR/At.RMS_WINDOW_TIME_DENOMINATOR+1;function At(){var t=64.82,e=.95,n=At.RMS_WINDOW_TIME_NUMERATOR,s=At.RMS_WINDOW_TIME_DENOMINATOR,r=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function a(h,O,w,T,D,k){for(;D--!=0;)w[T]=1e-10+h[O+0]*k[0]-w[T-1]*k[1]+h[O-1]*k[2]-w[T-2]*k[3]+h[O-2]*k[4]-w[T-3]*k[5]+h[O-3]*k[6]-w[T-4]*k[7]+h[O-4]*k[8]-w[T-5]*k[9]+h[O-5]*k[10]-w[T-6]*k[11]+h[O-6]*k[12]-w[T-7]*k[13]+h[O-7]*k[14]-w[T-8]*k[15]+h[O-8]*k[16]-w[T-9]*k[17]+h[O-9]*k[18]-w[T-10]*k[19]+h[O-10]*k[20],++T,++O}function o(h,O,w,T,D,k){for(;D--!=0;)w[T]=h[O+0]*k[0]-w[T-1]*k[1]+h[O-1]*k[2]-w[T-2]*k[3]+h[O-2]*k[4],++T,++O}function c(h,O){for(var w=0;w<MAX_ORDER;w++)h.linprebuf[w]=h.lstepbuf[w]=h.loutbuf[w]=h.rinprebuf[w]=h.rstepbuf[w]=h.routbuf[w]=0;switch(0|O){case 48e3:h.reqindex=0;break;case 44100:h.reqindex=1;break;case 32e3:h.reqindex=2;break;case 24e3:h.reqindex=3;break;case 22050:h.reqindex=4;break;case 16e3:h.reqindex=5;break;case 12e3:h.reqindex=6;break;case 11025:h.reqindex=7;break;case 8e3:h.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return h.sampleWindow=0|(O*n+s-1)/s,h.lsum=0,h.rsum=0,h.totsamp=0,Lf.ill(h.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(h,O){return c(h,O)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(h.linpre=MAX_ORDER,h.rinpre=MAX_ORDER,h.lstep=MAX_ORDER,h.rstep=MAX_ORDER,h.lout=MAX_ORDER,h.rout=MAX_ORDER,Lf.fill(h.B,0),INIT_GAIN_ANALYSIS_OK)};function u(h){return h*h}this.AnalyzeSamples=function(h,O,w,T,D,k,I){var m,C,R,l,E,S,g;if(k==0)return GAIN_ANALYSIS_OK;switch(g=0,E=k,I){case 1:T=O,D=w;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(k<MAX_ORDER?(cn.arraycopy(O,w,h.linprebuf,MAX_ORDER,k),cn.arraycopy(T,D,h.rinprebuf,MAX_ORDER,k)):(cn.arraycopy(O,w,h.linprebuf,MAX_ORDER,MAX_ORDER),cn.arraycopy(T,D,h.rinprebuf,MAX_ORDER,MAX_ORDER));E>0;){S=E>h.sampleWindow-h.totsamp?h.sampleWindow-h.totsamp:E,g<MAX_ORDER?(m=h.linpre+g,C=h.linprebuf,R=h.rinpre+g,l=h.rinprebuf,S>MAX_ORDER-g&&(S=MAX_ORDER-g)):(m=w+g,C=O,R=D+g,l=T),a(C,m,h.lstepbuf,h.lstep+h.totsamp,S,r[h.reqindex]),a(l,R,h.rstepbuf,h.rstep+h.totsamp,S,r[h.reqindex]),o(h.lstepbuf,h.lstep+h.totsamp,h.loutbuf,h.lout+h.totsamp,S,i[h.reqindex]),o(h.rstepbuf,h.rstep+h.totsamp,h.routbuf,h.rout+h.totsamp,S,i[h.reqindex]),m=h.lout+h.totsamp,C=h.loutbuf,R=h.rout+h.totsamp,l=h.routbuf;for(var y=S%8;y--!=0;)h.lsum+=u(C[m++]),h.rsum+=u(l[R++]);for(y=S/8;y--!=0;)h.lsum+=u(C[m+0])+u(C[m+1])+u(C[m+2])+u(C[m+3])+u(C[m+4])+u(C[m+5])+u(C[m+6])+u(C[m+7]),m+=8,h.rsum+=u(l[R+0])+u(l[R+1])+u(l[R+2])+u(l[R+3])+u(l[R+4])+u(l[R+5])+u(l[R+6])+u(l[R+7]),R+=8;if(E-=S,g+=S,h.totsamp+=S,h.totsamp==h.sampleWindow){var _=At.STEPS_per_dB*10*Math.log10((h.lsum+h.rsum)/h.totsamp*.5+1e-37),b=_<=0?0:0|_;b>=h.A.length&&(b=h.A.length-1),h.A[b]++,h.lsum=h.rsum=0,cn.arraycopy(h.loutbuf,h.totsamp,h.loutbuf,0,MAX_ORDER),cn.arraycopy(h.routbuf,h.totsamp,h.routbuf,0,MAX_ORDER),cn.arraycopy(h.lstepbuf,h.totsamp,h.lstepbuf,0,MAX_ORDER),cn.arraycopy(h.rstepbuf,h.totsamp,h.rstepbuf,0,MAX_ORDER),h.totsamp=0}if(h.totsamp>h.sampleWindow)return GAIN_ANALYSIS_ERROR}return k<MAX_ORDER?(cn.arraycopy(h.linprebuf,k,h.linprebuf,0,MAX_ORDER-k),cn.arraycopy(h.rinprebuf,k,h.rinprebuf,0,MAX_ORDER-k),cn.arraycopy(O,w,h.linprebuf,MAX_ORDER-k,k),cn.arraycopy(T,D,h.rinprebuf,MAX_ORDER-k,k)):(cn.arraycopy(O,w+k-MAX_ORDER,h.linprebuf,0,MAX_ORDER),cn.arraycopy(T,D+k-MAX_ORDER,h.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function f(h,O){var w,T=0;for(w=0;w<O;w++)T+=h[w];if(T==0)return GAIN_NOT_ENOUGH_SAMPLES;var D=0|Math.ceil(T*(1-e));for(w=O;w-- >0&&!((D-=h[w])<=0););return t-w/At.STEPS_per_dB}this.GetTitleGain=function(h){for(var O=f(h.A,h.A.length),w=0;w<h.A.length;w++)h.B[w]+=h.A[w],h.A[w]=0;for(var w=0;w<MAX_ORDER;w++)h.linprebuf[w]=h.lstepbuf[w]=h.loutbuf[w]=h.rinprebuf[w]=h.rstepbuf[w]=h.routbuf[w]=0;return h.totsamp=0,h.lsum=h.rsum=0,O}}var ap=At,op=pt,ri=op.new_float,Vf=op.new_int,un=ap;function b6(){this.linprebuf=ri(un.MAX_ORDER*2),this.linpre=0,this.lstepbuf=ri(un.MAX_SAMPLES_PER_WINDOW+un.MAX_ORDER),this.lstep=0,this.loutbuf=ri(un.MAX_SAMPLES_PER_WINDOW+un.MAX_ORDER),this.lout=0,this.rinprebuf=ri(un.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=ri(un.MAX_SAMPLES_PER_WINDOW+un.MAX_ORDER),this.rstep=0,this.routbuf=ri(un.MAX_SAMPLES_PER_WINDOW+un.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Vf(0|un.STEPS_per_dB*un.MAX_dB),this.B=Vf(0|un.STEPS_per_dB*un.MAX_dB)}var y6=b6;function T6(t){this.bits=t}var lp=T6,M0=pt,Pf=M0.new_float,E6=M0.new_int,Ff=M0.assert,w6=lp,$f=Xt(),A6=Xl,S6=Kl;function x6(t){var e=t;this.quantize=e,this.iteration_loop=function(n,s,r,i){var a=n.internal_flags,o=Pf(A6.SFBMAX),c=Pf(576),u=E6(2),f=0,h,O=a.l3_side,w=new w6(f);this.quantize.rv.ResvFrameBegin(n,w),f=w.bits;for(var T=0;T<a.mode_gr;T++){h=this.quantize.qupvt.on_pe(n,s,u,f,T,T),a.mode_ext==$f.MPG_MD_MS_LR&&(this.quantize.ms_convert(a.l3_side,T),this.quantize.qupvt.reduce_side(u,r[T],f,h));for(var D=0;D<a.channels_out;D++){var k,I,m=O.tt[T][D];m.block_type!=$f.SHORT_TYPE?(k=0,I=a.PSY.mask_adjust-k):(k=0,I=a.PSY.mask_adjust_short-k),a.masking_lower=Math.pow(10,I*.1),this.quantize.init_outer_loop(a,m),this.quantize.init_xrpow(a,m,c)&&(this.quantize.qupvt.calc_xmin(n,i[T][D],m,o),this.quantize.outer_loop(n,m,o,c,D,u[D])),this.quantize.iteration_finish_one(a,T,D),Ff(m.part2_3_length<=S6.MAX_BITS_PER_CHANNEL),Ff(m.part2_3_length<=u[D])}}this.quantize.rv.ResvFrameEnd(a,f)}}var C6=x6;function Ke(t,e,n,s){this.xlen=t,this.linmax=e,this.table=n,this.hlen=s}var ye={};ye.t1HB=[1,1,1,0];ye.t2HB=[1,2,1,3,1,1,3,2,0];ye.t3HB=[3,2,1,1,1,1,3,2,0];ye.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];ye.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];ye.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];ye.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];ye.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];ye.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];ye.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];ye.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];ye.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];ye.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];ye.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];ye.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];ye.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];ye.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];ye.t1l=[1,4,3,5];ye.t2l=[1,4,7,4,5,7,6,7,8];ye.t3l=[2,3,7,4,4,7,6,7,8];ye.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];ye.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];ye.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];ye.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];ye.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];ye.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];ye.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];ye.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];ye.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];ye.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];ye.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];ye.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];ye.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];ye.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];ye.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];ye.ht=[new Ke(0,0,null,null),new Ke(2,0,ye.t1HB,ye.t1l),new Ke(3,0,ye.t2HB,ye.t2l),new Ke(3,0,ye.t3HB,ye.t3l),new Ke(0,0,null,null),new Ke(4,0,ye.t5HB,ye.t5l),new Ke(4,0,ye.t6HB,ye.t6l),new Ke(6,0,ye.t7HB,ye.t7l),new Ke(6,0,ye.t8HB,ye.t8l),new Ke(6,0,ye.t9HB,ye.t9l),new Ke(8,0,ye.t10HB,ye.t10l),new Ke(8,0,ye.t11HB,ye.t11l),new Ke(8,0,ye.t12HB,ye.t12l),new Ke(16,0,ye.t13HB,ye.t13l),new Ke(0,0,null,ye.t16_5l),new Ke(16,0,ye.t15HB,ye.t15l),new Ke(1,1,ye.t16HB,ye.t16l),new Ke(2,3,ye.t16HB,ye.t16l),new Ke(3,7,ye.t16HB,ye.t16l),new Ke(4,15,ye.t16HB,ye.t16l),new Ke(6,63,ye.t16HB,ye.t16l),new Ke(8,255,ye.t16HB,ye.t16l),new Ke(10,1023,ye.t16HB,ye.t16l),new Ke(13,8191,ye.t16HB,ye.t16l),new Ke(4,15,ye.t24HB,ye.t24l),new Ke(5,31,ye.t24HB,ye.t24l),new Ke(6,63,ye.t24HB,ye.t24l),new Ke(7,127,ye.t24HB,ye.t24l),new Ke(8,255,ye.t24HB,ye.t24l),new Ke(9,511,ye.t24HB,ye.t24l),new Ke(11,2047,ye.t24HB,ye.t24l),new Ke(13,8191,ye.t24HB,ye.t24l),new Ke(0,0,ye.t32HB,ye.t32l),new Ke(0,0,ye.t33HB,ye.t33l)];ye.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];ye.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];ye.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];ye.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];ye.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];ye.scfsi_band=[0,6,11,16,21];var O0=ye,ys=rp,Ki=pt,Er=Ki.VbrMode,Ro=Ki.Float,Bc=Ki.Util,wr=Ki.new_float,M6=Ki.new_int,ca=Ki.assert,Ft=Xt(),O6=lp,bn=Kl;xs.Q_MAX=257;xs.Q_MAX2=116;xs.LARGE_BITS=1e5;xs.IXMAX_VAL=8206;function xs(){var t=null,e=null,n=null;this.setModules=function(m,C,R){t=m,e=C,n=R};function s(m){return h[m+xs.Q_MAX2]}this.IPOW20=function(m){return O[m]};var r=2220446049250313e-31,i=xs.IXMAX_VAL,a=i+2,o=xs.Q_MAX,c=xs.Q_MAX2,u=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var f=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=f,this.sfBandIndex=[new ys([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new ys([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var h=wr(o+c+1),O=wr(o),w=wr(a),T=wr(a);this.adj43=T;function D(m,C){var R=n.ATHformula(C,m);return R-=u,R=Math.pow(10,R/10+m.ATHlower),R}function k(m){for(var C=m.internal_flags.ATH.l,R=m.internal_flags.ATH.psfb21,l=m.internal_flags.ATH.s,E=m.internal_flags.ATH.psfb12,S=m.internal_flags,g=m.out_samplerate,y=0;y<Ft.SBMAX_l;y++){var _=S.scalefac_band.l[y],b=S.scalefac_band.l[y+1];C[y]=Ro.MAX_VALUE;for(var A=_;A<b;A++){var v=A*g/1152,d=D(m,v);C[y]=Math.min(C[y],d)}}for(var y=0;y<Ft.PSFB21;y++){var _=S.scalefac_band.psfb21[y],b=S.scalefac_band.psfb21[y+1];R[y]=Ro.MAX_VALUE;for(var A=_;A<b;A++){var v=A*g/1152,d=D(m,v);R[y]=Math.min(R[y],d)}}for(var y=0;y<Ft.SBMAX_s;y++){var _=S.scalefac_band.s[y],b=S.scalefac_band.s[y+1];l[y]=Ro.MAX_VALUE;for(var A=_;A<b;A++){var v=A*g/384,d=D(m,v);l[y]=Math.min(l[y],d)}l[y]*=S.scalefac_band.s[y+1]-S.scalefac_band.s[y]}for(var y=0;y<Ft.PSFB12;y++){var _=S.scalefac_band.psfb12[y],b=S.scalefac_band.psfb12[y+1];E[y]=Ro.MAX_VALUE;for(var A=_;A<b;A++){var v=A*g/384,d=D(m,v);E[y]=Math.min(E[y],d)}E[y]*=S.scalefac_band.s[13]-S.scalefac_band.s[12]}if(m.noATH){for(var y=0;y<Ft.SBMAX_l;y++)C[y]=1e-20;for(var y=0;y<Ft.PSFB21;y++)R[y]=1e-20;for(var y=0;y<Ft.SBMAX_s;y++)l[y]=1e-20;for(var y=0;y<Ft.PSFB12;y++)E[y]=1e-20}S.ATH.floor=10*Math.log10(D(m,-1))}this.iteration_init=function(m){var C=m.internal_flags,R=C.l3_side,l;if(C.iteration_init_init==0){for(C.iteration_init_init=1,R.main_data_begin=0,k(m),w[0]=0,l=1;l<a;l++)w[l]=Math.pow(l,4/3);for(l=0;l<a-1;l++)T[l]=l+1-Math.pow(.5*(w[l]+w[l+1]),.75);for(T[l]=.5,l=0;l<o;l++)O[l]=Math.pow(2,(l-210)*-.1875);for(l=0;l<=o+c;l++)h[l]=Math.pow(2,(l-210-c)*.25);t.huffman_init(C);{var E,S,g,y;for(l=m.exp_nspsytune>>2&63,l>=32&&(l-=64),E=Math.pow(10,l/4/10),l=m.exp_nspsytune>>8&63,l>=32&&(l-=64),S=Math.pow(10,l/4/10),l=m.exp_nspsytune>>14&63,l>=32&&(l-=64),g=Math.pow(10,l/4/10),l=m.exp_nspsytune>>20&63,l>=32&&(l-=64),y=g*Math.pow(10,l/4/10),l=0;l<Ft.SBMAX_l;l++){var _;l<=6?_=E:l<=13?_=S:l<=20?_=g:_=y,C.nsPsy.longfact[l]=_}for(l=0;l<Ft.SBMAX_s;l++){var _;l<=5?_=E:l<=10?_=S:l<=11?_=g:_=y,C.nsPsy.shortfact[l]=_}}}},this.on_pe=function(m,C,R,l,E,S){var g=m.internal_flags,y=0,_,b=M6(2),A,v=new O6(y),d=e.ResvMaxBits(m,l,v,S);y=v.bits;var x=y+d;for(x>bn.MAX_BITS_PER_GRANULE&&(x=bn.MAX_BITS_PER_GRANULE),_=0,A=0;A<g.channels_out;++A)R[A]=Math.min(bn.MAX_BITS_PER_CHANNEL,y/g.channels_out),b[A]=0|R[A]*C[E][A]/700-R[A],b[A]>l*3/4&&(b[A]=l*3/4),b[A]<0&&(b[A]=0),b[A]+R[A]>bn.MAX_BITS_PER_CHANNEL&&(b[A]=Math.max(0,bn.MAX_BITS_PER_CHANNEL-R[A])),_+=b[A];if(_>d)for(A=0;A<g.channels_out;++A)b[A]=d*b[A]/_;for(A=0;A<g.channels_out;++A)R[A]+=b[A],d-=b[A];for(_=0,A=0;A<g.channels_out;++A)_+=R[A];if(_>bn.MAX_BITS_PER_GRANULE){var N=0;for(A=0;A<g.channels_out;++A)R[A]*=bn.MAX_BITS_PER_GRANULE,R[A]/=_,N+=R[A]}return x},this.reduce_side=function(m,C,R,l){ca(m[0]+m[1]<=bn.MAX_BITS_PER_GRANULE);var E=.33*(.5-C)/.5;E<0&&(E=0),E>.5&&(E=.5);var S=0|E*.5*(m[0]+m[1]);S>bn.MAX_BITS_PER_CHANNEL-m[0]&&(S=bn.MAX_BITS_PER_CHANNEL-m[0]),S<0&&(S=0),m[1]>=125&&(m[1]-S>125?(m[0]<R&&(m[0]+=S),m[1]-=S):(m[0]+=m[1]-125,m[1]=125)),S=m[0]+m[1],S>l&&(m[0]=l*m[0]/S,m[1]=l*m[1]/S),ca(m[0]<=bn.MAX_BITS_PER_CHANNEL),ca(m[1]<=bn.MAX_BITS_PER_CHANNEL),ca(m[0]+m[1]<=bn.MAX_BITS_PER_GRANULE)},this.athAdjust=function(m,C,R){var l=90.30873362,E=94.82444863,S=Bc.FAST_LOG10_X(C,10),g=m*m,y=0;return S-=R,g>1e-20&&(y=1+Bc.FAST_LOG10_X(g,10/l)),y<0&&(y=0),S*=y,S+=R+l-E,Math.pow(10,.1*S)},this.calc_xmin=function(m,C,R,l){var E=0,S=m.internal_flags,g,y=0,_=0,b=S.ATH,A=R.xr,v=m.VBR==Er.vbr_mtrh?1:0,d=S.masking_lower;for((m.VBR==Er.vbr_mtrh||m.VBR==Er.vbr_mt)&&(d=1),g=0;g<R.psy_lmax;g++){var x,N,H,V,F,p;m.VBR==Er.vbr_rh||m.VBR==Er.vbr_mtrh?N=athAdjust(b.adjust,b.l[g],b.floor):N=b.adjust*b.l[g],F=R.width[g],H=N/F,V=r,p=F>>1,x=0;do{var M,q;M=A[y]*A[y],x+=M,V+=M<H?M:H,y++,q=A[y]*A[y],x+=q,V+=q<H?q:H,y++}while(--p>0);if(x>N&&_++,g==Ft.SBPSY_l){var U=N*S.nsPsy.longfact[g];V<U&&(V=U)}if(v!=0&&(N=V),!m.ATHonly){var fe=C.en.l[g];if(fe>0){var U;U=x*C.thm.l[g]*d/fe,v!=0&&(U*=S.nsPsy.longfact[g]),N<U&&(N=U)}}v!=0?l[E++]=N:l[E++]=N*S.nsPsy.longfact[g]}var ie=575;if(R.block_type!=Ft.SHORT_TYPE)for(var ae=576;ae--!=0&&BitStream.EQ(A[ae],0);)ie=ae;R.max_nonzero_coeff=ie;for(var ce=R.sfb_smin;g<R.psymax;ce++,g+=3){var F,ue,we;for(m.VBR==Er.vbr_rh||m.VBR==Er.vbr_mtrh?we=athAdjust(b.adjust,b.s[ce],b.floor):we=b.adjust*b.s[ce],F=R.width[g],ue=0;ue<3;ue++){var x=0,N,H,V,p=F>>1;H=we/F,V=r;do{var M,q;M=A[y]*A[y],x+=M,V+=M<H?M:H,y++,q=A[y]*A[y],x+=q,V+=q<H?q:H,y++}while(--p>0);if(x>we&&_++,ce==Ft.SBPSY_s){var U=we*S.nsPsy.shortfact[ce];V<U&&(V=U)}if(v!=0?N=V:N=we,!m.ATHonly&&!m.ATHshort){var fe=C.en.s[ce][ue];if(fe>0){var U;U=x*C.thm.s[ce][ue]*d/fe,v!=0&&(U*=S.nsPsy.shortfact[ce]),N<U&&(N=U)}}v!=0?l[E++]=N:l[E++]=N*S.nsPsy.shortfact[ce]}m.useTemporal&&(l[E-3]>l[E-3+1]&&(l[E-3+1]+=(l[E-3]-l[E-3+1])*S.decay),l[E-3+1]>l[E-3+2]&&(l[E-3+2]+=(l[E-3+1]-l[E-3+2])*S.decay))}return _};function I(m){this.s=m}this.calc_noise_core=function(m,C,R,l){var E=0,S=C.s,g=m.l3_enc;if(S>m.count1)for(;R--!=0;){var y;y=m.xr[S],S++,E+=y*y,y=m.xr[S],S++,E+=y*y}else if(S>m.big_values){var _=wr(2);for(_[0]=0,_[1]=l;R--!=0;){var y;y=Math.abs(m.xr[S])-_[g[S]],S++,E+=y*y,y=Math.abs(m.xr[S])-_[g[S]],S++,E+=y*y}}else for(;R--!=0;){var y;y=Math.abs(m.xr[S])-w[g[S]]*l,S++,E+=y*y,y=Math.abs(m.xr[S])-w[g[S]]*l,S++,E+=y*y}return C.s=S,E},this.calc_noise=function(m,C,R,l,E){var S=0,g=0,y,_,b=0,A=0,v=0,d=-20,x=0,N=m.scalefac,H=0;for(l.over_SSD=0,y=0;y<m.psymax;y++){var V=m.global_gain-(N[H++]+(m.preflag!=0?f[y]:0)<<m.scalefac_scale+1)-m.subblock_gain[m.window[y]]*8,F=0;if(E!=null&&E.step[y]==V)F=E.noise[y],x+=m.width[y],R[S++]=F/C[g++],F=E.noise_log[y];else{var p=s(V);if(_=m.width[y]>>1,x+m.width[y]>m.max_nonzero_coeff){var M;M=m.max_nonzero_coeff-x+1,M>0?_=M>>1:_=0}var q=new I(x);F=this.calc_noise_core(m,q,_,p),x=q.s,E!=null&&(E.step[y]=V,E.noise[y]=F),F=R[S++]=F/C[g++],F=Bc.FAST_LOG10(Math.max(F,1e-20)),E!=null&&(E.noise_log[y]=F)}if(E!=null&&(E.global_gain=m.global_gain),v+=F,F>0){var U;U=Math.max(0|F*10+.5,1),l.over_SSD+=U*U,b++,A+=F}d=Math.max(d,F)}return l.over_count=b,l.tot_noise=v,l.over_noise=A,l.max_noise=d,b},this.set_pinfo=function(m,C,R,l,E){var S=m.internal_flags,g,y,_,b,A,v=C.scalefac_scale==0?.5:1,d=C.scalefac,x=wr(L3Side.SFBMAX),N=wr(L3Side.SFBMAX),H=new CalcNoiseResult;calc_xmin(m,R,C,x),calc_noise(C,x,N,H,null);var V=0;for(y=C.sfb_lmax,C.block_type!=Ft.SHORT_TYPE&&C.mixed_block_flag==0&&(y=22),g=0;g<y;g++){var F=S.scalefac_band.l[g],p=S.scalefac_band.l[g+1],M=p-F;for(b=0;V<p;V++)b+=C.xr[V]*C.xr[V];b/=M,A=1e15,S.pinfo.en[l][E][g]=A*b,S.pinfo.xfsf[l][E][g]=A*x[g]*N[g]/M,R.en.l[g]>0&&!m.ATHonly?b=b/R.en.l[g]:b=0,S.pinfo.thr[l][E][g]=A*Math.max(b*R.thm.l[g],S.ATH.l[g]),S.pinfo.LAMEsfb[l][E][g]=0,C.preflag!=0&&g>=11&&(S.pinfo.LAMEsfb[l][E][g]=-v*f[g]),g<Ft.SBPSY_l&&(ca(d[g]>=0),S.pinfo.LAMEsfb[l][E][g]-=v*d[g])}if(C.block_type==Ft.SHORT_TYPE)for(y=g,g=C.sfb_smin;g<Ft.SBMAX_s;g++)for(var F=S.scalefac_band.s[g],p=S.scalefac_band.s[g+1],M=p-F,q=0;q<3;q++){for(b=0,_=F;_<p;_++)b+=C.xr[V]*C.xr[V],V++;b=Math.max(b/M,1e-20),A=1e15,S.pinfo.en_s[l][E][3*g+q]=A*b,S.pinfo.xfsf_s[l][E][3*g+q]=A*x[y]*N[y]/M,R.en.s[g][q]>0?b=b/R.en.s[g][q]:b=0,(m.ATHonly||m.ATHshort)&&(b=0),S.pinfo.thr_s[l][E][3*g+q]=A*Math.max(b*R.thm.s[g][q],S.ATH.s[g]),S.pinfo.LAMEsfb_s[l][E][3*g+q]=-2*C.subblock_gain[q],g<Ft.SBPSY_s&&(S.pinfo.LAMEsfb_s[l][E][3*g+q]-=v*d[y]),y++}S.pinfo.LAMEqss[l][E]=C.global_gain,S.pinfo.LAMEmainbits[l][E]=C.part2_3_length+C.part2_length,S.pinfo.LAMEsfbits[l][E]=C.part2_length,S.pinfo.over[l][E]=H.over_count,S.pinfo.max_noise[l][E]=H.max_noise*10,S.pinfo.over_noise[l][E]=H.over_noise*10,S.pinfo.tot_noise[l][E]=H.tot_noise*10,S.pinfo.over_SSD[l][E]=H.over_SSD}}var cp=xs,zl=pt,R6=zl.System,N6=zl.Arrays,ua=zl.new_int,No=zl.assert,vt=Xt(),gt=O0,I6=x0,Ar=cp;function xu(){var t=null;this.qupvt=null,this.setModules=function(_){this.qupvt=_,t=_};function e(_){this.bits=0|_}var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function s(_,b,A,v,d,x){var N=.5946/b;for(_=_>>1;_--!=0;)d[x++]=N>A[v++]?0:1,d[x++]=N>A[v++]?0:1}function r(_,b,A,v,d,x){_=_>>1;var N=_%2;for(_=_>>1;_--!=0;){var H,V,F,p,M,q,U,fe;H=A[v++]*b,V=A[v++]*b,M=0|H,F=A[v++]*b,q=0|V,p=A[v++]*b,U=0|F,H+=t.adj43[M],fe=0|p,V+=t.adj43[q],d[x++]=0|H,F+=t.adj43[U],d[x++]=0|V,p+=t.adj43[fe],d[x++]=0|F,d[x++]=0|p}if(N!=0){var H,V,M,q;H=A[v++]*b,V=A[v++]*b,M=0|H,q=0|V,H+=t.adj43[M],V+=t.adj43[q],d[x++]=0|H,d[x++]=0|V}}function i(_,b,A,v,d){var x,N,H=0,V,F=0,p=0,M=0,q=b,U=0,fe=q,ie=0,ae=_,ce=0;for(V=d!=null&&v.global_gain==d.global_gain,v.block_type==vt.SHORT_TYPE?N=38:N=21,x=0;x<=N;x++){var ue=-1;if((V||v.block_type==vt.NORM_TYPE)&&(ue=v.global_gain-(v.scalefac[x]+(v.preflag!=0?t.pretab[x]:0)<<v.scalefac_scale+1)-v.subblock_gain[v.window[x]]*8),No(v.width[x]>=0),V&&d.step[x]==ue)F!=0&&(r(F,A,ae,ce,fe,ie),F=0),p!=0&&(s(p,A,ae,ce,fe,ie),p=0);else{var we=v.width[x];if(H+v.width[x]>v.max_nonzero_coeff){var de;de=v.max_nonzero_coeff-H+1,N6.fill(b,v.max_nonzero_coeff,576,0),we=de,we<0&&(we=0),x=N+1}if(F==0&&p==0&&(fe=q,ie=U,ae=_,ce=M),d!=null&&d.sfb_count1>0&&x>=d.sfb_count1&&d.step[x]>0&&ue>=d.step[x]?(F!=0&&(r(F,A,ae,ce,fe,ie),F=0,fe=q,ie=U,ae=_,ce=M),p+=we):(p!=0&&(s(p,A,ae,ce,fe,ie),p=0,fe=q,ie=U,ae=_,ce=M),F+=we),we<=0){p!=0&&(s(p,A,ae,ce,fe,ie),p=0),F!=0&&(r(F,A,ae,ce,fe,ie),F=0);break}}x<=N&&(U+=v.width[x],M+=v.width[x],H+=v.width[x])}F!=0&&(r(F,A,ae,ce,fe,ie),F=0),p!=0&&(s(p,A,ae,ce,fe,ie),p=0)}function a(_,b,A){var v=0,d=0;do{var x=_[b++],N=_[b++];v<x&&(v=x),d<N&&(d=N)}while(b<A);return v<d&&(v=d),v}function o(_,b,A,v,d,x){var N=gt.ht[v].xlen*65536+gt.ht[d].xlen,H=0,V;do{var F=_[b++],p=_[b++];F!=0&&(F>14&&(F=15,H+=N),F*=16),p!=0&&(p>14&&(p=15,H+=N),F+=p),H+=gt.largetbl[F]}while(b<A);return V=H&65535,H>>=16,H>V&&(H=V,v=d),x.bits+=H,v}function c(_,b,A,v){var d=0,x=gt.ht[1].hlen;do{var N=_[b+0]*2+_[b+1];b+=2,d+=x[N]}while(b<A);return v.bits+=d,1}function u(_,b,A,v,d){var x=0,N,H=gt.ht[v].xlen,V;v==2?V=gt.table23:V=gt.table56;do{var F=_[b+0]*H+_[b+1];b+=2,x+=V[F]}while(b<A);return N=x&65535,x>>=16,x>N&&(x=N,v++),d.bits+=x,v}function f(_,b,A,v,d){var x=0,N=0,H=0,V=gt.ht[v].xlen,F=gt.ht[v].hlen,p=gt.ht[v+1].hlen,M=gt.ht[v+2].hlen;do{var q=_[b+0]*V+_[b+1];b+=2,x+=F[q],N+=p[q],H+=M[q]}while(b<A);var U=v;return x>N&&(x=N,U++),x>H&&(x=H,U=v+2),d.bits+=x,U}var h=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function O(_,b,A,v){var d=a(_,b,A);switch(d){case 0:return d;case 1:return c(_,b,A,v);case 2:case 3:return u(_,b,A,h[d-1],v);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return f(_,b,A,h[d-1],v);default:if(d>Ar.IXMAX_VAL)return v.bits=Ar.LARGE_BITS,-1;d-=15;var x;for(x=24;x<32&&!(gt.ht[x].linmax>=d);x++);var N;for(N=x-8;N<24&&!(gt.ht[N].linmax>=d);N++);return o(_,b,A,N,x,v)}}this.noquant_count_bits=function(_,b,A){var v=b.l3_enc,d=Math.min(576,b.max_nonzero_coeff+2>>1<<1);for(A!=null&&(A.sfb_count1=0);d>1&&!(v[d-1]|v[d-2]);d-=2);b.count1=d;for(var x=0,N=0;d>3;d-=4){var H;if(((v[d-1]|v[d-2]|v[d-3]|v[d-4])&2147483647)>1)break;H=((v[d-4]*2+v[d-3])*2+v[d-2])*2+v[d-1],x+=gt.t32l[H],N+=gt.t33l[H]}var V=x;if(b.count1table_select=0,x>N&&(V=N,b.count1table_select=1),b.count1bits=V,b.big_values=d,d==0)return V;if(b.block_type==vt.SHORT_TYPE)x=3*_.scalefac_band.s[3],x>b.big_values&&(x=b.big_values),N=b.big_values;else if(b.block_type==vt.NORM_TYPE){if(x=b.region0_count=_.bv_scf[d-2],N=b.region1_count=_.bv_scf[d-1],No(x+N+2<vt.SBPSY_l),N=_.scalefac_band.l[x+N+2],x=_.scalefac_band.l[x+1],N<d){var F=new e(V);b.table_select[2]=O(v,N,d,F),V=F.bits}}else b.region0_count=7,b.region1_count=vt.SBMAX_l-1-7-1,x=_.scalefac_band.l[8],N=d,x>N&&(x=N);if(x=Math.min(x,d),N=Math.min(N,d),0<x){var F=new e(V);b.table_select[0]=O(v,0,x,F),V=F.bits}if(x<N){var F=new e(V);b.table_select[1]=O(v,x,N,F),V=F.bits}if(_.use_best_huffman==2&&(b.part2_3_length=V,best_huffman_divide(_,b),V=b.part2_3_length),A!=null&&b.block_type==vt.NORM_TYPE){for(var p=0;_.scalefac_band.l[p]<b.big_values;)p++;A.sfb_count1=p}return V},this.count_bits=function(_,b,A,v){var d=A.l3_enc,x=Ar.IXMAX_VAL/t.IPOW20(A.global_gain);if(A.xrpow_max>x)return Ar.LARGE_BITS;if(i(b,d,t.IPOW20(A.global_gain),A,v),_.substep_shaping&2)for(var N=0,H=A.global_gain+A.scalefac_scale,V=.634521682242439/t.IPOW20(H),F=0;F<A.sfbmax;F++){var p=A.width[F];if(_.pseudohalf[F]==0)N+=p;else{var M;for(M=N,N+=p;M<N;++M)d[M]=b[M]>=V?d[M]:0}}return this.noquant_count_bits(_,A,v)};function w(_,b,A,v,d,x,N){for(var H=b.big_values,V=0;V<=22;V++)v[V]=Ar.LARGE_BITS;for(var V=0;V<16;V++){var F=_.scalefac_band.l[V+1];if(F>=H)break;var p=0,M=new e(p),q=O(A,0,F,M);p=M.bits;for(var U=0;U<8;U++){var fe=_.scalefac_band.l[V+U+2];if(fe>=H)break;var ie=p;M=new e(ie);var ae=O(A,F,fe,M);ie=M.bits,v[V+U]>ie&&(v[V+U]=ie,d[V+U]=V,x[V+U]=q,N[V+U]=ae)}}}function T(_,b,A,v,d,x,N,H){for(var V=b.big_values,F=2;F<vt.SBMAX_l+1;F++){var p=_.scalefac_band.l[F];if(p>=V)break;var M=d[F-2]+b.count1bits;if(A.part2_3_length<=M)break;var q=new e(M),U=O(v,p,V,q);M=q.bits,!(A.part2_3_length<=M)&&(A.assign(b),A.part2_3_length=M,A.region0_count=x[F-2],A.region1_count=F-2-x[F-2],A.table_select[0]=N[F-2],A.table_select[1]=H[F-2],A.table_select[2]=U)}}this.best_huffman_divide=function(_,b){var A=new I6,v=b.l3_enc,d=ua(23),x=ua(23),N=ua(23),H=ua(23);if(!(b.block_type==vt.SHORT_TYPE&&_.mode_gr==1)){A.assign(b),b.block_type==vt.NORM_TYPE&&(w(_,b,v,d,x,N,H),T(_,A,b,v,d,x,N,H));var V=A.big_values;if(!(V==0||(v[V-2]|v[V-1])>1)&&(V=b.count1+2,!(V>576))){A.assign(b),A.count1=V;for(var F=0,p=0;V>A.big_values;V-=4){var M=((v[V-4]*2+v[V-3])*2+v[V-2])*2+v[V-1];F+=gt.t32l[M],p+=gt.t33l[M]}if(A.big_values=V,A.count1table_select=0,F>p&&(F=p,A.count1table_select=1),A.count1bits=F,A.block_type==vt.NORM_TYPE)T(_,A,b,v,d,x,N,H);else{if(A.part2_3_length=F,F=_.scalefac_band.l[8],F>V&&(F=V),F>0){var q=new e(A.part2_3_length);A.table_select[0]=O(v,0,F,q),A.part2_3_length=q.bits}if(V>F){var q=new e(A.part2_3_length);A.table_select[1]=O(v,F,V,q),A.part2_3_length=q.bits}b.part2_3_length>A.part2_3_length&&b.assign(A)}}}};var D=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],k=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],I=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],m=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];xu.slen1_tab=I,xu.slen2_tab=m;function C(_,b){for(var A,v=b.tt[1][_],d=b.tt[0][_],x=0;x<gt.scfsi_band.length-1;x++){for(A=gt.scfsi_band[x];A<gt.scfsi_band[x+1]&&!(d.scalefac[A]!=v.scalefac[A]&&v.scalefac[A]>=0);A++);if(A==gt.scfsi_band[x+1]){for(A=gt.scfsi_band[x];A<gt.scfsi_band[x+1];A++)v.scalefac[A]=-1;b.scfsi[_][x]=1}}var N=0,H=0;for(A=0;A<11;A++)v.scalefac[A]!=-1&&(H++,N<v.scalefac[A]&&(N=v.scalefac[A]));for(var V=0,F=0;A<vt.SBPSY_l;A++)v.scalefac[A]!=-1&&(F++,V<v.scalefac[A]&&(V=v.scalefac[A]));for(var x=0;x<16;x++)if(N<D[x]&&V<k[x]){var p=I[x]*H+m[x]*F;v.part2_length>p&&(v.part2_length=p,v.scalefac_compress=x)}}this.best_scalefac_store=function(_,b,A,v){var d=v.tt[b][A],x,N,H,V,F=0;for(H=0,x=0;x<d.sfbmax;x++){var p=d.width[x];for(H+=p,V=-p;V<0&&d.l3_enc[V+H]==0;V++);V==0&&(d.scalefac[x]=F=-2)}if(d.scalefac_scale==0&&d.preflag==0){var M=0;for(x=0;x<d.sfbmax;x++)d.scalefac[x]>0&&(M|=d.scalefac[x]);if(!(M&1)&&M!=0){for(x=0;x<d.sfbmax;x++)d.scalefac[x]>0&&(d.scalefac[x]>>=1);d.scalefac_scale=F=1}}if(d.preflag==0&&d.block_type!=vt.SHORT_TYPE&&_.mode_gr==2){for(x=11;x<vt.SBPSY_l&&!(d.scalefac[x]<t.pretab[x]&&d.scalefac[x]!=-2);x++);if(x==vt.SBPSY_l){for(x=11;x<vt.SBPSY_l;x++)d.scalefac[x]>0&&(d.scalefac[x]-=t.pretab[x]);d.preflag=F=1}}for(N=0;N<4;N++)v.scfsi[A][N]=0;for(_.mode_gr==2&&b==1&&v.tt[0][A].block_type!=vt.SHORT_TYPE&&v.tt[1][A].block_type!=vt.SHORT_TYPE&&(C(A,v),F=0),x=0;x<d.sfbmax;x++)d.scalefac[x]==-2&&(d.scalefac[x]=0);F!=0&&(_.mode_gr==2?this.scale_bitcount(d):this.scale_bitcount_lsf(_,d))};function R(_,b){for(var A=0;A<b;++A)if(_[A]<0)return!1;return!0}var l=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],E=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],S=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(_){var b,A,v=0,d=0,x,N=_.scalefac;if(No(R(N,_.sfbmax)),_.block_type==vt.SHORT_TYPE)x=l,_.mixed_block_flag!=0&&(x=E);else if(x=S,_.preflag==0){for(A=11;A<vt.SBPSY_l&&!(N[A]<t.pretab[A]);A++);if(A==vt.SBPSY_l)for(_.preflag=1,A=11;A<vt.SBPSY_l;A++)N[A]-=t.pretab[A]}for(A=0;A<_.sfbdivide;A++)v<N[A]&&(v=N[A]);for(;A<_.sfbmax;A++)d<N[A]&&(d=N[A]);for(_.part2_length=Ar.LARGE_BITS,b=0;b<16;b++)v<D[b]&&d<k[b]&&_.part2_length>x[b]&&(_.part2_length=x[b],_.scalefac_compress=b);return _.part2_length==Ar.LARGE_BITS};var g=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(_,b){var A,v,d,x,N,H,V,F,p=ua(4),M=b.scalefac;for(b.preflag!=0?A=2:A=0,V=0;V<4;V++)p[V]=0;if(b.block_type==vt.SHORT_TYPE){v=1;var q=t.nr_of_sfb_block[A][v];for(F=0,d=0;d<4;d++)for(x=q[d]/3,V=0;V<x;V++,F++)for(N=0;N<3;N++)M[F*3+N]>p[d]&&(p[d]=M[F*3+N])}else{v=0;var q=t.nr_of_sfb_block[A][v];for(F=0,d=0;d<4;d++)for(x=q[d],V=0;V<x;V++,F++)M[F]>p[d]&&(p[d]=M[F])}for(H=!1,d=0;d<4;d++)p[d]>g[A][d]&&(H=!0);if(!H){var U,fe,ie,ae;for(b.sfb_partition_table=t.nr_of_sfb_block[A][v],d=0;d<4;d++)b.slen[d]=y[p[d]];switch(U=b.slen[0],fe=b.slen[1],ie=b.slen[2],ae=b.slen[3],A){case 0:b.scalefac_compress=(U*5+fe<<4)+(ie<<2)+ae;break;case 1:b.scalefac_compress=400+(U*5+fe<<2)+ie;break;case 2:b.scalefac_compress=500+U*3+fe;break;default:R6.err.printf(`intensity stereo not implemented yet
`);break}}if(!H)for(No(b.sfb_partition_table!=null),b.part2_length=0,d=0;d<4;d++)b.part2_length+=b.slen[d]*b.sfb_partition_table[d];return H};var y=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(_){for(var b=2;b<=576;b+=2){for(var A=0,v;_.scalefac_band.l[++A]<b;);for(v=n[A][0];_.scalefac_band.l[v+1]>b;)v--;for(v<0&&(v=n[A][0]),_.bv_scf[b-2]=v,v=n[A][1];_.scalefac_band.l[v+_.bv_scf[b-2]+2]>b;)v--;v<0&&(v=n[A][1]),_.bv_scf[b-1]=v}}}var up=xu,zi=pt,rs=zi.System,k6=zi.Arrays,D6=zi.new_byte,B6=zi.new_float_n,L6=zi.new_int,yt=zi.assert,Hf=up,Lc=O0,Io=Xt(),Sr=Kl;wl.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=Math.abs(t)*1e-6:Math.abs(t-e)<=Math.abs(e)*1e-6};wl.NEQ=function(t,e){return!wl.EQ(t,e)};function wl(){var t=this,e=32773,n=null,s=null,r=null,i=null;this.setModules=function(g,y,_,b){n=g,s=y,r=_,i=b};var a=null,o=0,c=0,u=0;this.getframebits=function(g){var y=g.internal_flags,_;y.bitrate_index!=0?_=Lc.bitrate_table[g.version][y.bitrate_index]:_=g.brate;var b=0|(g.version+1)*72e3*_/g.out_samplerate+y.padding;return 8*b};function f(g){rs.arraycopy(g.header[g.w_ptr].buf,0,a,c,g.sideinfo_len),c+=g.sideinfo_len,o+=g.sideinfo_len*8,g.w_ptr=g.w_ptr+1&Sr.MAX_HEADER_BUF-1}function h(g,y,_){for(;_>0;){var b;u==0&&(u=8,c++,yt(c<Lame.LAME_MAXMP3BUFFER),yt(g.header[g.w_ptr].write_timing>=o),g.header[g.w_ptr].write_timing==o&&f(g),a[c]=0),b=Math.min(_,u),_-=b,u-=b,a[c]|=y>>_<<u,o+=b}}function O(g,y,_){for(;_>0;){var b;u==0&&(u=8,c++,yt(c<Lame.LAME_MAXMP3BUFFER),a[c]=0),b=Math.min(_,u),_-=b,u-=b,a[c]|=y>>_<<u,o+=b}}function w(g,y){var _=g.internal_flags,b;if(y>=8&&(h(_,76,8),y-=8),y>=8&&(h(_,65,8),y-=8),y>=8&&(h(_,77,8),y-=8),y>=8&&(h(_,69,8),y-=8),y>=32){var A=r.getLameShortVersion();if(y>=32)for(b=0;b<A.length&&y>=8;++b)y-=8,h(_,A.charAt(b),8)}for(;y>=1;y-=1)h(_,_.ancillary_flag,1),_.ancillary_flag^=g.disable_reservoir?0:1}function T(g,y,_){for(var b=g.header[g.h_ptr].ptr;_>0;){var A=Math.min(_,8-(b&7));_-=A,g.header[g.h_ptr].buf[b>>3]|=y>>_<<8-(b&7)-A,b+=A}g.header[g.h_ptr].ptr=b}function D(g,y){g<<=8;for(var _=0;_<8;_++)g<<=1,y<<=1,(y^g)&65536&&(y^=e);return y}this.CRC_writeheader=function(g,y){var _=65535;_=D(y[2]&255,_),_=D(y[3]&255,_);for(var b=6;b<g.sideinfo_len;b++)_=D(y[b]&255,_);y[4]=byte(_>>8),y[5]=byte(_&255)};function k(g,y){var _=g.internal_flags,b,A,v;if(b=_.l3_side,_.header[_.h_ptr].ptr=0,k6.fill(_.header[_.h_ptr].buf,0,_.sideinfo_len,0),g.out_samplerate<16e3?T(_,4094,12):T(_,4095,12),T(_,g.version,1),T(_,1,2),T(_,g.error_protection?0:1,1),T(_,_.bitrate_index,4),T(_,_.samplerate_index,2),T(_,_.padding,1),T(_,g.extension,1),T(_,g.mode.ordinal(),2),T(_,_.mode_ext,2),T(_,g.copyright,1),T(_,g.original,1),T(_,g.emphasis,2),g.error_protection&&T(_,0,16),g.version==1){for(yt(b.main_data_begin>=0),T(_,b.main_data_begin,9),_.channels_out==2?T(_,b.private_bits,3):T(_,b.private_bits,5),v=0;v<_.channels_out;v++){var d;for(d=0;d<4;d++)T(_,b.scfsi[v][d],1)}for(A=0;A<2;A++)for(v=0;v<_.channels_out;v++){var x=b.tt[A][v];T(_,x.part2_3_length+x.part2_length,12),T(_,x.big_values/2,9),T(_,x.global_gain,8),T(_,x.scalefac_compress,4),x.block_type!=Io.NORM_TYPE?(T(_,1,1),T(_,x.block_type,2),T(_,x.mixed_block_flag,1),x.table_select[0]==14&&(x.table_select[0]=16),T(_,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),T(_,x.table_select[1],5),T(_,x.subblock_gain[0],3),T(_,x.subblock_gain[1],3),T(_,x.subblock_gain[2],3)):(T(_,0,1),x.table_select[0]==14&&(x.table_select[0]=16),T(_,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),T(_,x.table_select[1],5),x.table_select[2]==14&&(x.table_select[2]=16),T(_,x.table_select[2],5),yt(0<=x.region0_count&&x.region0_count<16),yt(0<=x.region1_count&&x.region1_count<8),T(_,x.region0_count,4),T(_,x.region1_count,3)),T(_,x.preflag,1),T(_,x.scalefac_scale,1),T(_,x.count1table_select,1)}}else for(yt(b.main_data_begin>=0),T(_,b.main_data_begin,8),T(_,b.private_bits,_.channels_out),A=0,v=0;v<_.channels_out;v++){var x=b.tt[A][v];T(_,x.part2_3_length+x.part2_length,12),T(_,x.big_values/2,9),T(_,x.global_gain,8),T(_,x.scalefac_compress,9),x.block_type!=Io.NORM_TYPE?(T(_,1,1),T(_,x.block_type,2),T(_,x.mixed_block_flag,1),x.table_select[0]==14&&(x.table_select[0]=16),T(_,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),T(_,x.table_select[1],5),T(_,x.subblock_gain[0],3),T(_,x.subblock_gain[1],3),T(_,x.subblock_gain[2],3)):(T(_,0,1),x.table_select[0]==14&&(x.table_select[0]=16),T(_,x.table_select[0],5),x.table_select[1]==14&&(x.table_select[1]=16),T(_,x.table_select[1],5),x.table_select[2]==14&&(x.table_select[2]=16),T(_,x.table_select[2],5),yt(0<=x.region0_count&&x.region0_count<16),yt(0<=x.region1_count&&x.region1_count<8),T(_,x.region0_count,4),T(_,x.region1_count,3)),T(_,x.scalefac_scale,1),T(_,x.count1table_select,1)}g.error_protection&&CRC_writeheader(_,_.header[_.h_ptr].buf);{var N=_.h_ptr;yt(_.header[N].ptr==_.sideinfo_len*8),_.h_ptr=N+1&Sr.MAX_HEADER_BUF-1,_.header[_.h_ptr].write_timing=_.header[N].write_timing+y,_.h_ptr==_.w_ptr&&rs.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function I(g,y){var _=Lc.ht[y.count1table_select+32],b,A=0,v=y.big_values,d=y.big_values;for(yt(y.count1table_select<2),b=(y.count1-y.big_values)/4;b>0;--b){var x=0,N=0,H;H=y.l3_enc[v+0],H!=0&&(N+=8,y.xr[d+0]<0&&x++),H=y.l3_enc[v+1],H!=0&&(N+=4,x*=2,y.xr[d+1]<0&&x++),H=y.l3_enc[v+2],H!=0&&(N+=2,x*=2,y.xr[d+2]<0&&x++),H=y.l3_enc[v+3],H!=0&&(N++,x*=2,y.xr[d+3]<0&&x++),v+=4,d+=4,h(g,x+_.table[N],_.hlen[N]),A+=_.hlen[N]}return A}function m(g,y,_,b,A){var v=Lc.ht[y],d=0;if(y==0)return d;for(var x=_;x<b;x+=2){var N=0,H=0,V=v.xlen,F=v.xlen,p=0,M=A.l3_enc[x],q=A.l3_enc[x+1];if(M!=0&&(A.xr[x]<0&&p++,N--),y>15){if(M>14){var U=M-15;yt(U<=v.linmax),p|=U<<1,H=V,M=15}if(q>14){var fe=q-15;yt(fe<=v.linmax),p<<=V,p|=fe,H+=V,q=15}F=16}q!=0&&(p<<=1,A.xr[x+1]<0&&p++,N--),M=M*F+q,H-=N,N+=v.hlen[M],h(g,v.table[M],N),h(g,p,H),d+=N+H}return d}function C(g,y){var _=3*g.scalefac_band.s[3];_>y.big_values&&(_=y.big_values);var b=m(g,y.table_select[0],0,_,y);return b+=m(g,y.table_select[1],_,y.big_values,y),b}function R(g,y){var _,b,A,v;_=y.big_values;var d=y.region0_count+1;return yt(d<g.scalefac_band.l.length),A=g.scalefac_band.l[d],d+=y.region1_count+1,yt(d<g.scalefac_band.l.length),v=g.scalefac_band.l[d],A>_&&(A=_),v>_&&(v=_),b=m(g,y.table_select[0],0,A,y),b+=m(g,y.table_select[1],A,v,y),b+=m(g,y.table_select[2],v,_,y),b}function l(g){var y,_,b,A,v=0,d=g.internal_flags,x=d.l3_side;if(g.version==1)for(y=0;y<2;y++)for(_=0;_<d.channels_out;_++){var N=x.tt[y][_],H=Hf.slen1_tab[N.scalefac_compress],V=Hf.slen2_tab[N.scalefac_compress];for(A=0,b=0;b<N.sfbdivide;b++)N.scalefac[b]!=-1&&(h(d,N.scalefac[b],H),A+=H);for(;b<N.sfbmax;b++)N.scalefac[b]!=-1&&(h(d,N.scalefac[b],V),A+=V);yt(A==N.part2_length),N.block_type==Io.SHORT_TYPE?A+=C(d,N):A+=R(d,N),A+=I(d,N),yt(A==N.part2_3_length+N.part2_length),v+=A}else for(y=0,_=0;_<d.channels_out;_++){var N=x.tt[y][_],F,p,M=0;if(yt(N.sfb_partition_table!=null),A=0,b=0,p=0,N.block_type==Io.SHORT_TYPE){for(;p<4;p++){var q=N.sfb_partition_table[p]/3,U=N.slen[p];for(F=0;F<q;F++,b++)h(d,Math.max(N.scalefac[b*3+0],0),U),h(d,Math.max(N.scalefac[b*3+1],0),U),h(d,Math.max(N.scalefac[b*3+2],0),U),M+=3*U}A+=C(d,N)}else{for(;p<4;p++){var q=N.sfb_partition_table[p],U=N.slen[p];for(F=0;F<q;F++,b++)h(d,Math.max(N.scalefac[b],0),U),M+=U}A+=R(d,N)}A+=I(d,N),yt(A==N.part2_3_length),yt(M==N.part2_length),v+=M+A}return v}function E(){this.total=0}function S(g,y){var _=g.internal_flags,b,A,v,d,x;return x=_.w_ptr,d=_.h_ptr-1,d==-1&&(d=Sr.MAX_HEADER_BUF-1),b=_.header[d].write_timing-o,y.total=b,b>=0&&(A=1+d-x,d<x&&(A=1+d-x+Sr.MAX_HEADER_BUF),b-=A*8*_.sideinfo_len),v=t.getframebits(g),b+=v,y.total+=v,y.total%8!=0?y.total=1+y.total/8:y.total=y.total/8,y.total+=c+1,b<0&&rs.err.println(`strange error flushing buffer ... 
`),b}this.flush_bitstream=function(g){var y=g.internal_flags,_,b,A=y.h_ptr-1;if(A==-1&&(A=Sr.MAX_HEADER_BUF-1),_=y.l3_side,!((b=S(g,new E))<0)){if(w(g,b),yt(y.header[A].write_timing+this.getframebits(g)==o),y.ResvSize=0,_.main_data_begin=0,y.findReplayGain){var v=n.GetTitleGain(y.rgdata);yt(NEQ(v,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),y.RadioGain=Math.floor(v*10+.5)|0}y.findPeakSample&&(y.noclipGainChange=Math.ceil(Math.log10(y.PeakSample/32767)*20*10)|0,y.noclipGainChange>0&&(EQ(g.scale,1)||EQ(g.scale,0))?y.noclipScale=Math.floor(32767/y.PeakSample*100)/100:y.noclipScale=-1)}},this.add_dummy_byte=function(g,y,_){for(var b=g.internal_flags,A;_-- >0;)for(O(b,y,8),A=0;A<Sr.MAX_HEADER_BUF;++A)b.header[A].write_timing+=8},this.format_bitstream=function(g){var y=g.internal_flags,_;_=y.l3_side;var b=this.getframebits(g);w(g,_.resvDrain_pre),k(g,b);var A=8*y.sideinfo_len;if(A+=l(g),w(g,_.resvDrain_post),A+=_.resvDrain_post,_.main_data_begin+=(b-A)/8,S(g,new E)!=y.ResvSize&&rs.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),_.main_data_begin*8!=y.ResvSize&&(rs.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*_.main_data_begin,y.ResvSize,_.resvDrain_post,_.resvDrain_pre,8*y.sideinfo_len,A-_.resvDrain_post-8*y.sideinfo_len,A,A%8,b),rs.err.println("This is a fatal error.  It has several possible causes:"),rs.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),rs.err.println(" 9%%  Your system is overclocked"),rs.err.println(" 1%%  bug in LAME encoding library"),y.ResvSize=_.main_data_begin*8),o>1e9){var v;for(v=0;v<Sr.MAX_HEADER_BUF;++v)y.header[v].write_timing-=o;o=0}return 0},this.copy_buffer=function(g,y,_,b,A){var v=c+1;if(v<=0)return 0;if(b!=0&&v>b)return-1;if(rs.arraycopy(a,0,y,_,v),c=-1,u=0,A!=0){var d=L6(1);if(d[0]=g.nMusicCRC,i.updateMusicCRC(d,y,_,v),g.nMusicCRC=d[0],v>0&&(g.VBR_seek_table.nBytesWritten+=v),g.decode_on_the_fly){for(var x=B6([2,1152]),N=v,H=-1,V;H!=0;)if(H=s.hip_decode1_unclipped(g.hip,y,_,N,x[0],x[1]),N=0,H==-1&&(H=0),H>0){if(g.findPeakSample){for(V=0;V<H;V++)x[0][V]>g.PeakSample?g.PeakSample=x[0][V]:-x[0][V]>g.PeakSample&&(g.PeakSample=-x[0][V]);if(g.channels_out>1)for(V=0;V<H;V++)x[1][V]>g.PeakSample?g.PeakSample=x[1][V]:-x[1][V]>g.PeakSample&&(g.PeakSample=-x[1][V])}if(g.findReplayGain&&n.AnalyzeSamples(g.rgdata,x[0],0,x[1],0,H,g.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return v},this.init_bit_stream_w=function(g){a=D6(Lame.LAME_MAXMP3BUFFER),g.h_ptr=g.w_ptr=0,g.header[g.h_ptr].write_timing=0,c=-1,u=0,o=0}}var hp=wl,Zr=pt,V6=Zr.System,nt=Zr.VbrMode,Vc=Zr.ShortBlock,xr=Zr.new_float,qf=Zr.new_int_n,P6=Zr.new_short_n,Us=Zr.assert,Pc=U5,F6=X5,ko=Kl,$6=g6,H6=y6,q6=C6,Cr=hp,is=O0,Tt=Xt();function kt(){var t=this,e=128*1024;kt.V9=410,kt.V8=420,kt.V7=430,kt.V6=440,kt.V5=450,kt.V4=460,kt.V3=470,kt.V2=480,kt.V1=490,kt.V0=500,kt.R3MIX=1e3,kt.STANDARD=1001,kt.EXTREME=1002,kt.INSANE=1003,kt.STANDARD_FAST=1004,kt.EXTREME_FAST=1005,kt.MEDIUM=1006,kt.MEDIUM_FAST=1007;var n=16384+e;kt.LAME_MAXMP3BUFFER=n;var s,r,i,a,o,c=new Pc,u,f,h;this.enc=new Tt,this.setModules=function(p,M,q,U,fe,ie,ae,ce,ue){s=p,r=M,i=q,a=U,o=fe,u=ie,f=ce,h=ue,this.enc.setModules(r,c,a,u)};function O(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=xr(Tt.SBMAX_l),this.bo_s_weight=xr(Tt.SBMAX_s)}function w(){this.lowerlimit=0}function T(p,M){this.lowpass=M}var D=4294479419;function k(p){var M;return p.class_id=D,M=p.internal_flags=new ko,p.mode=MPEGMode.NOT_SET,p.original=1,p.in_samplerate=44100,p.num_channels=2,p.num_samples=-1,p.bWriteVbrTag=!0,p.quality=-1,p.short_blocks=null,M.subblock_gain=-1,p.lowpassfreq=0,p.highpassfreq=0,p.lowpasswidth=-1,p.highpasswidth=-1,p.VBR=nt.vbr_off,p.VBR_q=4,p.ATHcurve=-1,p.VBR_mean_bitrate_kbps=128,p.VBR_min_bitrate_kbps=0,p.VBR_max_bitrate_kbps=0,p.VBR_hard_min=0,M.VBR_min_bitrate=1,M.VBR_max_bitrate=13,p.quant_comp=-1,p.quant_comp_short=-1,p.msfix=-1,M.resample_ratio=1,M.OldValue[0]=180,M.OldValue[1]=180,M.CurrentStep[0]=4,M.CurrentStep[1]=4,M.masking_lower=1,M.nsPsy.attackthre=-1,M.nsPsy.attackthre_s=-1,p.scale=-1,p.athaa_type=-1,p.ATHtype=-1,p.athaa_loudapprox=-1,p.athaa_sensitivity=0,p.useTemporal=null,p.interChRatio=-1,M.mf_samples_to_encode=Tt.ENCDELAY+Tt.POSTDELAY,p.encoder_padding=0,M.mf_size=Tt.ENCDELAY-Tt.MDCTDELAY,p.findReplayGain=!1,p.decode_on_the_fly=!1,M.decode_on_the_fly=!1,M.findReplayGain=!1,M.findPeakSample=!1,M.RadioGain=0,M.AudiophileGain=0,M.noclipGainChange=0,M.noclipScale=-1,p.preset=0,p.write_id3tag_automatic=!0,0}this.lame_init=function(){var p=new F6;return k(p),p.lame_allocated_gfp=1,p};function I(p){return p>1?0:p<=0?1:Math.cos(Math.PI/2*p)}this.nearestBitrateFullIndex=function(p){var M=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],q=0,U=0,fe=0,ie=0;ie=M[16],fe=16,U=M[16],q=16;for(var ae=0;ae<16;ae++)if(Math.max(p,M[ae+1])!=p){ie=M[ae+1],fe=ae+1,U=M[ae],q=ae;break}return ie-p>p-U?q:fe};function m(p,M){var q=44100;return M>=48e3?q=48e3:M>=44100?q=44100:M>=32e3?q=32e3:M>=24e3?q=24e3:M>=22050?q=22050:M>=16e3?q=16e3:M>=12e3?q=12e3:M>=11025?q=11025:M>=8e3&&(q=8e3),p==-1?q:(p<=15960&&(q=44100),p<=15250&&(q=32e3),p<=11220&&(q=24e3),p<=9970&&(q=22050),p<=7230&&(q=16e3),p<=5420&&(q=12e3),p<=4510&&(q=11025),p<=3970&&(q=8e3),M<q?M>44100?48e3:M>32e3?44100:M>24e3?32e3:M>22050?24e3:M>16e3?22050:M>12e3?16e3:M>11025?12e3:M>8e3?11025:8e3:q)}function C(p,M){switch(p){case 44100:return M.version=1,0;case 48e3:return M.version=1,1;case 32e3:return M.version=1,2;case 22050:return M.version=0,0;case 24e3:return M.version=0,1;case 16e3:return M.version=0,2;case 11025:return M.version=0,0;case 12e3:return M.version=0,1;case 8e3:return M.version=0,2;default:return M.version=0,-1}}function R(p,M,q){q<16e3&&(M=2);for(var U=is.bitrate_table[M][1],fe=2;fe<=14;fe++)is.bitrate_table[M][fe]>0&&Math.abs(is.bitrate_table[M][fe]-p)<Math.abs(U-p)&&(U=is.bitrate_table[M][fe]);return U}function l(p,M,q){q<16e3&&(M=2);for(var U=0;U<=14;U++)if(is.bitrate_table[M][U]>0&&is.bitrate_table[M][U]==p)return U;return-1}function E(p,M){var q=[new T(8,2e3),new T(16,3700),new T(24,3900),new T(32,5500),new T(40,7e3),new T(48,7500),new T(56,1e4),new T(64,11e3),new T(80,13500),new T(96,15100),new T(112,15600),new T(128,17e3),new T(160,17500),new T(192,18600),new T(224,19400),new T(256,19700),new T(320,20500)],U=t.nearestBitrateFullIndex(M);p.lowerlimit=q[U].lowpass}function S(p){var M=p.internal_flags,q=32,U=-1;if(M.lowpass1>0){for(var fe=999,ie=0;ie<=31;ie++){var ae=ie/31;ae>=M.lowpass2&&(q=Math.min(q,ie)),M.lowpass1<ae&&ae<M.lowpass2&&(fe=Math.min(fe,ie))}fe==999?M.lowpass1=(q-.75)/31:M.lowpass1=(fe-.75)/31,M.lowpass2=q/31}if(M.highpass2>0&&M.highpass2<.9*(.75/31)&&(M.highpass1=0,M.highpass2=0,V6.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),M.highpass2>0){for(var ce=-1,ie=0;ie<=31;ie++){var ae=ie/31;ae<=M.highpass1&&(U=Math.max(U,ie)),M.highpass1<ae&&ae<M.highpass2&&(ce=Math.max(ce,ie))}M.highpass1=U/31,ce==-1?M.highpass2=(U+.75)/31:M.highpass2=(ce+.75)/31}for(var ie=0;ie<32;ie++){var ue,we,ae=ie/31;M.highpass2>M.highpass1?ue=I((M.highpass2-ae)/(M.highpass2-M.highpass1+1e-20)):ue=1,M.lowpass2>M.lowpass1?we=I((ae-M.lowpass1)/(M.lowpass2-M.lowpass1+1e-20)):we=1,M.amp_filter[ie]=ue*we}}function g(p){var M=p.internal_flags;switch(p.quality){default:case 9:M.psymodel=0,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 8:p.quality=7;case 7:M.psymodel=1,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 6:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 5:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 4:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 3:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 2:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 1:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 0:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break}}function y(p){var M=p.internal_flags;p.frameNum=0,p.write_id3tag_automatic&&f.id3tag_write_v2(p),M.bitrate_stereoMode_Hist=qf([16,5]),M.bitrate_blockType_Hist=qf([16,6]),M.PeakSample=0,p.bWriteVbrTag&&u.InitVbrTag(p)}this.lame_init_params=function(p){var M=p.internal_flags;if(M.Class_ID=0,M.ATH==null&&(M.ATH=new $6),M.PSY==null&&(M.PSY=new O),M.rgdata==null&&(M.rgdata=new H6),M.channels_in=p.num_channels,M.channels_in==1&&(p.mode=MPEGMode.MONO),M.channels_out=p.mode==MPEGMode.MONO?1:2,M.mode_ext=Tt.MPG_MD_MS_LR,p.mode==MPEGMode.MONO&&(p.force_ms=!1),p.VBR==nt.vbr_off&&p.VBR_mean_bitrate_kbps!=128&&p.brate==0&&(p.brate=p.VBR_mean_bitrate_kbps),p.VBR==nt.vbr_off||p.VBR==nt.vbr_mtrh||p.VBR==nt.vbr_mt||(p.free_format=!1),p.VBR==nt.vbr_off&&p.brate==0&&Cr.EQ(p.compression_ratio,0)&&(p.compression_ratio=11.025),p.VBR==nt.vbr_off&&p.compression_ratio>0&&(p.out_samplerate==0&&(p.out_samplerate=map2MP3Frequency(int(.97*p.in_samplerate))),p.brate=0|p.out_samplerate*16*M.channels_out/(1e3*p.compression_ratio),M.samplerate_index=C(p.out_samplerate,p),p.free_format||(p.brate=R(p.brate,p.version,p.out_samplerate))),p.out_samplerate!=0&&(p.out_samplerate<16e3?(p.VBR_mean_bitrate_kbps=Math.max(p.VBR_mean_bitrate_kbps,8),p.VBR_mean_bitrate_kbps=Math.min(p.VBR_mean_bitrate_kbps,64)):p.out_samplerate<32e3?(p.VBR_mean_bitrate_kbps=Math.max(p.VBR_mean_bitrate_kbps,8),p.VBR_mean_bitrate_kbps=Math.min(p.VBR_mean_bitrate_kbps,160)):(p.VBR_mean_bitrate_kbps=Math.max(p.VBR_mean_bitrate_kbps,32),p.VBR_mean_bitrate_kbps=Math.min(p.VBR_mean_bitrate_kbps,320))),p.lowpassfreq==0){var q=16e3;switch(p.VBR){case nt.vbr_off:{var U=new w;E(U,p.brate),q=U.lowerlimit;break}case nt.vbr_abr:{var U=new w;E(U,p.VBR_mean_bitrate_kbps),q=U.lowerlimit;break}case nt.vbr_rh:{var fe=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=p.VBR_q&&p.VBR_q<=9){var ie=fe[p.VBR_q],ae=fe[p.VBR_q+1],ce=p.VBR_q_frac;q=linear_int(ie,ae,ce)}else q=19500;break}default:{var fe=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=p.VBR_q&&p.VBR_q<=9){var ie=fe[p.VBR_q],ae=fe[p.VBR_q+1],ce=p.VBR_q_frac;q=linear_int(ie,ae,ce)}else q=19500}}p.mode==MPEGMode.MONO&&(p.VBR==nt.vbr_off||p.VBR==nt.vbr_abr)&&(q*=1.5),p.lowpassfreq=q|0}if(p.out_samplerate==0&&(2*p.lowpassfreq>p.in_samplerate&&(p.lowpassfreq=p.in_samplerate/2),p.out_samplerate=m(p.lowpassfreq|0,p.in_samplerate)),p.lowpassfreq=Math.min(20500,p.lowpassfreq),p.lowpassfreq=Math.min(p.out_samplerate/2,p.lowpassfreq),p.VBR==nt.vbr_off&&(p.compression_ratio=p.out_samplerate*16*M.channels_out/(1e3*p.brate)),p.VBR==nt.vbr_abr&&(p.compression_ratio=p.out_samplerate*16*M.channels_out/(1e3*p.VBR_mean_bitrate_kbps)),p.bWriteVbrTag||(p.findReplayGain=!1,p.decode_on_the_fly=!1,M.findPeakSample=!1),M.findReplayGain=p.findReplayGain,M.decode_on_the_fly=p.decode_on_the_fly,M.decode_on_the_fly&&(M.findPeakSample=!0),M.findReplayGain&&s.InitGainAnalysis(M.rgdata,p.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return p.internal_flags=null,-6;switch(M.decode_on_the_fly&&!p.decode_only&&(M.hip!=null&&h.hip_decode_exit(M.hip),M.hip=h.hip_decode_init()),M.mode_gr=p.out_samplerate<=24e3?1:2,p.framesize=576*M.mode_gr,p.encoder_delay=Tt.ENCDELAY,M.resample_ratio=p.in_samplerate/p.out_samplerate,p.VBR){case nt.vbr_mt:case nt.vbr_rh:case nt.vbr_mtrh:{var ue=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];p.compression_ratio=ue[p.VBR_q]}break;case nt.vbr_abr:p.compression_ratio=p.out_samplerate*16*M.channels_out/(1e3*p.VBR_mean_bitrate_kbps);break;default:p.compression_ratio=p.out_samplerate*16*M.channels_out/(1e3*p.brate);break}if(p.mode==MPEGMode.NOT_SET&&(p.mode=MPEGMode.JOINT_STEREO),p.highpassfreq>0?(M.highpass1=2*p.highpassfreq,p.highpasswidth>=0?M.highpass2=2*(p.highpassfreq+p.highpasswidth):M.highpass2=1*2*p.highpassfreq,M.highpass1/=p.out_samplerate,M.highpass2/=p.out_samplerate):(M.highpass1=0,M.highpass2=0),p.lowpassfreq>0?(M.lowpass2=2*p.lowpassfreq,p.lowpasswidth>=0?(M.lowpass1=2*(p.lowpassfreq-p.lowpasswidth),M.lowpass1<0&&(M.lowpass1=0)):M.lowpass1=1*2*p.lowpassfreq,M.lowpass1/=p.out_samplerate,M.lowpass2/=p.out_samplerate):(M.lowpass1=0,M.lowpass2=0),S(p),M.samplerate_index=C(p.out_samplerate,p),M.samplerate_index<0)return p.internal_flags=null,-1;if(p.VBR==nt.vbr_off){if(p.free_format)M.bitrate_index=0;else if(p.brate=R(p.brate,p.version,p.out_samplerate),M.bitrate_index=l(p.brate,p.version,p.out_samplerate),M.bitrate_index<=0)return p.internal_flags=null,-1}else M.bitrate_index=1;p.analysis&&(p.bWriteVbrTag=!1),M.pinfo!=null&&(p.bWriteVbrTag=!1),r.init_bit_stream_w(M);for(var we=M.samplerate_index+3*p.version+6*(p.out_samplerate<16e3?1:0),de=0;de<Tt.SBMAX_l+1;de++)M.scalefac_band.l[de]=a.sfBandIndex[we].l[de];for(var de=0;de<Tt.PSFB21+1;de++){var Ve=(M.scalefac_band.l[22]-M.scalefac_band.l[21])/Tt.PSFB21,Xe=M.scalefac_band.l[21]+de*Ve;M.scalefac_band.psfb21[de]=Xe}M.scalefac_band.psfb21[Tt.PSFB21]=576;for(var de=0;de<Tt.SBMAX_s+1;de++)M.scalefac_band.s[de]=a.sfBandIndex[we].s[de];for(var de=0;de<Tt.PSFB12+1;de++){var Ve=(M.scalefac_band.s[13]-M.scalefac_band.s[12])/Tt.PSFB12,Xe=M.scalefac_band.s[12]+de*Ve;M.scalefac_band.psfb12[de]=Xe}M.scalefac_band.psfb12[Tt.PSFB12]=192,p.version==1?M.sideinfo_len=M.channels_out==1?21:36:M.sideinfo_len=M.channels_out==1?13:21,p.error_protection&&(M.sideinfo_len+=2),y(p),M.Class_ID=D;{var $;for($=0;$<19;$++)M.nsPsy.pefirbuf[$]=700*M.mode_gr*M.channels_out;p.ATHtype==-1&&(p.ATHtype=4)}switch(Us(p.VBR_q<=9),Us(p.VBR_q>=0),p.VBR){case nt.vbr_mt:p.VBR=nt.vbr_mtrh;case nt.vbr_mtrh:{p.useTemporal==null&&(p.useTemporal=!1),i.apply_preset(p,500-p.VBR_q*10,0),p.quality<0&&(p.quality=LAME_DEFAULT_QUALITY),p.quality<5&&(p.quality=0),p.quality>5&&(p.quality=5),M.PSY.mask_adjust=p.maskingadjust,M.PSY.mask_adjust_short=p.maskingadjust_short,p.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=p.out_samplerate>44e3,M.iteration_loop=new VBRNewIterationLoop(o);break}case nt.vbr_rh:{i.apply_preset(p,500-p.VBR_q*10,0),M.PSY.mask_adjust=p.maskingadjust,M.PSY.mask_adjust_short=p.maskingadjust_short,p.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=p.out_samplerate>44e3,p.quality>6&&(p.quality=6),p.quality<0&&(p.quality=LAME_DEFAULT_QUALITY),M.iteration_loop=new VBROldIterationLoop(o);break}default:{var Y;M.sfb21_extra=!1,p.quality<0&&(p.quality=LAME_DEFAULT_QUALITY),Y=p.VBR,Y==nt.vbr_off&&(p.VBR_mean_bitrate_kbps=p.brate),i.apply_preset(p,p.VBR_mean_bitrate_kbps,0),p.VBR=Y,M.PSY.mask_adjust=p.maskingadjust,M.PSY.mask_adjust_short=p.maskingadjust_short,Y==nt.vbr_off?M.iteration_loop=new q6(o):M.iteration_loop=new ABRIterationLoop(o);break}}if(Us(p.scale>=0),p.VBR!=nt.vbr_off){if(M.VBR_min_bitrate=1,M.VBR_max_bitrate=14,p.out_samplerate<16e3&&(M.VBR_max_bitrate=8),p.VBR_min_bitrate_kbps!=0&&(p.VBR_min_bitrate_kbps=R(p.VBR_min_bitrate_kbps,p.version,p.out_samplerate),M.VBR_min_bitrate=l(p.VBR_min_bitrate_kbps,p.version,p.out_samplerate),M.VBR_min_bitrate<0)||p.VBR_max_bitrate_kbps!=0&&(p.VBR_max_bitrate_kbps=R(p.VBR_max_bitrate_kbps,p.version,p.out_samplerate),M.VBR_max_bitrate=l(p.VBR_max_bitrate_kbps,p.version,p.out_samplerate),M.VBR_max_bitrate<0))return-1;p.VBR_min_bitrate_kbps=is.bitrate_table[p.version][M.VBR_min_bitrate],p.VBR_max_bitrate_kbps=is.bitrate_table[p.version][M.VBR_max_bitrate],p.VBR_mean_bitrate_kbps=Math.min(is.bitrate_table[p.version][M.VBR_max_bitrate],p.VBR_mean_bitrate_kbps),p.VBR_mean_bitrate_kbps=Math.max(is.bitrate_table[p.version][M.VBR_min_bitrate],p.VBR_mean_bitrate_kbps)}return p.tune&&(M.PSY.mask_adjust+=p.tune_value_a,M.PSY.mask_adjust_short+=p.tune_value_a),g(p),Us(p.scale>=0),p.athaa_type<0?M.ATH.useAdjust=3:M.ATH.useAdjust=p.athaa_type,M.ATH.aaSensitivityP=Math.pow(10,p.athaa_sensitivity/-10),p.short_blocks==null&&(p.short_blocks=Vc.short_block_allowed),p.short_blocks==Vc.short_block_allowed&&(p.mode==MPEGMode.JOINT_STEREO||p.mode==MPEGMode.STEREO)&&(p.short_blocks=Vc.short_block_coupled),p.quant_comp<0&&(p.quant_comp=1),p.quant_comp_short<0&&(p.quant_comp_short=0),p.msfix<0&&(p.msfix=0),p.exp_nspsytune=p.exp_nspsytune|1,p.internal_flags.nsPsy.attackthre<0&&(p.internal_flags.nsPsy.attackthre=Pc.NSATTACKTHRE),p.internal_flags.nsPsy.attackthre_s<0&&(p.internal_flags.nsPsy.attackthre_s=Pc.NSATTACKTHRE_S),Us(p.scale>=0),p.scale<0&&(p.scale=1),p.ATHtype<0&&(p.ATHtype=4),p.ATHcurve<0&&(p.ATHcurve=4),p.athaa_loudapprox<0&&(p.athaa_loudapprox=2),p.interChRatio<0&&(p.interChRatio=0),p.useTemporal==null&&(p.useTemporal=!0),M.slot_lag=M.frac_SpF=0,p.VBR==nt.vbr_off&&(M.slot_lag=M.frac_SpF=(p.version+1)*72e3*p.brate%p.out_samplerate|0),a.iteration_init(p),c.psymodel_init(p),Us(p.scale>=0),0};function _(p,M){(p.in_buffer_0==null||p.in_buffer_nsamples<M)&&(p.in_buffer_0=xr(M),p.in_buffer_1=xr(M),p.in_buffer_nsamples=M)}this.lame_encode_flush=function(p,M,q,U){var fe=p.internal_flags,ie=P6([2,1152]),ae=0,ce,ue,we,de,Ve=fe.mf_samples_to_encode-Tt.POSTDELAY,Xe=b(p);if(fe.mf_samples_to_encode<1)return 0;for(ce=0,p.in_samplerate!=p.out_samplerate&&(Ve+=16*p.out_samplerate/p.in_samplerate),we=p.framesize-Ve%p.framesize,we<576&&(we+=p.framesize),p.encoder_padding=we,de=(Ve+we)/p.framesize;de>0&&ae>=0;){var $=Xe-fe.mf_size,Y=p.frameNum;$*=p.in_samplerate,$/=p.out_samplerate,$>1152&&($=1152),$<1&&($=1),ue=U-ce,U==0&&(ue=0),ae=this.lame_encode_buffer(p,ie[0],ie[1],$,M,q,ue),q+=ae,ce+=ae,de-=Y!=p.frameNum?1:0}if(fe.mf_samples_to_encode=0,ae<0||(ue=U-ce,U==0&&(ue=0),r.flush_bitstream(p),ae=r.copy_buffer(fe,M,q,ue,1),ae<0))return ae;if(q+=ae,ce+=ae,ue=U-ce,U==0&&(ue=0),p.write_id3tag_automatic){if(f.id3tag_write_v1(p),ae=r.copy_buffer(fe,M,q,ue,0),ae<0)return ae;ce+=ae}return ce},this.lame_encode_buffer=function(p,M,q,U,fe,ie,ae){var ce=p.internal_flags,ue=[null,null];if(ce.Class_ID!=D)return-3;if(U==0)return 0;_(ce,U),ue[0]=ce.in_buffer_0,ue[1]=ce.in_buffer_1;for(var we=0;we<U;we++)ue[0][we]=M[we],ce.channels_in>1&&(ue[1][we]=q[we]);return A(p,ue[0],ue[1],U,fe,ie,ae)};function b(p){var M=Tt.BLKSIZE+p.framesize-Tt.FFTOFFSET;return M=Math.max(M,512+p.framesize-32),M}function A(p,M,q,U,fe,ie,ae){var ce=p.internal_flags,ue=0,we,de,Ve,Xe,$,Y=[null,null],j=[null,null];if(ce.Class_ID!=D)return-3;if(U==0)return 0;if($=r.copy_buffer(ce,fe,ie,ae,0),$<0)return $;if(ie+=$,ue+=$,j[0]=M,j[1]=q,Cr.NEQ(p.scale,0)&&Cr.NEQ(p.scale,1))for(de=0;de<U;++de)j[0][de]*=p.scale,ce.channels_out==2&&(j[1][de]*=p.scale);if(Cr.NEQ(p.scale_left,0)&&Cr.NEQ(p.scale_left,1))for(de=0;de<U;++de)j[0][de]*=p.scale_left;if(Cr.NEQ(p.scale_right,0)&&Cr.NEQ(p.scale_right,1))for(de=0;de<U;++de)j[1][de]*=p.scale_right;if(p.num_channels==2&&ce.channels_out==1)for(de=0;de<U;++de)j[0][de]=.5*(j[0][de]+j[1][de]),j[1][de]=0;Xe=b(p),Y[0]=ce.mfbuf[0],Y[1]=ce.mfbuf[1];for(var Z=0;U>0;){var te=[null,null],oe=0,he=0;te[0]=j[0],te[1]=j[1];var le=new d;if(F(p,Y,te,Z,U,le),oe=le.n_in,he=le.n_out,ce.findReplayGain&&!ce.decode_on_the_fly&&s.AnalyzeSamples(ce.rgdata,Y[0],ce.mf_size,Y[1],ce.mf_size,he,ce.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(U-=oe,Z+=oe,ce.channels_out==2,ce.mf_size+=he,Us(ce.mf_size<=ko.MFSIZE),ce.mf_samples_to_encode<1&&(ce.mf_samples_to_encode=Tt.ENCDELAY+Tt.POSTDELAY),ce.mf_samples_to_encode+=he,ce.mf_size>=Xe){var pe=ae-ue;if(ae==0&&(pe=0),we=v(p,Y[0],Y[1],fe,ie,pe),we<0)return we;for(ie+=we,ue+=we,ce.mf_size-=p.framesize,ce.mf_samples_to_encode-=p.framesize,Ve=0;Ve<ce.channels_out;Ve++)for(de=0;de<ce.mf_size;de++)Y[Ve][de]=Y[Ve][de+p.framesize]}}return ue}function v(p,M,q,U,fe,ie){var ae=t.enc.lame_encode_mp3_frame(p,M,q,U,fe,ie);return p.frameNum++,ae}function d(){this.n_in=0,this.n_out=0}function x(){this.num_used=0}function N(p,M){return M!=0?N(M,p%M):p}function H(p,M,q){var U=Math.PI*M;p/=q,p<0&&(p=0),p>1&&(p=1);var fe=p-.5,ie=.42-.5*Math.cos(2*p*Math.PI)+.08*Math.cos(4*p*Math.PI);return Math.abs(fe)<1e-9?U/Math.PI:ie*Math.sin(q*U*fe)/(Math.PI*q*fe)}function V(p,M,q,U,fe,ie,ae,ce,ue){var we=p.internal_flags,de,Ve=0,Xe,$=p.out_samplerate/N(p.out_samplerate,p.in_samplerate);$>ko.BPC&&($=ko.BPC);var Y=Math.abs(we.resample_ratio-Math.floor(.5+we.resample_ratio))<1e-4?1:0,j=1/we.resample_ratio;j>1&&(j=1);var Z=31;Z%2==0&&--Z,Z+=Y;var te=Z+1;if(we.fill_buffer_resample_init==0){for(we.inbuf_old[0]=xr(te),we.inbuf_old[1]=xr(te),de=0;de<=2*$;++de)we.blackfilt[de]=xr(te);for(we.itime[0]=0,we.itime[1]=0,Ve=0;Ve<=2*$;Ve++){var oe=0,he=(Ve-$)/(2*$);for(de=0;de<=Z;de++)oe+=we.blackfilt[Ve][de]=H(de-he,j,Z);for(de=0;de<=Z;de++)we.blackfilt[Ve][de]/=oe}we.fill_buffer_resample_init=1}var le=we.inbuf_old[ue];for(Xe=0;Xe<U;Xe++){var pe,_e;if(pe=Xe*we.resample_ratio,Ve=0|Math.floor(pe-we.itime[ue]),Z+Ve-Z/2>=ae)break;var he=pe-we.itime[ue]-(Ve+.5*(Z%2));_e=0|Math.floor(he*2*$+$+.5);var Re=0;for(de=0;de<=Z;++de){var Ee=0|de+Ve-Z/2,Oe;Oe=Ee<0?le[te+Ee]:fe[ie+Ee],Re+=Oe*we.blackfilt[_e][de]}M[q+Xe]=Re}if(ce.num_used=Math.min(ae,Z+Ve-Z/2),we.itime[ue]+=ce.num_used-Xe*we.resample_ratio,ce.num_used>=te)for(de=0;de<te;de++)le[de]=fe[ie+ce.num_used+de-te];else{var Ie=te-ce.num_used;for(de=0;de<Ie;++de)le[de]=le[de+ce.num_used];for(Ve=0;de<te;++de,++Ve)le[de]=fe[ie+Ve];Us(Ve==ce.num_used)}return Xe}function F(p,M,q,U,fe,ie){var ae=p.internal_flags;if(ae.resample_ratio<.9999||ae.resample_ratio>1.0001)for(var ce=0;ce<ae.channels_out;ce++){var ue=new x;ie.n_out=V(p,M[ce],ae.mf_size,p.framesize,q[ce],U,fe,ue,ce),ie.n_in=ue.num_used}else{ie.n_out=Math.min(p.framesize,fe),ie.n_in=ie.n_out;for(var we=0;we<ie.n_out;++we)M[0][ae.mf_size+we]=q[0][U+we],ae.channels_out==2&&(M[1][ae.mf_size+we]=q[1][U+we])}}}var W6=kt,j6=pt,as=j6.VbrMode;function U6(){function t(u,f,h,O,w,T,D,k,I,m,C,R,l,E,S){this.vbr_q=u,this.quant_comp=f,this.quant_comp_s=h,this.expY=O,this.st_lrm=w,this.st_s=T,this.masking_adj=D,this.masking_adj_short=k,this.ath_lower=I,this.ath_curve=m,this.ath_sensitivity=C,this.interch=R,this.safejoint=l,this.sfb21mod=E,this.msfix=S}function e(u,f,h,O,w,T,D,k,I,m,C,R,l,E){this.quant_comp=f,this.quant_comp_s=h,this.safejoint=O,this.nsmsfix=w,this.st_lrm=T,this.st_s=D,this.nsbass=k,this.scale=I,this.masking_adj=m,this.ath_lower=C,this.ath_curve=R,this.interch=l,this.sfscale=E}var n;this.setModules=function(u){n=u};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],r=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function i(u,f,h){var O=u.VBR==as.vbr_rh?s:r,w=u.VBR_q_frac,T=O[f],D=O[f+1],k=T;T.st_lrm=T.st_lrm+w*(D.st_lrm-T.st_lrm),T.st_s=T.st_s+w*(D.st_s-T.st_s),T.masking_adj=T.masking_adj+w*(D.masking_adj-T.masking_adj),T.masking_adj_short=T.masking_adj_short+w*(D.masking_adj_short-T.masking_adj_short),T.ath_lower=T.ath_lower+w*(D.ath_lower-T.ath_lower),T.ath_curve=T.ath_curve+w*(D.ath_curve-T.ath_curve),T.ath_sensitivity=T.ath_sensitivity+w*(D.ath_sensitivity-T.ath_sensitivity),T.interch=T.interch+w*(D.interch-T.interch),T.msfix=T.msfix+w*(D.msfix-T.msfix),c(u,k.vbr_q),h!=0?u.quant_comp=k.quant_comp:Math.abs(u.quant_comp- -1)>0||(u.quant_comp=k.quant_comp),h!=0?u.quant_comp_short=k.quant_comp_s:Math.abs(u.quant_comp_short- -1)>0||(u.quant_comp_short=k.quant_comp_s),k.expY!=0&&(u.experimentalY=k.expY!=0),h!=0?u.internal_flags.nsPsy.attackthre=k.st_lrm:Math.abs(u.internal_flags.nsPsy.attackthre- -1)>0||(u.internal_flags.nsPsy.attackthre=k.st_lrm),h!=0?u.internal_flags.nsPsy.attackthre_s=k.st_s:Math.abs(u.internal_flags.nsPsy.attackthre_s- -1)>0||(u.internal_flags.nsPsy.attackthre_s=k.st_s),h!=0?u.maskingadjust=k.masking_adj:Math.abs(u.maskingadjust-0)>0||(u.maskingadjust=k.masking_adj),h!=0?u.maskingadjust_short=k.masking_adj_short:Math.abs(u.maskingadjust_short-0)>0||(u.maskingadjust_short=k.masking_adj_short),h!=0?u.ATHlower=-k.ath_lower/10:Math.abs(-u.ATHlower*10-0)>0||(u.ATHlower=-k.ath_lower/10),h!=0?u.ATHcurve=k.ath_curve:Math.abs(u.ATHcurve- -1)>0||(u.ATHcurve=k.ath_curve),h!=0?u.athaa_sensitivity=k.ath_sensitivity:Math.abs(u.athaa_sensitivity- -1)>0||(u.athaa_sensitivity=k.ath_sensitivity),k.interch>0&&(h!=0?u.interChRatio=k.interch:Math.abs(u.interChRatio- -1)>0||(u.interChRatio=k.interch)),k.safejoint>0&&(u.exp_nspsytune=u.exp_nspsytune|k.safejoint),k.sfb21mod>0&&(u.exp_nspsytune=u.exp_nspsytune|k.sfb21mod<<20),h!=0?u.msfix=k.msfix:Math.abs(u.msfix- -1)>0||(u.msfix=k.msfix),h==0&&(u.VBR_q=f,u.VBR_q_frac=w)}var a=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function o(u,f,h){var O=f,w=n.nearestBitrateFullIndex(f);if(u.VBR=as.vbr_abr,u.VBR_mean_bitrate_kbps=O,u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,320),u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.brate=u.VBR_mean_bitrate_kbps,u.VBR_mean_bitrate_kbps>320&&(u.disable_reservoir=!0),a[w].safejoint>0&&(u.exp_nspsytune=u.exp_nspsytune|2),a[w].sfscale>0&&(u.internal_flags.noise_shaping=2),Math.abs(a[w].nsbass)>0){var T=int(a[w].nsbass*4);T<0&&(T+=64),u.exp_nspsytune=u.exp_nspsytune|T<<2}return h!=0?u.quant_comp=a[w].quant_comp:Math.abs(u.quant_comp- -1)>0||(u.quant_comp=a[w].quant_comp),h!=0?u.quant_comp_short=a[w].quant_comp_s:Math.abs(u.quant_comp_short- -1)>0||(u.quant_comp_short=a[w].quant_comp_s),h!=0?u.msfix=a[w].nsmsfix:Math.abs(u.msfix- -1)>0||(u.msfix=a[w].nsmsfix),h!=0?u.internal_flags.nsPsy.attackthre=a[w].st_lrm:Math.abs(u.internal_flags.nsPsy.attackthre- -1)>0||(u.internal_flags.nsPsy.attackthre=a[w].st_lrm),h!=0?u.internal_flags.nsPsy.attackthre_s=a[w].st_s:Math.abs(u.internal_flags.nsPsy.attackthre_s- -1)>0||(u.internal_flags.nsPsy.attackthre_s=a[w].st_s),h!=0?u.scale=a[w].scale:Math.abs(u.scale- -1)>0||(u.scale=a[w].scale),h!=0?u.maskingadjust=a[w].masking_adj:Math.abs(u.maskingadjust-0)>0||(u.maskingadjust=a[w].masking_adj),a[w].masking_adj>0?h!=0?u.maskingadjust_short=a[w].masking_adj*.9:Math.abs(u.maskingadjust_short-0)>0||(u.maskingadjust_short=a[w].masking_adj*.9):h!=0?u.maskingadjust_short=a[w].masking_adj*1.1:Math.abs(u.maskingadjust_short-0)>0||(u.maskingadjust_short=a[w].masking_adj*1.1),h!=0?u.ATHlower=-a[w].ath_lower/10:Math.abs(-u.ATHlower*10-0)>0||(u.ATHlower=-a[w].ath_lower/10),h!=0?u.ATHcurve=a[w].ath_curve:Math.abs(u.ATHcurve- -1)>0||(u.ATHcurve=a[w].ath_curve),h!=0?u.interChRatio=a[w].interch:Math.abs(u.interChRatio- -1)>0||(u.interChRatio=a[w].interch),f}this.apply_preset=function(u,f,h){switch(f){case Lame.R3MIX:{f=Lame.V3,u.VBR=as.vbr_mtrh;break}case Lame.MEDIUM:{f=Lame.V4,u.VBR=as.vbr_rh;break}case Lame.MEDIUM_FAST:{f=Lame.V4,u.VBR=as.vbr_mtrh;break}case Lame.STANDARD:{f=Lame.V2,u.VBR=as.vbr_rh;break}case Lame.STANDARD_FAST:{f=Lame.V2,u.VBR=as.vbr_mtrh;break}case Lame.EXTREME:{f=Lame.V0,u.VBR=as.vbr_rh;break}case Lame.EXTREME_FAST:{f=Lame.V0,u.VBR=as.vbr_mtrh;break}case Lame.INSANE:return f=320,u.preset=f,o(u,f,h),u.VBR=as.vbr_off,f}switch(u.preset=f,f){case Lame.V9:return i(u,9,h),f;case Lame.V8:return i(u,8,h),f;case Lame.V7:return i(u,7,h),f;case Lame.V6:return i(u,6,h),f;case Lame.V5:return i(u,5,h),f;case Lame.V4:return i(u,4,h),f;case Lame.V3:return i(u,3,h),f;case Lame.V2:return i(u,2,h),f;case Lame.V1:return i(u,1,h),f;case Lame.V0:return i(u,0,h),f}return 8<=f&&f<=320?o(u,f,h):(u.preset=0,f)};function c(u,f){var h=0;return 0>f&&(h=-1,f=0),9<f&&(h=-1,f=9),u.VBR_q=f,u.VBR_q_frac=0,h}}var Y6=U6;function G6(){this.setModules=function(t,e){}}var X6=G6;function K6(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var z6=K6,fp=pt,Wf=fp.new_float,Z6=fp.new_int;function Q6(){this.global_gain=0,this.sfb_count1=0,this.step=Z6(39),this.noise=Wf(39),this.noise_log=Wf(39)}var J6=Q6,Zi=pt,Ys=Zi.System,jf=Zi.VbrMode,Fc=Zi.Util,ii=Zi.Arrays,ha=Zi.new_float,fa=Zi.assert,eT=X6,$c=z6,tT=J6,ze=Xt(),Uf=x0,Yf=Xl;function nT(){var t;this.rv=null;var e;this.qupvt=null;var n,s=new eT,r;this.setModules=function(I,m,C,R){t=I,e=m,this.rv=m,n=C,this.qupvt=C,r=R,s.setModules(n,r)},this.ms_convert=function(I,m){for(var C=0;C<576;++C){var R=I.tt[m][0].xr[C],l=I.tt[m][1].xr[C];I.tt[m][0].xr[C]=(R+l)*(Fc.SQRT2*.5),I.tt[m][1].xr[C]=(R-l)*(Fc.SQRT2*.5)}};function i(I,m,C,R){R=0;for(var l=0;l<=C;++l){var E=Math.abs(I.xr[l]);R+=E,m[l]=Math.sqrt(E*Math.sqrt(E)),m[l]>I.xrpow_max&&(I.xrpow_max=m[l])}return R}this.init_xrpow=function(I,m,C){var R=0,l=0|m.max_nonzero_coeff;if(m.xrpow_max=0,ii.fill(C,l,576,0),R=i(m,C,l,R),R>1e-20){var E=0;I.substep_shaping&2&&(E=1);for(var S=0;S<m.psymax;S++)I.pseudohalf[S]=E;return!0}return ii.fill(m.l3_enc,0,576,0),!1};function a(I,m){var C=I.ATH,R=m.xr;if(m.block_type!=ze.SHORT_TYPE)for(var l=!1,E=ze.PSFB21-1;E>=0&&!l;E--){var S=I.scalefac_band.psfb21[E],g=I.scalefac_band.psfb21[E+1],y=n.athAdjust(C.adjust,C.psfb21[E],C.floor);I.nsPsy.longfact[21]>1e-12&&(y*=I.nsPsy.longfact[21]);for(var _=g-1;_>=S;_--)if(Math.abs(R[_])<y)R[_]=0;else{l=!0;break}}else for(var b=0;b<3;b++)for(var l=!1,E=ze.PSFB12-1;E>=0&&!l;E--){var S=I.scalefac_band.s[12]*3+(I.scalefac_band.s[13]-I.scalefac_band.s[12])*b+(I.scalefac_band.psfb12[E]-I.scalefac_band.psfb12[0]),g=S+(I.scalefac_band.psfb12[E+1]-I.scalefac_band.psfb12[E]),A=n.athAdjust(C.adjust,C.psfb12[E],C.floor);I.nsPsy.shortfact[12]>1e-12&&(A*=I.nsPsy.shortfact[12]);for(var _=g-1;_>=S;_--)if(Math.abs(R[_])<A)R[_]=0;else{l=!0;break}}}this.init_outer_loop=function(I,m){m.part2_3_length=0,m.big_values=0,m.count1=0,m.global_gain=210,m.scalefac_compress=0,m.table_select[0]=0,m.table_select[1]=0,m.table_select[2]=0,m.subblock_gain[0]=0,m.subblock_gain[1]=0,m.subblock_gain[2]=0,m.subblock_gain[3]=0,m.region0_count=0,m.region1_count=0,m.preflag=0,m.scalefac_scale=0,m.count1table_select=0,m.part2_length=0,m.sfb_lmax=ze.SBPSY_l,m.sfb_smin=ze.SBPSY_s,m.psy_lmax=I.sfb21_extra?ze.SBMAX_l:ze.SBPSY_l,m.psymax=m.psy_lmax,m.sfbmax=m.sfb_lmax,m.sfbdivide=11;for(var C=0;C<ze.SBMAX_l;C++)m.width[C]=I.scalefac_band.l[C+1]-I.scalefac_band.l[C],m.window[C]=3;if(m.block_type==ze.SHORT_TYPE){var R=ha(576);m.sfb_smin=0,m.sfb_lmax=0,m.mixed_block_flag!=0&&(m.sfb_smin=3,m.sfb_lmax=I.mode_gr*2+4),m.psymax=m.sfb_lmax+3*((I.sfb21_extra?ze.SBMAX_s:ze.SBPSY_s)-m.sfb_smin),m.sfbmax=m.sfb_lmax+3*(ze.SBPSY_s-m.sfb_smin),m.sfbdivide=m.sfbmax-18,m.psy_lmax=m.sfb_lmax;var l=I.scalefac_band.l[m.sfb_lmax];Ys.arraycopy(m.xr,0,R,0,576);for(var C=m.sfb_smin;C<ze.SBMAX_s;C++)for(var E=I.scalefac_band.s[C],S=I.scalefac_band.s[C+1],g=0;g<3;g++)for(var y=E;y<S;y++)m.xr[l++]=R[3*y+g];for(var _=m.sfb_lmax,C=m.sfb_smin;C<ze.SBMAX_s;C++)m.width[_]=m.width[_+1]=m.width[_+2]=I.scalefac_band.s[C+1]-I.scalefac_band.s[C],m.window[_]=0,m.window[_+1]=1,m.window[_+2]=2,_+=3}m.count1bits=0,m.sfb_partition_table=n.nr_of_sfb_block[0][0],m.slen[0]=0,m.slen[1]=0,m.slen[2]=0,m.slen[3]=0,m.max_nonzero_coeff=575,ii.fill(m.scalefac,0),a(I,m)};function o(I){this.ordinal=I}o.BINSEARCH_NONE=new o(0),o.BINSEARCH_UP=new o(1),o.BINSEARCH_DOWN=new o(2);function c(I,m,C,R,l){var E,S=I.CurrentStep[R],g=!1,y=I.OldValue[R],_=o.BINSEARCH_NONE;for(m.global_gain=y,C-=m.part2_length;;){var b;if(E=r.count_bits(I,l,m,null),S==1||E==C)break;E>C?(_==o.BINSEARCH_DOWN&&(g=!0),g&&(S/=2),_=o.BINSEARCH_UP,b=S):(_==o.BINSEARCH_UP&&(g=!0),g&&(S/=2),_=o.BINSEARCH_DOWN,b=-S),m.global_gain+=b,m.global_gain<0&&(m.global_gain=0,g=!0),m.global_gain>255&&(m.global_gain=255,g=!0)}for(fa(m.global_gain>=0),fa(m.global_gain<256);E>C&&m.global_gain<255;)m.global_gain++,E=r.count_bits(I,l,m,null);return I.CurrentStep[R]=y-m.global_gain>=4?4:2,I.OldValue[R]=m.global_gain,m.part2_3_length=E,E}this.trancate_smallspectrums=function(I,m,C,R){var l=ha(Yf.SFBMAX);if(!(!(I.substep_shaping&4)&&m.block_type==ze.SHORT_TYPE||I.substep_shaping&128)){n.calc_noise(m,C,l,new $c,null);for(var S=0;S<576;S++){var E=0;m.l3_enc[S]!=0&&(E=Math.abs(m.xr[S])),R[S]=E}var S=0,g=8;m.block_type==ze.SHORT_TYPE&&(g=6);do{var y,_,b,A,v=m.width[g];if(S+=v,!(l[g]>=1)&&(ii.sort(R,S-v,v),!BitStream.EQ(R[S-1],0))){y=(1-l[g])*C[g],_=0,A=0;do{var d;for(b=1;A+b<v&&!BitStream.NEQ(R[A+S-v],R[A+S+b-v]);b++);if(d=R[A+S-v]*R[A+S-v]*b,y<d){A!=0&&(_=R[A+S-v-1]);break}y-=d,A+=b}while(A<v);if(!BitStream.EQ(_,0))do Math.abs(m.xr[S-v])<=_&&(m.l3_enc[S-v]=0);while(--v>0)}}while(++g<m.psymax);m.part2_3_length=r.noquant_count_bits(I,m,null)}};function u(I){for(var m=0;m<I.sfbmax;m++)if(I.scalefac[m]+I.subblock_gain[I.window[m]]==0)return!1;return!0}function f(I){return Fc.FAST_LOG10(.368+.632*I*I*I)}function h(I,m){for(var C=1e-37,R=0;R<m.psymax;R++)C+=f(I[R]);return Math.max(1e-20,C)}function O(I,m,C,R,l){var E;switch(I){default:case 9:{m.over_count>0?(E=C.over_SSD<=m.over_SSD,C.over_SSD==m.over_SSD&&(E=C.bits<m.bits)):E=C.max_noise<0&&C.max_noise*10+C.bits<=m.max_noise*10+m.bits;break}case 0:E=C.over_count<m.over_count||C.over_count==m.over_count&&C.over_noise<m.over_noise||C.over_count==m.over_count&&BitStream.EQ(C.over_noise,m.over_noise)&&C.tot_noise<m.tot_noise;break;case 8:C.max_noise=h(l,R);case 1:E=C.max_noise<m.max_noise;break;case 2:E=C.tot_noise<m.tot_noise;break;case 3:E=C.tot_noise<m.tot_noise&&C.max_noise<m.max_noise;break;case 4:E=C.max_noise<=0&&m.max_noise>.2||C.max_noise<=0&&m.max_noise<0&&m.max_noise>C.max_noise-.2&&C.tot_noise<m.tot_noise||C.max_noise<=0&&m.max_noise>0&&m.max_noise>C.max_noise-.2&&C.tot_noise<m.tot_noise+m.over_noise||C.max_noise>0&&m.max_noise>-.05&&m.max_noise>C.max_noise-.1&&C.tot_noise+C.over_noise<m.tot_noise+m.over_noise||C.max_noise>0&&m.max_noise>-.1&&m.max_noise>C.max_noise-.15&&C.tot_noise+C.over_noise+C.over_noise<m.tot_noise+m.over_noise+m.over_noise;break;case 5:E=C.over_noise<m.over_noise||BitStream.EQ(C.over_noise,m.over_noise)&&C.tot_noise<m.tot_noise;break;case 6:E=C.over_noise<m.over_noise||BitStream.EQ(C.over_noise,m.over_noise)&&(C.max_noise<m.max_noise||BitStream.EQ(C.max_noise,m.max_noise)&&C.tot_noise<=m.tot_noise);break;case 7:E=C.over_count<m.over_count||C.over_noise<m.over_noise;break}return m.over_count==0&&(E=E&&C.bits<m.bits),E}function w(I,m,C,R,l){var E=I.internal_flags,S;m.scalefac_scale==0?S=1.2968395546510096:S=1.6817928305074292;for(var g=0,y=0;y<m.sfbmax;y++)g<C[y]&&(g=C[y]);var _=E.noise_shaping_amp;switch(_==3&&(l?_=2:_=1),_){case 2:break;case 1:g>1?g=Math.pow(g,.5):g*=.95;break;case 0:default:g>1?g=1:g*=.95;break}for(var b=0,y=0;y<m.sfbmax;y++){var A=m.width[y],v;if(b+=A,!(C[y]<g)){if(E.substep_shaping&2&&(E.pseudohalf[y]=E.pseudohalf[y]==0?1:0,E.pseudohalf[y]==0&&E.noise_shaping_amp==2))return;for(m.scalefac[y]++,v=-A;v<0;v++)R[b+v]*=S,R[b+v]>m.xrpow_max&&(m.xrpow_max=R[b+v]);if(E.noise_shaping_amp==2)return}}}function T(I,m){for(var C=1.2968395546510096,R=0,l=0;l<I.sfbmax;l++){var E=I.width[l],S=I.scalefac[l];if(I.preflag!=0&&(S+=n.pretab[l]),R+=E,S&1){S++;for(var g=-E;g<0;g++)m[R+g]*=C,m[R+g]>I.xrpow_max&&(I.xrpow_max=m[R+g])}I.scalefac[l]=S>>1}I.preflag=0,I.scalefac_scale=1}function D(I,m,C){var R,l=m.scalefac;for(R=0;R<m.sfb_lmax;R++)if(l[R]>=16)return!0;for(var E=0;E<3;E++){var S=0,g=0;for(R=m.sfb_lmax+E;R<m.sfbdivide;R+=3)S<l[R]&&(S=l[R]);for(;R<m.sfbmax;R+=3)g<l[R]&&(g=l[R]);if(!(S<16&&g<8)){if(m.subblock_gain[E]>=7)return!0;m.subblock_gain[E]++;var y=I.scalefac_band.l[m.sfb_lmax];for(R=m.sfb_lmax+E;R<m.sfbmax;R+=3){var _,b=m.width[R],A=l[R];if(A=A-(4>>m.scalefac_scale),A>=0){l[R]=A,y+=b*3;continue}l[R]=0;{var v=210+(A<<m.scalefac_scale+1);_=n.IPOW20(v)}y+=b*(E+1);for(var d=-b;d<0;d++)C[y+d]*=_,C[y+d]>m.xrpow_max&&(m.xrpow_max=C[y+d]);y+=b*(3-E-1)}{var _=n.IPOW20(202);y+=m.width[R]*(E+1);for(var d=-m.width[R];d<0;d++)C[y+d]*=_,C[y+d]>m.xrpow_max&&(m.xrpow_max=C[y+d])}}}return!1}function k(I,m,C,R,l){var E=I.internal_flags;w(I,m,C,R,l);var S=u(m);return S?!1:(E.mode_gr==2?S=r.scale_bitcount(m):S=r.scale_bitcount_lsf(E,m),S?(E.noise_shaping>1&&(ii.fill(E.pseudohalf,0),m.scalefac_scale==0?(T(m,R),S=!1):m.block_type==ze.SHORT_TYPE&&E.subblock_gain>0&&(S=D(E,m,R)||u(m))),S||(E.mode_gr==2?S=r.scale_bitcount(m):S=r.scale_bitcount_lsf(E,m)),!S):!0)}this.outer_loop=function(I,m,C,R,l,E){var S=I.internal_flags,g=new Uf,y=ha(576),_=ha(Yf.SFBMAX),b=new $c,A,v=new tT,d=9999999,x=!1,N=!1,H=0;if(c(S,m,E,l,R),S.noise_shaping==0)return 100;n.calc_noise(m,C,_,b,v),b.bits=m.part2_3_length,g.assign(m);var V=0;for(Ys.arraycopy(R,0,y,0,576);!x;){do{var F=new $c,p,M=255;if(S.substep_shaping&2?p=20:p=3,S.sfb21_extra&&(_[g.sfbmax]>1||g.block_type==ze.SHORT_TYPE&&(_[g.sfbmax+1]>1||_[g.sfbmax+2]>1))||!k(I,g,_,R,N))break;g.scalefac_scale!=0&&(M=254);var q=E-g.part2_length;if(q<=0)break;for(;(g.part2_3_length=r.count_bits(S,R,g,v))>q&&g.global_gain<=M;)g.global_gain++;if(g.global_gain>M)break;if(b.over_count==0){for(;(g.part2_3_length=r.count_bits(S,R,g,v))>d&&g.global_gain<=M;)g.global_gain++;if(g.global_gain>M)break}if(n.calc_noise(g,C,_,F,v),F.bits=g.part2_3_length,m.block_type!=ze.SHORT_TYPE?A=I.quant_comp:A=I.quant_comp_short,A=O(A,b,F,g,_)?1:0,A!=0)d=m.part2_3_length,b=F,m.assign(g),V=0,Ys.arraycopy(R,0,y,0,576);else if(S.full_outer_loop==0&&(++V>p&&b.over_count==0||S.noise_shaping_amp==3&&N&&V>30||S.noise_shaping_amp==3&&N&&g.global_gain-H>15))break}while(g.global_gain+g.scalefac_scale<255);S.noise_shaping_amp==3?N?x=!0:(g.assign(m),Ys.arraycopy(y,0,R,0,576),V=0,H=g.global_gain,N=!0):x=!0}return fa(m.global_gain+m.scalefac_scale<=255),I.VBR==jf.vbr_rh||I.VBR==jf.vbr_mtrh?Ys.arraycopy(y,0,R,0,576):S.substep_shaping&1&&trancate_smallspectrums(S,m,C,R),b.over_count},this.iteration_finish_one=function(I,m,C){var R=I.l3_side,l=R.tt[m][C];r.best_scalefac_store(I,m,C,R),I.use_best_huffman==1&&r.best_huffman_divide(I,l),e.ResvAdjust(I,l)},this.VBR_encode_granule=function(I,m,C,R,l,E,S){var g=I.internal_flags,y=new Uf,_=ha(576),b=S,A=S+1,v=(S+E)/2,d,x,N=0,H=g.sfb21_extra;fa(b<=LameInternalFlags.MAX_BITS_PER_CHANNEL),ii.fill(y.l3_enc,0);do v>b-42?g.sfb21_extra=!1:g.sfb21_extra=H,x=outer_loop(I,m,C,R,l,v),x<=0?(N=1,A=m.part2_3_length,y.assign(m),Ys.arraycopy(R,0,_,0,576),S=A-32,d=S-E,v=(S+E)/2):(E=v+32,d=S-E,v=(S+E)/2,N!=0&&(N=2,m.assign(y),Ys.arraycopy(_,0,R,0,576)));while(d>12);g.sfb21_extra=H,N==2&&Ys.arraycopy(y.l3_enc,0,m.l3_enc,0,576),fa(m.part2_3_length<=b)},this.get_framebits=function(I,m){var C=I.internal_flags;C.bitrate_index=C.VBR_min_bitrate;var R=t.getframebits(I);C.bitrate_index=1,R=t.getframebits(I);for(var l=1;l<=C.VBR_max_bitrate;l++){C.bitrate_index=l;var E=new MeanBits(R);m[l]=e.ResvFrameBegin(I,E),R=E.bits}},this.VBR_old_prepare=function(I,m,C,R,l,E,S,g,y){var _=I.internal_flags,b,A=0,v=1,d=0;_.bitrate_index=_.VBR_max_bitrate;var x=e.ResvFrameBegin(I,new MeanBits(0))/_.mode_gr;get_framebits(I,E);for(var N=0;N<_.mode_gr;N++){var H=n.on_pe(I,m,g[N],x,N,0);_.mode_ext==ze.MPG_MD_MS_LR&&(ms_convert(_.l3_side,N),n.reduce_side(g[N],C[N],x,H));for(var V=0;V<_.channels_out;++V){var F=_.l3_side.tt[N][V];F.block_type!=ze.SHORT_TYPE?(A=1.28/(1+Math.exp(3.5-m[N][V]/300))-.05,b=_.PSY.mask_adjust-A):(A=2.56/(1+Math.exp(3.5-m[N][V]/300))-.14,b=_.PSY.mask_adjust_short-A),_.masking_lower=Math.pow(10,b*.1),init_outer_loop(_,F),y[N][V]=n.calc_xmin(I,R[N][V],F,l[N][V]),y[N][V]!=0&&(v=0),S[N][V]=126,d+=g[N][V]}}for(var N=0;N<_.mode_gr;N++)for(var V=0;V<_.channels_out;V++)d>E[_.VBR_max_bitrate]&&(g[N][V]*=E[_.VBR_max_bitrate],g[N][V]/=d),S[N][V]>g[N][V]&&(S[N][V]=g[N][V]);return v},this.bitpressure_strategy=function(I,m,C,R){for(var l=0;l<I.mode_gr;l++)for(var E=0;E<I.channels_out;E++){for(var S=I.l3_side.tt[l][E],g=m[l][E],y=0,_=0;_<S.psy_lmax;_++)g[y++]*=1+.029*_*_/ze.SBMAX_l/ze.SBMAX_l;if(S.block_type==ze.SHORT_TYPE)for(var _=S.sfb_smin;_<ze.SBMAX_s;_++)g[y++]*=1+.029*_*_/ze.SBMAX_s/ze.SBMAX_s,g[y++]*=1+.029*_*_/ze.SBMAX_s/ze.SBMAX_s,g[y++]*=1+.029*_*_/ze.SBMAX_s/ze.SBMAX_s;R[l][E]=0|Math.max(C[l][E],.9*R[l][E])}},this.VBR_new_prepare=function(I,m,C,R,l,E){var S=I.internal_flags,g=1,y=0,_=0,b;if(I.free_format){S.bitrate_index=0;var A=new MeanBits(y);b=e.ResvFrameBegin(I,A),y=A.bits,l[0]=b}else{S.bitrate_index=S.VBR_max_bitrate;var A=new MeanBits(y);e.ResvFrameBegin(I,A),y=A.bits,get_framebits(I,l),b=l[S.VBR_max_bitrate]}for(var v=0;v<S.mode_gr;v++){n.on_pe(I,m,E[v],y,v,0),S.mode_ext==ze.MPG_MD_MS_LR&&ms_convert(S.l3_side,v);for(var d=0;d<S.channels_out;++d){var x=S.l3_side.tt[v][d];S.masking_lower=Math.pow(10,S.PSY.mask_adjust*.1),init_outer_loop(S,x),n.calc_xmin(I,C[v][d],x,R[v][d])!=0&&(g=0),_+=E[v][d]}}for(var v=0;v<S.mode_gr;v++)for(var d=0;d<S.channels_out;d++)_>b&&(E[v][d]*=b,E[v][d]/=_);return g},this.calc_target_bits=function(I,m,C,R,l,E){var S=I.internal_flags,g=S.l3_side,y,_,b,A,v=0;S.bitrate_index=S.VBR_max_bitrate;var d=new MeanBits(v);for(E[0]=e.ResvFrameBegin(I,d),v=d.bits,S.bitrate_index=1,v=t.getframebits(I)-S.sideinfo_len*8,l[0]=v/(S.mode_gr*S.channels_out),v=I.VBR_mean_bitrate_kbps*I.framesize*1e3,S.substep_shaping&1&&(v*=1.09),v/=I.out_samplerate,v-=S.sideinfo_len*8,v/=S.mode_gr*S.channels_out,y=.93+.07*(11-I.compression_ratio)/(11-5.5),y<.9&&(y=.9),y>1&&(y=1),_=0;_<S.mode_gr;_++){var x=0;for(b=0;b<S.channels_out;b++){if(R[_][b]=int(y*v),m[_][b]>700){var N=int((m[_][b]-700)/1.4),H=g.tt[_][b];R[_][b]=int(y*v),H.block_type==ze.SHORT_TYPE&&N<v/2&&(N=v/2),N>v*3/2?N=v*3/2:N<0&&(N=0),R[_][b]+=N}R[_][b]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(R[_][b]=LameInternalFlags.MAX_BITS_PER_CHANNEL),x+=R[_][b]}if(x>LameInternalFlags.MAX_BITS_PER_GRANULE)for(b=0;b<S.channels_out;++b)R[_][b]*=LameInternalFlags.MAX_BITS_PER_GRANULE,R[_][b]/=x}if(S.mode_ext==ze.MPG_MD_MS_LR)for(_=0;_<S.mode_gr;_++)n.reduce_side(R[_],C[_],v*S.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(A=0,_=0;_<S.mode_gr;_++)for(b=0;b<S.channels_out;b++)R[_][b]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(R[_][b]=LameInternalFlags.MAX_BITS_PER_CHANNEL),A+=R[_][b];if(A>E[0])for(_=0;_<S.mode_gr;_++)for(b=0;b<S.channels_out;b++)R[_][b]*=E[0],R[_][b]/=A}}var sT=nT,rT=pt,Gf=rT.assert;function iT(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,n){var s=e.internal_flags,r,i=s.l3_side,a=t.getframebits(e);n.bits=(a-s.sideinfo_len*8)/s.mode_gr;var o=8*256*s.mode_gr-8;e.brate>320?r=8*int(e.brate*1e3/(e.out_samplerate/1152)/8+.5):(r=8*1440,e.strict_ISO&&(r=8*int(32e4/(e.out_samplerate/1152)/8+.5))),s.ResvMax=r-a,s.ResvMax>o&&(s.ResvMax=o),(s.ResvMax<0||e.disable_reservoir)&&(s.ResvMax=0);var c=n.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return c>r&&(c=r),Gf(s.ResvMax%8==0),Gf(s.ResvMax>=0),i.resvDrain_pre=0,s.pinfo!=null&&(s.pinfo.mean_bits=n.bits/2,s.pinfo.resvsize=s.ResvSize),c},this.ResvMaxBits=function(e,n,s,r){var i=e.internal_flags,a,o=i.ResvSize,c=i.ResvMax;r!=0&&(o+=n),i.substep_shaping&1&&(c*=.9),s.bits=n,o*10>c*9?(a=o-c*9/10,s.bits+=a,i.substep_shaping|=128):(a=0,i.substep_shaping&=127,!e.disable_reservoir&&!(i.substep_shaping&1)&&(s.bits-=.1*n));var u=o<i.ResvMax*6/10?o:i.ResvMax*6/10;return u-=a,u<0&&(u=0),u},this.ResvAdjust=function(e,n){e.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(e,n){var s,r=e.l3_side;e.ResvSize+=n*e.mode_gr;var i=0;r.resvDrain_post=0,r.resvDrain_pre=0,(s=e.ResvSize%8)!=0&&(i+=s),s=e.ResvSize-i-e.ResvMax,s>0&&(i+=s);{var a=Math.min(r.main_data_begin*8,i)/8;r.resvDrain_pre+=8*a,i-=8*a,e.ResvSize-=8*a,r.main_data_begin-=a}r.resvDrain_post+=i,e.ResvSize-=i}}var aT=iT;function oT(){var t="http://www.mp3dev.org/",e=3,n=98,s=4,r=0,i=93;this.getLameVersion=function(){return e+"."+n+"."+s},this.getLameShortVersion=function(){return e+"."+n+"."+s},this.getLameVeryShortVersion=function(){return"LAME"+e+"."+n+"r"},this.getPsyVersion=function(){return r+"."+i},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}var lT=oT,Qi=pt,cT=Qi.System,Hc=Qi.VbrMode,Xf=Qi.ShortBlock,uT=Qi.Arrays,Do=Qi.new_byte,hT=Qi.assert;Ya.NUMTOCENTRIES=100;Ya.MAXFRAMESIZE=2880;function Ya(){var t,e,n;this.setModules=function(v,d,x){t=v,e=d,n=x};var s=1,r=2,i=4,a=8,o=Ya.NUMTOCENTRIES,c=Ya.MAXFRAMESIZE,u=o+4+4+4+4+4,f=u+9+1+1+8+1+1+3+1+1+2+4+2+2,h=128,O=64,w=32,T=null,D="Xing",k="Info",I=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function m(v,d){if(v.nVbrNumFrames++,v.sum+=d,v.seen++,!(v.seen<v.want)&&(v.pos<v.size&&(v.bag[v.pos]=v.sum,v.pos++,v.seen=0),v.pos==v.size)){for(var x=1;x<v.size;x+=2)v.bag[x/2]=v.bag[x];v.want*=2,v.pos/=2}}function C(v,d){if(!(v.pos<=0))for(var x=1;x<o;++x){var N=x/o,H,V,F=0|Math.floor(N*v.pos);F>v.pos-1&&(F=v.pos-1),H=v.bag[F],V=v.sum;var p=0|256*H/V;p>255&&(p=255),d[x]=255&p}}this.addVbrFrame=function(v){var d=v.internal_flags,x=Tables.bitrate_table[v.version][d.bitrate_index];hT(d.VBR_seek_table.bag!=null),m(d.VBR_seek_table,x)};function R(v,d){var x=v[d+0]&255;return x<<=8,x|=v[d+1]&255,x<<=8,x|=v[d+2]&255,x<<=8,x|=v[d+3]&255,x}function l(v,d,x){v[d+0]=255&(x>>24&255),v[d+1]=255&(x>>16&255),v[d+2]=255&(x>>8&255),v[d+3]=255&(x&255)}function E(v,d,x){v[d+0]=255&(x>>8&255),v[d+1]=255&(x&255)}function S(v,d){return new String(v,d,D.length(),T).equals(D)||new String(v,d,k.length(),T).equals(k)}function g(v,d,x){return 255&(v<<d|x&~(-1<<d))}function y(v,d){var x=v.internal_flags;d[0]=g(d[0],8,255),d[1]=g(d[1],3,7),d[1]=g(d[1],1,v.out_samplerate<16e3?0:1),d[1]=g(d[1],1,v.version),d[1]=g(d[1],2,1),d[1]=g(d[1],1,v.error_protection?0:1),d[2]=g(d[2],4,x.bitrate_index),d[2]=g(d[2],2,x.samplerate_index),d[2]=g(d[2],1,0),d[2]=g(d[2],1,v.extension),d[3]=g(d[3],2,v.mode.ordinal()),d[3]=g(d[3],2,x.mode_ext),d[3]=g(d[3],1,v.copyright),d[3]=g(d[3],1,v.original),d[3]=g(d[3],2,v.emphasis),d[0]=255;var N=255&(d[1]&241),H;v.version==1?H=h:v.out_samplerate<16e3?H=w:H=O,v.VBR==Hc.vbr_off&&(H=v.brate);var V;v.free_format?V=0:V=255&16*t.BitrateIndex(H,v.version,v.out_samplerate),v.version==1?(d[1]=255&(N|10),N=255&(d[2]&13),d[2]=255&(V|N)):(d[1]=255&(N|2),N=255&(d[2]&13),d[2]=255&(V|N))}this.getVbrTag=function(v){var d=new VBRTagData,x=0;d.flags=0;var N=v[x+1]>>3&1,H=v[x+2]>>2&3,V=v[x+3]>>6&3,F=v[x+2]>>4&15;if(F=Tables.bitrate_table[N][F],v[x+1]>>4==14?d.samprate=Tables.samplerate_table[2][H]:d.samprate=Tables.samplerate_table[N][H],N!=0?V!=3?x+=36:x+=21:V!=3?x+=21:x+=13,!S(v,x))return null;x+=4,d.hId=N;var p=d.flags=R(v,x);if(x+=4,p&s&&(d.frames=R(v,x),x+=4),p&r&&(d.bytes=R(v,x),x+=4),p&i){if(d.toc!=null)for(var M=0;M<o;M++)d.toc[M]=v[x+M];x+=o}d.vbrScale=-1,p&a&&(d.vbrScale=R(v,x),x+=4),d.headersize=(N+1)*72e3*F/d.samprate,x+=21;var q=v[x+0]<<4;q+=v[x+1]>>4;var U=(v[x+1]&15)<<8;return U+=v[x+2]&255,(q<0||q>3e3)&&(q=-1),(U<0||U>3e3)&&(U=-1),d.encDelay=q,d.encPadding=U,d},this.InitVbrTag=function(v){var d=v.internal_flags,x;v.version==1?x=h:v.out_samplerate<16e3?x=w:x=O,v.VBR==Hc.vbr_off&&(x=v.brate);var N=(v.version+1)*72e3*x/v.out_samplerate,H=d.sideinfo_len+f;if(d.VBR_seek_table.TotalFrameSize=N,N<H||N>c){v.bWriteVbrTag=!1;return}d.VBR_seek_table.nVbrNumFrames=0,d.VBR_seek_table.nBytesWritten=0,d.VBR_seek_table.sum=0,d.VBR_seek_table.seen=0,d.VBR_seek_table.want=1,d.VBR_seek_table.pos=0,d.VBR_seek_table.bag==null&&(d.VBR_seek_table.bag=new int[400],d.VBR_seek_table.size=400);var V=Do(c);y(v,V);for(var F=d.VBR_seek_table.TotalFrameSize,p=0;p<F;++p)e.add_dummy_byte(v,V[p]&255,1)};function _(v,d){var x=d^v;return d=d>>8^I[x&255],d}this.updateMusicCRC=function(v,d,x,N){for(var H=0;H<N;++H)v[0]=_(d[x+H],v[0])};function b(v,d,x,N,H){var V=v.internal_flags,F=0,p=v.encoder_delay,M=v.encoder_padding,q=100-10*v.VBR_q-v.quality,U=n.getLameVeryShortVersion(),fe,ie=0,ae,ce=[1,5,3,2,4,0,3],ue=0|(v.lowpassfreq/100+.5>255?255:v.lowpassfreq/100+.5),we=0,de=0,Ve=0,Xe=v.internal_flags.noise_shaping,$=0,Y=0,j=0,Z=0,te=0,oe=(v.exp_nspsytune&1)!=0,he=(v.exp_nspsytune&2)!=0,le=!1,pe=!1,_e=v.internal_flags.nogap_total,Re=v.internal_flags.nogap_current,Ee=v.ATHtype,Oe=0,Ie;switch(v.VBR){case vbr_abr:Ie=v.VBR_mean_bitrate_kbps;break;case vbr_off:Ie=v.brate;break;default:Ie=v.VBR_min_bitrate_kbps}switch(v.VBR.ordinal()<ce.length?fe=ce[v.VBR.ordinal()]:fe=0,ae=16*ie+fe,V.findReplayGain&&(V.RadioGain>510&&(V.RadioGain=510),V.RadioGain<-510&&(V.RadioGain=-510),de=8192,de|=3072,V.RadioGain>=0?de|=V.RadioGain:(de|=512,de|=-V.RadioGain)),V.findPeakSample&&(we=Math.abs(0|V.PeakSample/32767*Math.pow(2,23)+.5)),_e!=-1&&(Re>0&&(pe=!0),Re<_e-1&&(le=!0)),Oe=Ee+((oe?1:0)<<4)+((he?1:0)<<5)+((le?1:0)<<6)+((pe?1:0)<<7),q<0&&(q=0),v.mode){case MONO:$=0;break;case STEREO:$=1;break;case DUAL_CHANNEL:$=2;break;case JOINT_STEREO:v.force_ms?$=4:$=3;break;case NOT_SET:default:$=7;break}v.in_samplerate<=32e3?j=0:v.in_samplerate==48e3?j=2:v.in_samplerate>48e3?j=3:j=1,(v.short_blocks==Xf.short_block_forced||v.short_blocks==Xf.short_block_dispensed||v.lowpassfreq==-1&&v.highpassfreq==-1||v.scale_left<v.scale_right||v.scale_left>v.scale_right||v.disable_reservoir&&v.brate<320||v.noATH||v.ATHonly||Ee==0||v.in_samplerate<=32e3)&&(Y=1),Z=Xe+($<<2)+(Y<<5)+(j<<6),te=V.nMusicCRC,l(x,N+F,q),F+=4;for(var Le=0;Le<9;Le++)x[N+F+Le]=255&U.charAt(Le);F+=9,x[N+F]=255&ae,F++,x[N+F]=255&ue,F++,l(x,N+F,we),F+=4,E(x,N+F,de),F+=2,E(x,N+F,Ve),F+=2,x[N+F]=255&Oe,F++,Ie>=255?x[N+F]=255:x[N+F]=255&Ie,F++,x[N+F]=255&p>>4,x[N+F+1]=255&(p<<4)+(M>>8),x[N+F+2]=255&M,F+=3,x[N+F]=255&Z,F++,x[N+F++]=0,E(x,N+F,v.preset),F+=2,l(x,N+F,d),F+=4,E(x,N+F,te),F+=2;for(var Ye=0;Ye<F;Ye++)H=_(x[N+Ye],H);return E(x,N+F,H),F+=2,F}function A(v){v.seek(0);var d=Do(10);v.readFully(d);var x;return new String(d,"ISO-8859-1").startsWith("ID3")?x=0:x=((d[6]&127)<<21|(d[7]&127)<<14|(d[8]&127)<<7|d[9]&127)+d.length,x}this.getLameTagFrame=function(v,d){var x=v.internal_flags;if(!v.bWriteVbrTag||x.Class_ID!=Lame.LAME_ID||x.VBR_seek_table.pos<=0)return 0;if(d.length<x.VBR_seek_table.TotalFrameSize)return x.VBR_seek_table.TotalFrameSize;uT.fill(d,0,x.VBR_seek_table.TotalFrameSize,0),y(v,d);var N=Do(o);if(v.free_format)for(var H=1;H<o;++H)N[H]=255&255*H/100;else C(x.VBR_seek_table,N);var V=x.sideinfo_len;v.error_protection&&(V-=2),v.VBR==Hc.vbr_off?(d[V++]=255&k.charAt(0),d[V++]=255&k.charAt(1),d[V++]=255&k.charAt(2),d[V++]=255&k.charAt(3)):(d[V++]=255&D.charAt(0),d[V++]=255&D.charAt(1),d[V++]=255&D.charAt(2),d[V++]=255&D.charAt(3)),l(d,V,s+r+i+a),V+=4,l(d,V,x.VBR_seek_table.nVbrNumFrames),V+=4;var F=x.VBR_seek_table.nBytesWritten+x.VBR_seek_table.TotalFrameSize;l(d,V,0|F),V+=4,cT.arraycopy(N,0,d,V,N.length),V+=N.length,v.error_protection&&e.CRC_writeheader(x,d);for(var p=0,H=0;H<V;H++)p=_(d[H],p);return V+=b(v,F,d,V,p),x.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(v,d){var x=v.internal_flags;if(x.VBR_seek_table.pos<=0||(d.seek(d.length()),d.length()==0))return-1;var N=A(d);d.seek(N);var H=Do(c),V=getLameTagFrame(v,H);return V>H.length?-1:(V<1||d.write(H,0,V),0)}}var fT=Ya,dp=pt,Kf=dp.new_byte,dT=dp.assert,_T=W6,pT=Y6,mT=ap,vT=cp,gT=sT,bT=up,yT=aT,TT=ep,ET=hp;Xt();var wT=lT,AT=fT;function ST(){this.setModules=function(t,e){}}function xT(){this.setModules=function(t,e,n){}}function CT(){}function MT(){this.setModules=function(t,e){}}function OT(t,e,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,e=44100,n=128);var s=new _T,r=new ST,i=new mT,a=new ET,o=new pT,c=new vT,u=new gT,f=new AT,h=new wT,O=new MT,w=new yT,T=new bT,D=new xT,k=new CT;s.setModules(i,a,o,c,u,f,h,O,k),a.setModules(i,k,h,f),O.setModules(a,h),o.setModules(s),u.setModules(a,w,c,T),c.setModules(T,w,s.enc.psy),w.setModules(a),T.setModules(c),f.setModules(s,a,h),r.setModules(D,k),D.setModules(h,O,o);var I=s.lame_init();I.num_channels=t,I.in_samplerate=e,I.brate=n,I.mode=TT.STEREO,I.quality=3,I.bWriteVbrTag=!1,I.disable_reservoir=!0,I.write_id3tag_automatic=!1,s.lame_init_params(I);var m=1152,C=0|1.25*m+7200,R=Kf(C);this.encodeBuffer=function(l,E){t==1&&(E=l),dT(l.length==E.length),l.length>m&&(m=l.length,C=0|1.25*m+7200,R=Kf(C));var S=s.lame_encode_buffer(I,l,E,l.length,R,0,C);return new Int8Array(R.subarray(0,S))},this.flush=function(){var l=s.lame_encode_flush(I,R,0,C);return new Int8Array(R.subarray(0,l))}}function jn(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Zl(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}jn.RIFF=Zl("RIFF");jn.WAVE=Zl("WAVE");jn.fmt_=Zl("fmt ");jn.data=Zl("data");jn.readHeader=function(t){var e=new jn,n=t.getUint32(0,!1);if(jn.RIFF==n&&(t.getUint32(4,!0),jn.WAVE==t.getUint32(8,!1)&&jn.fmt_==t.getUint32(12,!1))){var s=t.getUint32(16,!0),r=20;switch(s){case 16:case 18:e.channels=t.getUint16(r+2,!0),e.sampleRate=t.getUint32(r+4,!0);break;default:throw"extended fmt chunk not implemented"}r+=s;for(var i=jn.data,a=0;i!=n&&(n=t.getUint32(r,!1),a=t.getUint32(r+4,!0),i!=n);)r+=a+8;return e.dataLen=a,e.dataOffset=r+8,e}};var RT=OT,NT=jn;function IT(t){var e=t.numberOfChannels,n=t.length*e*2+44,s=new ArrayBuffer(n),r=new DataView(s),i=[],a,o,c=0,u=0;for(h(1179011410),h(n-8),h(1163280727),h(544501094),h(16),f(1),f(e),h(t.sampleRate),h(t.sampleRate*2*e),f(e*2),f(16),h(1635017060),h(n-u-4),a=0;a<t.numberOfChannels;a++)i.push(t.getChannelData(a));for(;u<n;){for(a=0;a<e;a++)o=Math.max(-1,Math.min(1,i[a][c])),o=(.5+o<0?o*32768:o*32767)|0,r.setInt16(u,o,!0),u+=2;c++}return s;function f(O){r.setUint16(u,O,!0),u+=2}function h(O){r.setUint32(u,O,!0),u+=4}}function kT(t){const s=NT.readHeader(new DataView(t)),r=new Int16Array(t,s.dataOffset,s.dataLen/2),i=new RT(s.channels,s.sampleRate,128),a=[];if(s.channels===1)for(let c=0;c<r.length;c+=1152){const u=r.subarray(c,c+1152),f=i.encodeBuffer(u);f.length>0&&a.push(f)}else if(s.channels===2){const c=new Int16Array(s.dataLen/4),u=new Int16Array(s.dataLen/4);for(let f=0,h=0;f<r.length;f+=2,h++)c[h]=r[f],u[h]=r[f+1];for(let f=0;f<c.length;f+=1152){const h=c.subarray(f,f+1152),O=u.subarray(f,f+1152),w=i.encodeBuffer(h,O);w.length>0&&a.push(w)}}else throw new Error("Nur Mono- oder Stereo-WAV-Dateien werden unterstützt.");const o=i.flush();return o.length>0&&a.push(new Int8Array(o)),a}class DT{constructor(e,n){_c(this,"settings");_c(this,"sections");this.settings=e,this.sections=n}getSection(e){for(var n=0,s=0;s<this.sections.length;s++){var r=n+1===e;if(n+=this.settings.beatsPerBar*this.sections[s].numberOfBars,e<=n)return{section:this.sections[s],isFirstBeatOfSection:r}}return{section:null,isFirstBeatOfSection:!1}}async generateCues(){var e=this.settings.numberOfPreBars;for(const a of this.sections)e+=a.numberOfBars;const n=Math.ceil(60/this.settings.bpm*this.settings.beatsPerBar*e),r=(await g5(async({transport:a})=>{const o=new Ss({pan:this.settings.panClick,mute:this.settings.muteClick}).toDestination(),c=new Ss({pan:this.settings.panCue,mute:this.settings.muteCue}).toDestination(),u=new bt(this.settings.oscFrequency,Sf[0]).connect(o),f=new bt(this.settings.firstOscFrequency,Sf[0]).connect(o),h={};for(var O=[],w=0;w<this.sections.length;w++)O.push(this.sections[w].type);O=O.filter((k,I)=>O.indexOf(k)===I);for(const k of O)h[k]=new qr().connect(c),await h[k].load(new URL(Object.assign({"./assets/cues/1.wav":Nh,"./assets/cues/2.wav":Ih,"./assets/cues/3.wav":kh,"./assets/cues/4.wav":Dh,"./assets/cues/5.wav":Bh,"./assets/cues/6.wav":Lh,"./assets/cues/7.wav":Vh,"./assets/cues/AcaPella.wav":Ph,"./assets/cues/Band.wav":Fh,"./assets/cues/Break.wav":$h,"./assets/cues/Bridge.wav":Hh,"./assets/cues/Chorus.wav":qh,"./assets/cues/Count.wav":Wh,"./assets/cues/End.wav":jh,"./assets/cues/Instrumental.wav":Uh,"./assets/cues/Intro.wav":Yh,"./assets/cues/KeyChange.wav":Gh,"./assets/cues/Outro.wav":Xh,"./assets/cues/PreChorus.wav":Kh,"./assets/cues/Ready.wav":zh,"./assets/cues/Riff.wav":Zh,"./assets/cues/Solo.wav":Qh,"./assets/cues/Tag.wav":Jh,"./assets/cues/Turn.wav":ef,"./assets/cues/Verse.wav":tf})[`./assets/cues/${k}.wav`],import.meta.url).href);for(w=2;w<=this.settings.beatsPerBar;w++)h[w.toString()]=new qr().connect(c),await h[w.toString()].load(new URL(Object.assign({"./assets/cues/1.wav":Nh,"./assets/cues/2.wav":Ih,"./assets/cues/3.wav":kh,"./assets/cues/4.wav":Dh,"./assets/cues/5.wav":Bh,"./assets/cues/6.wav":Lh,"./assets/cues/7.wav":Vh,"./assets/cues/AcaPella.wav":Ph,"./assets/cues/Band.wav":Fh,"./assets/cues/Break.wav":$h,"./assets/cues/Bridge.wav":Hh,"./assets/cues/Chorus.wav":qh,"./assets/cues/Count.wav":Wh,"./assets/cues/End.wav":jh,"./assets/cues/Instrumental.wav":Uh,"./assets/cues/Intro.wav":Yh,"./assets/cues/KeyChange.wav":Gh,"./assets/cues/Outro.wav":Xh,"./assets/cues/PreChorus.wav":Kh,"./assets/cues/Ready.wav":zh,"./assets/cues/Riff.wav":Zh,"./assets/cues/Solo.wav":Qh,"./assets/cues/Tag.wav":Jh,"./assets/cues/Turn.wav":ef,"./assets/cues/Verse.wav":tf})[`./assets/cues/${w}.wav`],import.meta.url).href);a.bpm.value=this.settings.bpm;var T=0,D=!1;a.scheduleRepeat(k=>{if(++T>e*this.settings.beatsPerBar)a.stop();else if(T%this.settings.beatsPerBar===1){D=!1,f.start(k).stop(k+.04);var I=T-(this.settings.numberOfPreBars-1)*this.settings.beatsPerBar;if(I>=0){const m=this.getSection(I);m.isFirstBeatOfSection&&(h[m.section.type].start(k),D=!0)}}else this.settings.highlightMiddle&&T%this.settings.beatsPerBar===this.settings.beatsPerBar/2+1?f.start(k).stop(k+.04):u.start(k).stop(k+.04),D&&h[((T-1)%this.settings.beatsPerBar+1).toString()].start(k)},"4n"),this.settings.doubleTime&&a.scheduleRepeat(k=>{u.start(k).stop(k+.04)},"4n","8n"),a.start()},n,this.settings.numberOfChannels)).get();let i="";if(r){const a=IT(r);this.settings.fileFormat==="wav"?i=URL.createObjectURL(new Blob([a],{type:"audio/wav"})):this.settings.fileFormat==="mp3"&&(i=URL.createObjectURL(new Blob(kT(a),{type:"audio/mp3"})))}return i}}const BT={name:"App",components:{},data(){return{cueTypes:D5,fileFormats:k5,channelNumbers:Af,cueTrack:"",isLoading:!1,settings:{fileFormat:"wav",oscFrequency:1318,firstOscFrequency:1760,bpm:120,beatsPerBar:4,numberOfPreBars:2,doubleTime:!1,highlightMiddle:!1,panClick:0,panCue:0,muteClick:!1,muteCue:!1,numberOfChannels:2},sections:[{type:"Intro",numberOfBars:4}]}},methods:{cueToUrl(){var t=window.location.origin+window.location.pathname+"?";const e=Object.entries(this.settings).reduce((s,[r,i])=>(s[r]=String(i),s),{});t=t+new URLSearchParams(e).toString();var n="";for(const s of this.sections)n=n+"&sections="+encodeURIComponent('{"type":"'+s.type+'","numberOfBars":'+s.numberOfBars+"}");t=t+n,window.isSecureContext&&navigator.clipboard.writeText(t).then(function(){console.log("success")},function(s){console.log(s)})},urlToCue(){const t=new URLSearchParams(window.location.search),e=[];for(const s of t.getAll("sections")){const r=JSON.parse(s);e.push(r)}e.length>0&&(this.sections=e);const n=Object.keys(this.settings);for(const s of n){const r=t.get(s);if(r!==null)switch(s){case"fileFormat":r==="wav"&&(this.settings[s]=r);break;case"oscFrequency":case"firstOscFrequency":case"bpm":case"beatsPerBar":case"numberOfPreBars":{const i=parseInt(r,10);isNaN(i)||(this.settings[s]=i);break}case"doubleTime":case"highlightMiddle":case"muteClick":case"muteCue":r==="true"?this.settings[s]=!0:r==="false"&&(this.settings[s]=!1);break;case"panClick":case"panCue":{const i=parseInt(r,10);I5.includes(i)&&(this.settings[s]=i);break}case"numberOfChannels":{const i=parseInt(r,10);Af.includes(i)&&(this.settings[s]=i);break}}}},moveSectionDown(t){const e=this.sections.indexOf(t);if(e!==-1&&e<this.sections.length-1){var n=this.sections[e];this.sections[e]=this.sections[e+1],this.sections[e+1]=n}},moveSectionUp(t){const e=this.sections.indexOf(t);if(e>0){var n=this.sections[e];this.sections[e]=this.sections[e-1],this.sections[e-1]=n}},addSection(){this.sections.push({type:"Intro",numberOfBars:4})},duplicateSection(t){const e={};Object.assign(e,t);const n=this.sections.indexOf(t);n!==-1&&this.sections.splice(n,0,e)},deleteSection(t){const e=this.sections.indexOf(t);e!==-1&&this.sections.splice(e,1)},inputCorrect(){return this.settings.beatsPerBar<=8&&this.settings.beatsPerBar>=2&&this.sections.length>0},async generate(){if(!this.inputCorrect())return"";this.isLoading=!0;const e=await new DT(this.settings,this.sections).generateCues();this.isLoading=!1,this.cueTrack=e}},beforeMount(){this.urlToCue()}},LT=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},VT={class:"container"},PT={class:"row mb-5"},FT={class:"col-auto"},$T={class:"form-check form-switch"},HT={class:"col-auto"},qT={class:"col-auto"},WT={key:0,class:"form-check form-switch"},jT={class:"form-check-label",for:"highlightMiddle"},UT={class:"col-auto"},YT={class:"col-auto"},GT={class:"col-auto"},XT=["value"],KT={class:"col-auto"},zT={class:"table"},ZT={key:0},QT={style:{"max-width":"80px"}},JT={style:{"max-width":"80px"}},e8={key:0},t8={class:"mb-4"},n8={class:"row mb-2"},s8={class:"col-auto",style:{"min-width":"390px"}},r8={class:"list-group"},i8={class:"list-group-item"},a8={class:"row align-items-end"},o8={class:"col-auto",style:{"max-width":"80px"}},l8={class:"row align-items-end"},c8={class:"col-auto",style:{"max-width":"160px"}},u8=["for"],h8=["onUpdate:modelValue","id"],f8={class:"col-auto",style:{"max-width":"80px"}},d8=["for"],_8=["id","onUpdate:modelValue"],p8={class:"col-auto"},m8=["onClick"],v8={class:"d-sm-none mb-1"},g8=["onClick"],b8=["onClick"],y8={class:"d-sm-none"},T8=["onClick"],E8=["onClick"],w8={class:"col-auto d-none d-sm-block"},A8=["onClick"],S8={class:"col-auto d-none d-sm-block"},x8={class:"mb-1"},C8=["onClick"],M8=["onClick"],O8={key:0,class:"alert alert-secondary mb-2",role:"alert"},R8={class:"mb-2"},N8={class:"mb-3"},I8=["disabled"],k8={key:0},D8={key:1,class:"row align-items-center"},B8={class:"col-auto"},L8=["src"],V8={class:"col-auto"},P8=["href"];function F8(t,e,n,s,r,i){return It(),Bt("div",VT,[e[46]||(e[46]=me("h1",null,"Band Cues🎧",-1)),me("form",{onSubmit:e[15]||(e[15]=Bv(a=>i.generate(),["prevent"]))},[me("div",PT,[me("div",FT,[e[17]||(e[17]=me("label",{for:"bpm",class:"form-label"},[Xs("BPM "),me("i",{class:"bi bi-speedometer"})],-1)),Kt(me("input",{type:"number",class:"form-control",id:"bpm","onUpdate:modelValue":e[0]||(e[0]=a=>r.settings.bpm=a),min:"1",max:"300"},null,512),[[Ws,r.settings.bpm]]),me("div",$T,[Kt(me("input",{class:"form-check-input",type:"checkbox",id:"doubleTime","onUpdate:modelValue":e[1]||(e[1]=a=>r.settings.doubleTime=a)},null,512),[[To,r.settings.doubleTime]]),e[16]||(e[16]=me("label",{class:"form-check-label",for:"doubleTime"},"Double Time Click",-1))])]),me("div",HT,[e[18]||(e[18]=me("label",{for:"beatsPerBar",class:"form-label"},"Beats per Bar",-1)),Kt(me("input",{type:"number",class:"form-control",id:"beatsPerBar",min:"2",max:"8","onUpdate:modelValue":e[2]||(e[2]=a=>r.settings.beatsPerBar=a)},null,512),[[Ws,r.settings.beatsPerBar]])]),me("div",qT,[e[19]||(e[19]=me("label",{for:"firstOscFrequency",class:"form-label"},"First Click Tone [hz]",-1)),Kt(me("input",{type:"number",class:"form-control",id:"firstOscFrequency",min:"20",max:"20000","onUpdate:modelValue":e[3]||(e[3]=a=>r.settings.firstOscFrequency=a)},null,512),[[Ws,r.settings.firstOscFrequency]]),r.settings.beatsPerBar%2==0?(It(),Bt("div",WT,[Kt(me("input",{class:"form-check-input",type:"checkbox",id:"highlightMiddle","onUpdate:modelValue":e[4]||(e[4]=a=>r.settings.highlightMiddle=a)},null,512),[[To,r.settings.highlightMiddle]]),me("label",jT,"Also "+pa(r.settings.beatsPerBar/2+1)+". Beat",1)])):ns("",!0)]),me("div",UT,[e[20]||(e[20]=me("label",{for:"oscFrequency",class:"form-label"},"Click Tone [hz]",-1)),Kt(me("input",{type:"number",class:"form-control",id:"oscFrequency",min:"20",max:"20000","onUpdate:modelValue":e[5]||(e[5]=a=>r.settings.oscFrequency=a)},null,512),[[Ws,r.settings.oscFrequency]])]),me("div",YT,[e[21]||(e[21]=me("label",{for:"fileFormat",class:"form-label"},"File Format",-1)),Kt(me("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=a=>r.settings.fileFormat=a),id:"fileFormat"},[(It(!0),Bt(En,null,yo(r.fileFormats,a=>(It(),Bt("option",{key:a},pa(a),1))),128))],512),[[Cc,r.settings.fileFormat]])]),me("div",GT,[e[22]||(e[22]=me("label",{for:"fileFormat",class:"form-label"},"Number of Channels",-1)),Kt(me("select",{class:"form-select","onUpdate:modelValue":e[7]||(e[7]=a=>r.settings.numberOfChannels=a),id:"fileFormat"},[(It(!0),Bt(En,null,yo(r.channelNumbers,a=>(It(),Bt("option",{key:a,value:a},pa(a),9,XT))),128))],512),[[Cc,r.settings.numberOfChannels]])]),me("div",KT,[me("table",zT,[e[27]||(e[27]=me("thead",null,[me("tr",null,[me("th",{scope:"col"}),me("th",{scope:"col"},"Click"),me("th",{scope:"col"},"Cue")])],-1)),me("tbody",null,[me("tr",null,[e[25]||(e[25]=me("th",{scope:"row"},null,-1)),me("td",null,[Kt(me("input",{type:"checkbox",class:"btn-check",id:"muteClick","onUpdate:modelValue":e[8]||(e[8]=a=>r.settings.muteClick=a)},null,512),[[To,r.settings.muteClick]]),e[23]||(e[23]=me("label",{class:"btn btn-outline-danger btn-sm",for:"muteClick"},"Mute",-1))]),me("td",null,[Kt(me("input",{type:"checkbox",class:"btn-check",id:"muteCue","onUpdate:modelValue":e[9]||(e[9]=a=>r.settings.muteCue=a)},null,512),[[To,r.settings.muteCue]]),e[24]||(e[24]=me("label",{class:"btn btn-outline-danger btn-sm",for:"muteCue"},"Mute",-1))])]),r.settings.numberOfChannels>1?(It(),Bt("tr",ZT,[e[26]||(e[26]=me("th",{scope:"row"},"Pan",-1)),me("td",QT,[Kt(me("input",{type:"range",class:"form-range",min:"-1",max:"1",id:"panClick","onUpdate:modelValue":e[10]||(e[10]=a=>r.settings.panClick=a)},null,512),[[Ws,r.settings.panClick]])]),me("td",JT,[Kt(me("input",{type:"range",class:"form-range",min:"-1",max:"1",id:"panCue","onUpdate:modelValue":e[11]||(e[11]=a=>r.settings.panCue=a)},null,512),[[Ws,r.settings.panCue]])])])):ns("",!0)])])]),e[28]||(e[28]=me("div",{class:"col-auto",style:{"max-width":"100px"}},null,-1)),r.settings.beatsPerBar===3?(It(),Bt("small",e8,"ℹ Consider 6 Beats per Bar and also 3. beat high frequency")):ns("",!0)]),me("div",t8,[me("div",n8,[me("div",s8,[me("ul",r8,[me("li",i8,[me("div",a8,[e[30]||(e[30]=me("div",{class:"col-auto",style:{"max-width":"160px"}},[me("label",{for:"preBarsSection",class:"form-label"},"Section"),me("input",{type:"text",class:"form-control",value:"Prebars",id:"preBarsSection",readonly:""})],-1)),me("div",o8,[e[29]||(e[29]=me("label",{for:"numberOfPreBars",class:"form-label"},"Bars",-1)),Kt(me("input",{type:"number",class:"form-control",min:"1",id:"numberOfPreBars","onUpdate:modelValue":e[12]||(e[12]=a=>r.settings.numberOfPreBars=a)},null,512),[[Ws,r.settings.numberOfPreBars]])])])]),(It(!0),Bt(En,null,yo(r.sections,(a,o)=>(It(),Bt("li",{class:"list-group-item",key:o},[me("div",l8,[me("div",c8,[me("label",{for:o+"section",class:"form-label"},"Section",8,u8),Kt(me("select",{class:"form-select","onUpdate:modelValue":c=>a.type=c,id:o+"section"},[(It(!0),Bt(En,null,yo(r.cueTypes,c=>(It(),Bt("option",{key:c},pa(c),1))),128))],8,h8),[[Cc,a.type]])]),me("div",f8,[me("label",{for:o+"numberOfBars",class:"form-label"},"Bars",8,d8),Kt(me("input",{type:"number",class:"form-control",min:"1",id:o+"numberOfBars","onUpdate:modelValue":c=>a.numberOfBars=c},null,8,_8),[[Ws,a.numberOfBars]])]),me("div",p8,[me("button",{type:"button",class:"btn btn-outline-secondary d-none d-sm-block",onClick:c=>i.duplicateSection(a)},e[31]||(e[31]=[me("i",{class:"bi bi-clipboard-plus"},null,-1),Xs(" Duplicate ")]),8,m8),me("div",v8,[me("button",{type:"button",class:"btn btn-outline-secondary me-2",onClick:c=>i.duplicateSection(a)},e[32]||(e[32]=[me("i",{class:"bi bi-clipboard-plus"},null,-1)]),8,g8),r.sections.indexOf(a)>0?(It(),Bt("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:c=>i.moveSectionUp(a)},e[33]||(e[33]=[me("i",{class:"bi bi-chevron-up"},null,-1)]),8,b8)):ns("",!0)]),me("div",y8,[me("button",{type:"button",class:"btn btn-outline-danger me-2",onClick:c=>i.deleteSection(a)},e[34]||(e[34]=[me("i",{class:"bi bi-trash"},null,-1)]),8,T8),r.sections.indexOf(a)<r.sections.length-1?(It(),Bt("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:c=>i.moveSectionDown(a)},e[35]||(e[35]=[me("i",{class:"bi bi-chevron-down"},null,-1)]),8,E8)):ns("",!0)])]),me("div",w8,[me("button",{type:"button",class:"btn btn-outline-danger",onClick:c=>i.deleteSection(a)},e[36]||(e[36]=[me("i",{class:"bi bi-trash"},null,-1),Xs(" Delete ")]),8,A8)]),me("div",S8,[me("div",x8,[r.sections.indexOf(a)>0?(It(),Bt("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:c=>i.moveSectionUp(a)},e[37]||(e[37]=[me("i",{class:"bi bi-chevron-up"},null,-1)]),8,C8)):ns("",!0)]),me("div",null,[r.sections.indexOf(a)<r.sections.length-1?(It(),Bt("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:c=>i.moveSectionDown(a)},e[38]||(e[38]=[me("i",{class:"bi bi-chevron-down"},null,-1)]),8,M8)):ns("",!0)])])])]))),128))])])]),r.sections.length===0?(It(),Bt("div",O8,"No Section defined.")):ns("",!0),me("div",R8,[me("button",{type:"button",class:"btn btn-secondary",onClick:e[13]||(e[13]=a=>i.addSection())},e[39]||(e[39]=[me("i",{class:"bi bi-plus-lg"},null,-1),Xs(" Add Section ")]))])]),me("div",N8,[me("button",{type:"submit",class:"btn btn-primary",disabled:r.isLoading||!i.inputCorrect()},e[40]||(e[40]=[me("i",{class:"bi bi-play-circle"},null,-1),Xs(" Generate ")]),8,I8),me("button",{type:"button",class:"ms-2 me-2 btn btn-outline-secondary",onClick:e[14]||(e[14]=a=>i.cueToUrl())},e[41]||(e[41]=[me("i",{class:"bi bi-clipboard"},null,-1),Xs(" Copy Cue URL ")]))]),r.isLoading?(It(),Bt("div",k8,e[42]||(e[42]=[me("div",{class:"spinner-border text-primary"},[me("span",{class:"visually-hidden"},"Loading...")],-1),me("small",{class:"text-primary"},"This migth take up to a minute..",-1)]))):ns("",!0),r.cueTrack!==""&&!r.isLoading?(It(),Bt("div",D8,[me("div",B8,[me("audio",{controls:"",src:r.cueTrack},null,8,L8)]),me("div",V8,[me("a",{type:"button",class:"btn btn-secondary",href:r.cueTrack,download:"band cues"},e[43]||(e[43]=[me("i",{class:"bi bi-download"},null,-1)]),8,P8)]),e[44]||(e[44]=me("div",{class:"w-100"},null,-1)),e[45]||(e[45]=me("div",{class:"col-auto"},[me("small",null,[Xs(" Cues🎧 from "),me("a",{href:"https://worshiptutorials.com/product/clicks-and-cues/"},"WorshipTutorials")])],-1))])):ns("",!0)],32)])}const $8=LT(BT,[["render",F8]]);var nn="top",Cn="bottom",Mn="right",sn="left",Ql="auto",Ji=[nn,Cn,Mn,sn],Ur="start",Di="end",_p="clippingParents",R0="viewport",ui="popper",pp="reference",Cu=Ji.reduce(function(t,e){return t.concat([e+"-"+Ur,e+"-"+Di])},[]),N0=[].concat(Ji,[Ql]).reduce(function(t,e){return t.concat([e,e+"-"+Ur,e+"-"+Di])},[]),mp="beforeRead",vp="read",gp="afterRead",bp="beforeMain",yp="main",Tp="afterMain",Ep="beforeWrite",wp="write",Ap="afterWrite",Sp=[mp,vp,gp,bp,yp,Tp,Ep,wp,Ap];function ps(t){return t?(t.nodeName||"").toLowerCase():null}function On(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=On(t).Element;return t instanceof e||t instanceof Element}function Ln(t){var e=On(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function I0(t){if(typeof ShadowRoot>"u")return!1;var e=On(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function H8(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!Ln(i)||!ps(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(a){var o=r[a];o===!1?i.removeAttribute(a):i.setAttribute(a,o===!0?"":o)}))})}function q8(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),o=a.reduce(function(c,u){return c[u]="",c},{});!Ln(r)||!ps(r)||(Object.assign(r.style,o),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const k0={name:"applyStyles",enabled:!0,phase:"write",fn:H8,effect:q8,requires:["computeStyles"]};function us(t){return t.split("-")[0]}var Br=Math.max,Al=Math.min,Bi=Math.round;function Mu(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xp(){return!/^((?!chrome|android).)*safari/i.test(Mu())}function Li(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&Ln(t)&&(r=t.offsetWidth>0&&Bi(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Bi(s.height)/t.offsetHeight||1);var a=Yr(t)?On(t):window,o=a.visualViewport,c=!xp()&&n,u=(s.left+(c&&o?o.offsetLeft:0))/r,f=(s.top+(c&&o?o.offsetTop:0))/i,h=s.width/r,O=s.height/i;return{width:h,height:O,top:f,right:u+h,bottom:f+O,left:u,x:u,y:f}}function D0(t){var e=Li(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Cp(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&I0(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ls(t){return On(t).getComputedStyle(t)}function W8(t){return["table","td","th"].indexOf(ps(t))>=0}function ur(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Jl(t){return ps(t)==="html"?t:t.assignedSlot||t.parentNode||(I0(t)?t.host:null)||ur(t)}function zf(t){return!Ln(t)||Ls(t).position==="fixed"?null:t.offsetParent}function j8(t){var e=/firefox/i.test(Mu()),n=/Trident/i.test(Mu());if(n&&Ln(t)){var s=Ls(t);if(s.position==="fixed")return null}var r=Jl(t);for(I0(r)&&(r=r.host);Ln(r)&&["html","body"].indexOf(ps(r))<0;){var i=Ls(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function co(t){for(var e=On(t),n=zf(t);n&&W8(n)&&Ls(n).position==="static";)n=zf(n);return n&&(ps(n)==="html"||ps(n)==="body"&&Ls(n).position==="static")?e:n||j8(t)||e}function B0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Aa(t,e,n){return Br(t,Al(e,n))}function U8(t,e,n){var s=Aa(t,e,n);return s>n?n:s}function Mp(){return{top:0,right:0,bottom:0,left:0}}function Op(t){return Object.assign({},Mp(),t)}function Rp(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var Y8=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Op(typeof e!="number"?e:Rp(e,Ji))};function G8(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,o=us(n.placement),c=B0(o),u=[sn,Mn].indexOf(o)>=0,f=u?"height":"width";if(!(!i||!a)){var h=Y8(r.padding,n),O=D0(i),w=c==="y"?nn:sn,T=c==="y"?Cn:Mn,D=n.rects.reference[f]+n.rects.reference[c]-a[c]-n.rects.popper[f],k=a[c]-n.rects.reference[c],I=co(i),m=I?c==="y"?I.clientHeight||0:I.clientWidth||0:0,C=D/2-k/2,R=h[w],l=m-O[f]-h[T],E=m/2-O[f]/2+C,S=Aa(R,E,l),g=c;n.modifiersData[s]=(e={},e[g]=S,e.centerOffset=S-E,e)}}function X8(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Cp(e.elements.popper,r)&&(e.elements.arrow=r))}const Np={name:"arrow",enabled:!0,phase:"main",fn:G8,effect:X8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vi(t){return t.split("-")[1]}var K8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z8(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:Bi(n*r)/r||0,y:Bi(s*r)/r||0}}function Zf(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,a=t.offsets,o=t.position,c=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,h=t.isFixed,O=a.x,w=O===void 0?0:O,T=a.y,D=T===void 0?0:T,k=typeof f=="function"?f({x:w,y:D}):{x:w,y:D};w=k.x,D=k.y;var I=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),C=sn,R=nn,l=window;if(u){var E=co(n),S="clientHeight",g="clientWidth";if(E===On(n)&&(E=ur(n),Ls(E).position!=="static"&&o==="absolute"&&(S="scrollHeight",g="scrollWidth")),E=E,r===nn||(r===sn||r===Mn)&&i===Di){R=Cn;var y=h&&E===l&&l.visualViewport?l.visualViewport.height:E[S];D-=y-s.height,D*=c?1:-1}if(r===sn||(r===nn||r===Cn)&&i===Di){C=Mn;var _=h&&E===l&&l.visualViewport?l.visualViewport.width:E[g];w-=_-s.width,w*=c?1:-1}}var b=Object.assign({position:o},u&&K8),A=f===!0?z8({x:w,y:D},On(n)):{x:w,y:D};if(w=A.x,D=A.y,c){var v;return Object.assign({},b,(v={},v[R]=m?"0":"",v[C]=I?"0":"",v.transform=(l.devicePixelRatio||1)<=1?"translate("+w+"px, "+D+"px)":"translate3d("+w+"px, "+D+"px, 0)",v))}return Object.assign({},b,(e={},e[R]=m?D+"px":"",e[C]=I?w+"px":"",e.transform="",e))}function Z8(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,a=i===void 0?!0:i,o=n.roundOffsets,c=o===void 0?!0:o,u={placement:us(e.placement),variation:Vi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zf(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zf(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const L0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z8,data:{}};var Bo={passive:!0};function Q8(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,a=s.resize,o=a===void 0?!0:a,c=On(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(f){f.addEventListener("scroll",n.update,Bo)}),o&&c.addEventListener("resize",n.update,Bo),function(){i&&u.forEach(function(f){f.removeEventListener("scroll",n.update,Bo)}),o&&c.removeEventListener("resize",n.update,Bo)}}const V0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Q8,data:{}};var J8={left:"right",right:"left",bottom:"top",top:"bottom"};function Xo(t){return t.replace(/left|right|bottom|top/g,function(e){return J8[e]})}var eE={start:"end",end:"start"};function Qf(t){return t.replace(/start|end/g,function(e){return eE[e]})}function P0(t){var e=On(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function F0(t){return Li(ur(t)).left+P0(t).scrollLeft}function tE(t,e){var n=On(t),s=ur(t),r=n.visualViewport,i=s.clientWidth,a=s.clientHeight,o=0,c=0;if(r){i=r.width,a=r.height;var u=xp();(u||!u&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:o+F0(t),y:c}}function nE(t){var e,n=ur(t),s=P0(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=Br(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Br(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-s.scrollLeft+F0(t),c=-s.scrollTop;return Ls(r||n).direction==="rtl"&&(o+=Br(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:c}}function $0(t){var e=Ls(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Ip(t){return["html","body","#document"].indexOf(ps(t))>=0?t.ownerDocument.body:Ln(t)&&$0(t)?t:Ip(Jl(t))}function Sa(t,e){var n;e===void 0&&(e=[]);var s=Ip(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=On(s),a=r?[i].concat(i.visualViewport||[],$0(s)?s:[]):s,o=e.concat(a);return r?o:o.concat(Sa(Jl(a)))}function Ou(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function sE(t,e){var n=Li(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jf(t,e,n){return e===R0?Ou(tE(t,n)):Yr(e)?sE(e,n):Ou(nE(ur(t)))}function rE(t){var e=Sa(Jl(t)),n=["absolute","fixed"].indexOf(Ls(t).position)>=0,s=n&&Ln(t)?co(t):t;return Yr(s)?e.filter(function(r){return Yr(r)&&Cp(r,s)&&ps(r)!=="body"}):[]}function iE(t,e,n,s){var r=e==="clippingParents"?rE(t):[].concat(e),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(c,u){var f=Jf(t,u,s);return c.top=Br(f.top,c.top),c.right=Al(f.right,c.right),c.bottom=Al(f.bottom,c.bottom),c.left=Br(f.left,c.left),c},Jf(t,a,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function kp(t){var e=t.reference,n=t.element,s=t.placement,r=s?us(s):null,i=s?Vi(s):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,c;switch(r){case nn:c={x:a,y:e.y-n.height};break;case Cn:c={x:a,y:e.y+e.height};break;case Mn:c={x:e.x+e.width,y:o};break;case sn:c={x:e.x-n.width,y:o};break;default:c={x:e.x,y:e.y}}var u=r?B0(r):null;if(u!=null){var f=u==="y"?"height":"width";switch(i){case Ur:c[u]=c[u]-(e[f]/2-n[f]/2);break;case Di:c[u]=c[u]+(e[f]/2-n[f]/2);break}}return c}function Pi(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,a=i===void 0?t.strategy:i,o=n.boundary,c=o===void 0?_p:o,u=n.rootBoundary,f=u===void 0?R0:u,h=n.elementContext,O=h===void 0?ui:h,w=n.altBoundary,T=w===void 0?!1:w,D=n.padding,k=D===void 0?0:D,I=Op(typeof k!="number"?k:Rp(k,Ji)),m=O===ui?pp:ui,C=t.rects.popper,R=t.elements[T?m:O],l=iE(Yr(R)?R:R.contextElement||ur(t.elements.popper),c,f,a),E=Li(t.elements.reference),S=kp({reference:E,element:C,strategy:"absolute",placement:r}),g=Ou(Object.assign({},C,S)),y=O===ui?g:E,_={top:l.top-y.top+I.top,bottom:y.bottom-l.bottom+I.bottom,left:l.left-y.left+I.left,right:y.right-l.right+I.right},b=t.modifiersData.offset;if(O===ui&&b){var A=b[r];Object.keys(_).forEach(function(v){var d=[Mn,Cn].indexOf(v)>=0?1:-1,x=[nn,Cn].indexOf(v)>=0?"y":"x";_[v]+=A[x]*d})}return _}function aE(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?N0:c,f=Vi(s),h=f?o?Cu:Cu.filter(function(T){return Vi(T)===f}):Ji,O=h.filter(function(T){return u.indexOf(T)>=0});O.length===0&&(O=h);var w=O.reduce(function(T,D){return T[D]=Pi(t,{placement:D,boundary:r,rootBoundary:i,padding:a})[us(D)],T},{});return Object.keys(w).sort(function(T,D){return w[T]-w[D]})}function oE(t){if(us(t)===Ql)return[];var e=Xo(t);return[Qf(t),e,Qf(e)]}function lE(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,o=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,f=n.boundary,h=n.rootBoundary,O=n.altBoundary,w=n.flipVariations,T=w===void 0?!0:w,D=n.allowedAutoPlacements,k=e.options.placement,I=us(k),m=I===k,C=c||(m||!T?[Xo(k)]:oE(k)),R=[k].concat(C).reduce(function(fe,ie){return fe.concat(us(ie)===Ql?aE(e,{placement:ie,boundary:f,rootBoundary:h,padding:u,flipVariations:T,allowedAutoPlacements:D}):ie)},[]),l=e.rects.reference,E=e.rects.popper,S=new Map,g=!0,y=R[0],_=0;_<R.length;_++){var b=R[_],A=us(b),v=Vi(b)===Ur,d=[nn,Cn].indexOf(A)>=0,x=d?"width":"height",N=Pi(e,{placement:b,boundary:f,rootBoundary:h,altBoundary:O,padding:u}),H=d?v?Mn:sn:v?Cn:nn;l[x]>E[x]&&(H=Xo(H));var V=Xo(H),F=[];if(i&&F.push(N[A]<=0),o&&F.push(N[H]<=0,N[V]<=0),F.every(function(fe){return fe})){y=b,g=!1;break}S.set(b,F)}if(g)for(var p=T?3:1,M=function(ie){var ae=R.find(function(ce){var ue=S.get(ce);if(ue)return ue.slice(0,ie).every(function(we){return we})});if(ae)return y=ae,"break"},q=p;q>0;q--){var U=M(q);if(U==="break")break}e.placement!==y&&(e.modifiersData[s]._skip=!0,e.placement=y,e.reset=!0)}}const Dp={name:"flip",enabled:!0,phase:"main",fn:lE,requiresIfExists:["offset"],data:{_skip:!1}};function ed(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function td(t){return[nn,Mn,Cn,sn].some(function(e){return t[e]>=0})}function cE(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=Pi(e,{elementContext:"reference"}),o=Pi(e,{altBoundary:!0}),c=ed(a,s),u=ed(o,r,i),f=td(c),h=td(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const Bp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cE};function uE(t,e,n){var s=us(t),r=[sn,nn].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],o=i[1];return a=a||0,o=(o||0)*r,[sn,Mn].indexOf(s)>=0?{x:o,y:a}:{x:a,y:o}}function hE(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,a=N0.reduce(function(f,h){return f[h]=uE(h,e.rects,i),f},{}),o=a[e.placement],c=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=a}const Lp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hE};function fE(t){var e=t.state,n=t.name;e.modifiersData[n]=kp({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const H0={name:"popperOffsets",enabled:!0,phase:"read",fn:fE,data:{}};function dE(t){return t==="x"?"y":"x"}function _E(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,o=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,f=n.altBoundary,h=n.padding,O=n.tether,w=O===void 0?!0:O,T=n.tetherOffset,D=T===void 0?0:T,k=Pi(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:f}),I=us(e.placement),m=Vi(e.placement),C=!m,R=B0(I),l=dE(R),E=e.modifiersData.popperOffsets,S=e.rects.reference,g=e.rects.popper,y=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,_=typeof y=="number"?{mainAxis:y,altAxis:y}:Object.assign({mainAxis:0,altAxis:0},y),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(E){if(i){var v,d=R==="y"?nn:sn,x=R==="y"?Cn:Mn,N=R==="y"?"height":"width",H=E[R],V=H+k[d],F=H-k[x],p=w?-g[N]/2:0,M=m===Ur?S[N]:g[N],q=m===Ur?-g[N]:-S[N],U=e.elements.arrow,fe=w&&U?D0(U):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Mp(),ae=ie[d],ce=ie[x],ue=Aa(0,S[N],fe[N]),we=C?S[N]/2-p-ue-ae-_.mainAxis:M-ue-ae-_.mainAxis,de=C?-S[N]/2+p+ue+ce+_.mainAxis:q+ue+ce+_.mainAxis,Ve=e.elements.arrow&&co(e.elements.arrow),Xe=Ve?R==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,$=(v=b==null?void 0:b[R])!=null?v:0,Y=H+we-$-Xe,j=H+de-$,Z=Aa(w?Al(V,Y):V,H,w?Br(F,j):F);E[R]=Z,A[R]=Z-H}if(o){var te,oe=R==="x"?nn:sn,he=R==="x"?Cn:Mn,le=E[l],pe=l==="y"?"height":"width",_e=le+k[oe],Re=le-k[he],Ee=[nn,sn].indexOf(I)!==-1,Oe=(te=b==null?void 0:b[l])!=null?te:0,Ie=Ee?_e:le-S[pe]-g[pe]-Oe+_.altAxis,Le=Ee?le+S[pe]+g[pe]-Oe-_.altAxis:Re,Ye=w&&Ee?U8(Ie,le,Le):Aa(w?Ie:_e,le,w?Le:Re);E[l]=Ye,A[l]=Ye-le}e.modifiersData[s]=A}}const Vp={name:"preventOverflow",enabled:!0,phase:"main",fn:_E,requiresIfExists:["offset"]};function pE(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mE(t){return t===On(t)||!Ln(t)?P0(t):pE(t)}function vE(t){var e=t.getBoundingClientRect(),n=Bi(e.width)/t.offsetWidth||1,s=Bi(e.height)/t.offsetHeight||1;return n!==1||s!==1}function gE(t,e,n){n===void 0&&(n=!1);var s=Ln(e),r=Ln(e)&&vE(e),i=ur(e),a=Li(t,r,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((ps(e)!=="body"||$0(i))&&(o=mE(e)),Ln(e)?(c=Li(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=F0(i))),{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function bE(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var c=e.get(o);c&&r(c)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function yE(t){var e=bE(t);return Sp.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function TE(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function EE(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var nd={placement:"bottom",modifiers:[],strategy:"absolute"};function sd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function ec(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?nd:r;return function(o,c,u){u===void 0&&(u=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},nd,i),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},h=[],O=!1,w={state:f,setOptions:function(I){var m=typeof I=="function"?I(f.options):I;D(),f.options=Object.assign({},i,f.options,m),f.scrollParents={reference:Yr(o)?Sa(o):o.contextElement?Sa(o.contextElement):[],popper:Sa(c)};var C=yE(EE([].concat(s,f.options.modifiers)));return f.orderedModifiers=C.filter(function(R){return R.enabled}),T(),w.update()},forceUpdate:function(){if(!O){var I=f.elements,m=I.reference,C=I.popper;if(sd(m,C)){f.rects={reference:gE(m,co(C),f.options.strategy==="fixed"),popper:D0(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(_){return f.modifiersData[_.name]=Object.assign({},_.data)});for(var R=0;R<f.orderedModifiers.length;R++){if(f.reset===!0){f.reset=!1,R=-1;continue}var l=f.orderedModifiers[R],E=l.fn,S=l.options,g=S===void 0?{}:S,y=l.name;typeof E=="function"&&(f=E({state:f,options:g,name:y,instance:w})||f)}}}},update:TE(function(){return new Promise(function(k){w.forceUpdate(),k(f)})}),destroy:function(){D(),O=!0}};if(!sd(o,c))return w;w.setOptions(u).then(function(k){!O&&u.onFirstUpdate&&u.onFirstUpdate(k)});function T(){f.orderedModifiers.forEach(function(k){var I=k.name,m=k.options,C=m===void 0?{}:m,R=k.effect;if(typeof R=="function"){var l=R({state:f,name:I,instance:w,options:C}),E=function(){};h.push(l||E)}})}function D(){h.forEach(function(k){return k()}),h=[]}return w}}var wE=ec(),AE=[V0,H0,L0,k0],SE=ec({defaultModifiers:AE}),xE=[V0,H0,L0,k0,Lp,Dp,Vp,Np,Bp],q0=ec({defaultModifiers:xE});const Pp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tp,afterRead:gp,afterWrite:Ap,applyStyles:k0,arrow:Np,auto:Ql,basePlacements:Ji,beforeMain:bp,beforeRead:mp,beforeWrite:Ep,bottom:Cn,clippingParents:_p,computeStyles:L0,createPopper:q0,createPopperBase:wE,createPopperLite:SE,detectOverflow:Pi,end:Di,eventListeners:V0,flip:Dp,hide:Bp,left:sn,main:yp,modifierPhases:Sp,offset:Lp,placements:N0,popper:ui,popperGenerator:ec,popperOffsets:H0,preventOverflow:Vp,read:vp,reference:pp,right:Mn,start:Ur,top:nn,variationPlacements:Cu,viewport:R0,write:wp},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Gs=new Map,qc={set(t,e,n){Gs.has(t)||Gs.set(t,new Map);const s=Gs.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Gs.has(t)&&Gs.get(t).get(e)||null},remove(t,e){if(!Gs.has(t))return;const n=Gs.get(t);n.delete(e),n.size===0&&Gs.delete(t)}},CE=1e6,ME=1e3,Ru="transitionend",Fp=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),OE=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),RE=t=>{do t+=Math.floor(Math.random()*CE);while(document.getElementById(t));return t},NE=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),r=Number.parseFloat(n);return!s&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*ME)},$p=t=>{t.dispatchEvent(new Event(Ru))},Ns=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),sr=t=>Ns(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Fp(t)):null,ea=t=>{if(!Ns(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},rr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Hp=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Hp(t.parentNode):null},Sl=()=>{},uo=t=>{t.offsetHeight},qp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Wc=[],IE=t=>{document.readyState==="loading"?(Wc.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Wc)e()}),Wc.push(t)):t()},Vn=()=>document.documentElement.dir==="rtl",Fn=t=>{IE(()=>{const e=qp();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},dn=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Wp=(t,e,n=!0)=>{if(!n){dn(t);return}const r=NE(e)+5;let i=!1;const a=({target:o})=>{o===e&&(i=!0,e.removeEventListener(Ru,a),dn(t))};e.addEventListener(Ru,a),setTimeout(()=>{i||$p(e)},r)},W0=(t,e,n,s)=>{const r=t.length;let i=t.indexOf(e);return i===-1?!n&&s?t[r-1]:t[0]:(i+=n?1:-1,s&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])},kE=/[^.]*(?=\..*)\.|.*/,DE=/\..*/,BE=/::\d+$/,jc={};let rd=1;const jp={mouseenter:"mouseover",mouseleave:"mouseout"},LE=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Up(t,e){return e&&`${e}::${rd++}`||t.uidEvent||rd++}function Yp(t){const e=Up(t);return t.uidEvent=e,jc[e]=jc[e]||{},jc[e]}function VE(t,e){return function n(s){return j0(s,{delegateTarget:t}),n.oneOff&&Te.off(t,s.type,e),e.apply(t,[s])}}function PE(t,e,n){return function s(r){const i=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const o of i)if(o===a)return j0(r,{delegateTarget:a}),s.oneOff&&Te.off(t,r.type,e,n),n.apply(a,[r])}}function Gp(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function Xp(t,e,n){const s=typeof e=="string",r=s?n:e||n;let i=Kp(t);return LE.has(i)||(i=t),[s,r,i]}function id(t,e,n,s,r){if(typeof e!="string"||!t)return;let[i,a,o]=Xp(e,n,s);e in jp&&(a=(T=>function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return T.call(this,D)})(a));const c=Yp(t),u=c[o]||(c[o]={}),f=Gp(u,a,i?n:null);if(f){f.oneOff=f.oneOff&&r;return}const h=Up(a,e.replace(kE,"")),O=i?PE(t,n,a):VE(t,a);O.delegationSelector=i?n:null,O.callable=a,O.oneOff=r,O.uidEvent=h,u[h]=O,t.addEventListener(o,O,i)}function Nu(t,e,n,s,r){const i=Gp(e[n],s,r);i&&(t.removeEventListener(n,i,!!r),delete e[n][i.uidEvent])}function FE(t,e,n,s){const r=e[n]||{};for(const[i,a]of Object.entries(r))i.includes(s)&&Nu(t,e,n,a.callable,a.delegationSelector)}function Kp(t){return t=t.replace(DE,""),jp[t]||t}const Te={on(t,e,n,s){id(t,e,n,s,!1)},one(t,e,n,s){id(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[r,i,a]=Xp(e,n,s),o=a!==e,c=Yp(t),u=c[a]||{},f=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(u).length)return;Nu(t,c,a,i,r?n:null);return}if(f)for(const h of Object.keys(c))FE(t,c,h,e.slice(1));for(const[h,O]of Object.entries(u)){const w=h.replace(BE,"");(!o||e.includes(w))&&Nu(t,c,a,O.callable,O.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=qp(),r=Kp(e),i=e!==r;let a=null,o=!0,c=!0,u=!1;i&&s&&(a=s.Event(e,n),s(t).trigger(a),o=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const f=j0(new Event(e,{bubbles:o,cancelable:!0}),n);return u&&f.preventDefault(),c&&t.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function j0(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function ad(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Uc(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Is={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Uc(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Uc(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=ad(t.dataset[s])}return e},getDataAttribute(t,e){return ad(t.getAttribute(`data-bs-${Uc(e)}`))}};class ho{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Ns(n)?Is.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ns(n)?Is.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,r]of Object.entries(n)){const i=e[s],a=Ns(i)?"element":OE(i);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${r}".`)}}}const $E="5.3.3";class es extends ho{constructor(e,n){super(),e=sr(e),e&&(this._element=e,this._config=this._getConfig(n),qc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qc.remove(this._element,this.constructor.DATA_KEY),Te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){Wp(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qc.get(sr(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return $E}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Yc=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Fp(n)).join(","):null},Be={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!rr(n)&&ea(n))},getSelectorFromElement(t){const e=Yc(t);return e&&Be.findOne(e)?e:null},getElementFromSelector(t){const e=Yc(t);return e?Be.findOne(e):null},getMultipleElementsFromSelector(t){const e=Yc(t);return e?Be.find(e):[]}},tc=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;Te.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),rr(this))return;const i=Be.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(i)[e]()})},HE="alert",qE="bs.alert",zp=`.${qE}`,WE=`close${zp}`,jE=`closed${zp}`,UE="fade",YE="show";class nc extends es{static get NAME(){return HE}close(){if(Te.trigger(this._element,WE).defaultPrevented)return;this._element.classList.remove(YE);const n=this._element.classList.contains(UE);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Te.trigger(this._element,jE),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=nc.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}tc(nc,"close");Fn(nc);const GE="button",XE="bs.button",KE=`.${XE}`,zE=".data-api",ZE="active",od='[data-bs-toggle="button"]',QE=`click${KE}${zE}`;class sc extends es{static get NAME(){return GE}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ZE))}static jQueryInterface(e){return this.each(function(){const n=sc.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}Te.on(document,QE,od,t=>{t.preventDefault();const e=t.target.closest(od);sc.getOrCreateInstance(e).toggle()});Fn(sc);const JE="swipe",ta=".bs.swipe",ew=`touchstart${ta}`,tw=`touchmove${ta}`,nw=`touchend${ta}`,sw=`pointerdown${ta}`,rw=`pointerup${ta}`,iw="touch",aw="pen",ow="pointer-event",lw=40,cw={endCallback:null,leftCallback:null,rightCallback:null},uw={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xl extends ho{constructor(e,n){super(),this._element=e,!(!e||!xl.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return cw}static get DefaultType(){return uw}static get NAME(){return JE}dispose(){Te.off(this._element,ta)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),dn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=lw)return;const n=e/this._deltaX;this._deltaX=0,n&&dn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Te.on(this._element,sw,e=>this._start(e)),Te.on(this._element,rw,e=>this._end(e)),this._element.classList.add(ow)):(Te.on(this._element,ew,e=>this._start(e)),Te.on(this._element,tw,e=>this._move(e)),Te.on(this._element,nw,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===aw||e.pointerType===iw)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const hw="carousel",fw="bs.carousel",hr=`.${fw}`,Zp=".data-api",dw="ArrowLeft",_w="ArrowRight",pw=500,da="next",ai="prev",hi="left",Ko="right",mw=`slide${hr}`,Gc=`slid${hr}`,vw=`keydown${hr}`,gw=`mouseenter${hr}`,bw=`mouseleave${hr}`,yw=`dragstart${hr}`,Tw=`load${hr}${Zp}`,Ew=`click${hr}${Zp}`,Qp="carousel",Lo="active",ww="slide",Aw="carousel-item-end",Sw="carousel-item-start",xw="carousel-item-next",Cw="carousel-item-prev",Jp=".active",em=".carousel-item",Mw=Jp+em,Ow=".carousel-item img",Rw=".carousel-indicators",Nw="[data-bs-slide], [data-bs-slide-to]",Iw='[data-bs-ride="carousel"]',kw={[dw]:Ko,[_w]:hi},Dw={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Bw={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class fo extends es{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Be.findOne(Rw,this._element),this._addEventListeners(),this._config.ride===Qp&&this.cycle()}static get Default(){return Dw}static get DefaultType(){return Bw}static get NAME(){return hw}next(){this._slide(da)}nextWhenVisible(){!document.hidden&&ea(this._element)&&this.next()}prev(){this._slide(ai)}pause(){this._isSliding&&$p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Te.one(this._element,Gc,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){Te.one(this._element,Gc,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?da:ai;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Te.on(this._element,vw,e=>this._keydown(e)),this._config.pause==="hover"&&(Te.on(this._element,gw,()=>this.pause()),Te.on(this._element,bw,()=>this._maybeEnableCycle())),this._config.touch&&xl.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Be.find(Ow,this._element))Te.on(s,yw,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(hi)),rightCallback:()=>this._slide(this._directionToOrder(Ko)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),pw+this._config.interval))}};this._swipeHelper=new xl(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=kw[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Be.findOne(Jp,this._indicatorsElement);n.classList.remove(Lo),n.removeAttribute("aria-current");const s=Be.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Lo),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),r=e===da,i=n||W0(this._getItems(),s,r,this._config.wrap);if(i===s)return;const a=this._getItemIndex(i),o=w=>Te.trigger(this._element,w,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:a});if(o(mw).defaultPrevented||!s||!i)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;const f=r?Sw:Aw,h=r?xw:Cw;i.classList.add(h),uo(i),s.classList.add(f),i.classList.add(f);const O=()=>{i.classList.remove(f,h),i.classList.add(Lo),s.classList.remove(Lo,h,f),this._isSliding=!1,o(Gc)};this._queueCallback(O,s,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(ww)}_getActive(){return Be.findOne(Mw,this._element)}_getItems(){return Be.find(em,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Vn()?e===hi?ai:da:e===hi?da:ai}_orderToDirection(e){return Vn()?e===ai?hi:Ko:e===ai?Ko:hi}static jQueryInterface(e){return this.each(function(){const n=fo.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Te.on(document,Ew,Nw,function(t){const e=Be.getElementFromSelector(this);if(!e||!e.classList.contains(Qp))return;t.preventDefault();const n=fo.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Is.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});Te.on(window,Tw,()=>{const t=Be.find(Iw);for(const e of t)fo.getOrCreateInstance(e)});Fn(fo);const Lw="collapse",Vw="bs.collapse",_o=`.${Vw}`,Pw=".data-api",Fw=`show${_o}`,$w=`shown${_o}`,Hw=`hide${_o}`,qw=`hidden${_o}`,Ww=`click${_o}${Pw}`,Xc="show",mi="collapse",Vo="collapsing",jw="collapsed",Uw=`:scope .${mi} .${mi}`,Yw="collapse-horizontal",Gw="width",Xw="height",Kw=".collapse.show, .collapse.collapsing",Iu='[data-bs-toggle="collapse"]',zw={parent:null,toggle:!0},Zw={parent:"(null|element)",toggle:"boolean"};class Ga extends es{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Be.find(Iu);for(const r of s){const i=Be.getSelectorFromElement(r),a=Be.find(i).filter(o=>o===this._element);i!==null&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zw}static get DefaultType(){return Zw}static get NAME(){return Lw}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Kw).filter(o=>o!==this._element).map(o=>Ga.getOrCreateInstance(o,{toggle:!1}))),e.length&&e[0]._isTransitioning||Te.trigger(this._element,Fw).defaultPrevented)return;for(const o of e)o.hide();const s=this._getDimension();this._element.classList.remove(mi),this._element.classList.add(Vo),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vo),this._element.classList.add(mi,Xc),this._element.style[s]="",Te.trigger(this._element,$w)},a=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Te.trigger(this._element,Hw).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,uo(this._element),this._element.classList.add(Vo),this._element.classList.remove(mi,Xc);for(const r of this._triggerArray){const i=Be.getElementFromSelector(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Vo),this._element.classList.add(mi),Te.trigger(this._element,qw)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Xc)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=sr(e.parent),e}_getDimension(){return this._element.classList.contains(Yw)?Gw:Xw}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Iu);for(const n of e){const s=Be.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Be.find(Uw,this._config.parent);return Be.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(jw,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Ga.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}Te.on(document,Ww,Iu,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Be.getMultipleElementsFromSelector(this))Ga.getOrCreateInstance(e,{toggle:!1}).toggle()});Fn(Ga);const ld="dropdown",Qw="bs.dropdown",Qr=`.${Qw}`,U0=".data-api",Jw="Escape",cd="Tab",eA="ArrowUp",ud="ArrowDown",tA=2,nA=`hide${Qr}`,sA=`hidden${Qr}`,rA=`show${Qr}`,iA=`shown${Qr}`,tm=`click${Qr}${U0}`,nm=`keydown${Qr}${U0}`,aA=`keyup${Qr}${U0}`,fi="show",oA="dropup",lA="dropend",cA="dropstart",uA="dropup-center",hA="dropdown-center",Or='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',fA=`${Or}.${fi}`,zo=".dropdown-menu",dA=".navbar",_A=".navbar-nav",pA=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",mA=Vn()?"top-end":"top-start",vA=Vn()?"top-start":"top-end",gA=Vn()?"bottom-end":"bottom-start",bA=Vn()?"bottom-start":"bottom-end",yA=Vn()?"left-start":"right-start",TA=Vn()?"right-start":"left-start",EA="top",wA="bottom",AA={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},SA={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class hs extends es{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Be.next(this._element,zo)[0]||Be.prev(this._element,zo)[0]||Be.findOne(zo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return AA}static get DefaultType(){return SA}static get NAME(){return ld}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Te.trigger(this._element,rA,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(_A))for(const s of[].concat(...document.body.children))Te.on(s,"mouseover",Sl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fi),this._element.classList.add(fi),Te.trigger(this._element,iA,e)}}hide(){if(rr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Te.trigger(this._element,nA,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Te.off(s,"mouseover",Sl);this._popper&&this._popper.destroy(),this._menu.classList.remove(fi),this._element.classList.remove(fi),this._element.setAttribute("aria-expanded","false"),Is.removeDataAttribute(this._menu,"popper"),Te.trigger(this._element,sA,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ns(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ld.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Pp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ns(this._config.reference)?e=sr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=q0(e,this._menu,n)}_isShown(){return this._menu.classList.contains(fi)}_getPlacement(){const e=this._parent;if(e.classList.contains(lA))return yA;if(e.classList.contains(cA))return TA;if(e.classList.contains(uA))return EA;if(e.classList.contains(hA))return wA;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(oA)?n?vA:mA:n?bA:gA}_detectNavbar(){return this._element.closest(dA)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Is.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...dn(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=Be.find(pA,this._menu).filter(r=>ea(r));s.length&&W0(s,n,e===ud,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=hs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===tA||e.type==="keyup"&&e.key!==cd)return;const n=Be.find(fA);for(const s of n){const r=hs.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=e.composedPath(),a=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===cd||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:r._element};e.type==="click"&&(o.clickEvent=e),r._completeHide(o)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===Jw,r=[eA,ud].includes(e.key);if(!r&&!s||n&&!s)return;e.preventDefault();const i=this.matches(Or)?this:Be.prev(this,Or)[0]||Be.next(this,Or)[0]||Be.findOne(Or,e.delegateTarget.parentNode),a=hs.getOrCreateInstance(i);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}Te.on(document,nm,Or,hs.dataApiKeydownHandler);Te.on(document,nm,zo,hs.dataApiKeydownHandler);Te.on(document,tm,hs.clearMenus);Te.on(document,aA,hs.clearMenus);Te.on(document,tm,Or,function(t){t.preventDefault(),hs.getOrCreateInstance(this).toggle()});Fn(hs);const sm="backdrop",xA="fade",hd="show",fd=`mousedown.bs.${sm}`,CA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},MA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rm extends ho{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return CA}static get DefaultType(){return MA}static get NAME(){return sm}show(e){if(!this._config.isVisible){dn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&uo(n),n.classList.add(hd),this._emulateAnimation(()=>{dn(e)})}hide(e){if(!this._config.isVisible){dn(e);return}this._getElement().classList.remove(hd),this._emulateAnimation(()=>{this.dispose(),dn(e)})}dispose(){this._isAppended&&(Te.off(this._element,fd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(xA),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=sr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Te.on(e,fd,()=>{dn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Wp(e,this._getElement(),this._config.isAnimated)}}const OA="focustrap",RA="bs.focustrap",Cl=`.${RA}`,NA=`focusin${Cl}`,IA=`keydown.tab${Cl}`,kA="Tab",DA="forward",dd="backward",BA={autofocus:!0,trapElement:null},LA={autofocus:"boolean",trapElement:"element"};class im extends ho{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return BA}static get DefaultType(){return LA}static get NAME(){return OA}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Te.off(document,Cl),Te.on(document,NA,e=>this._handleFocusin(e)),Te.on(document,IA,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Te.off(document,Cl))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Be.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===dd?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===kA&&(this._lastTabNavDirection=e.shiftKey?dd:DA)}}const _d=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pd=".sticky-top",Po="padding-right",md="margin-right";class ku{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Po,n=>n+e),this._setElementAttributes(_d,Po,n=>n+e),this._setElementAttributes(pd,md,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Po),this._resetElementAttributes(_d,Po),this._resetElementAttributes(pd,md)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const r=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const o=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${s(Number.parseFloat(o))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Is.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=r=>{const i=Is.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}Is.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Ns(e)){n(e);return}for(const s of Be.find(e,this._element))n(s)}}const VA="modal",PA="bs.modal",Pn=`.${PA}`,FA=".data-api",$A="Escape",HA=`hide${Pn}`,qA=`hidePrevented${Pn}`,am=`hidden${Pn}`,om=`show${Pn}`,WA=`shown${Pn}`,jA=`resize${Pn}`,UA=`click.dismiss${Pn}`,YA=`mousedown.dismiss${Pn}`,GA=`keydown.dismiss${Pn}`,XA=`click${Pn}${FA}`,vd="modal-open",KA="fade",gd="show",Kc="modal-static",zA=".modal.show",ZA=".modal-dialog",QA=".modal-body",JA='[data-bs-toggle="modal"]',eS={backdrop:!0,focus:!0,keyboard:!0},tS={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Fi extends es{constructor(e,n){super(e,n),this._dialog=Be.findOne(ZA,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ku,this._addEventListeners()}static get Default(){return eS}static get DefaultType(){return tS}static get NAME(){return VA}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Te.trigger(this._element,om,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Te.trigger(this._element,HA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(gd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Te.off(window,Pn),Te.off(this._dialog,Pn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new im({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Be.findOne(QA,this._dialog);n&&(n.scrollTop=0),uo(this._element),this._element.classList.add(gd);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Te.trigger(this._element,WA,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){Te.on(this._element,GA,e=>{if(e.key===$A){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Te.on(window,jA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Te.on(this._element,YA,e=>{Te.one(this._element,UA,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vd),this._resetAdjustments(),this._scrollBar.reset(),Te.trigger(this._element,am)})}_isAnimated(){return this._element.classList.contains(KA)}_triggerBackdropTransition(){if(Te.trigger(this._element,qA).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Kc)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Kc),this._queueCallback(()=>{this._element.classList.remove(Kc),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const r=Vn()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&e){const r=Vn()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Fi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}Te.on(document,XA,JA,function(t){const e=Be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Te.one(e,om,r=>{r.defaultPrevented||Te.one(e,am,()=>{ea(this)&&this.focus()})});const n=Be.findOne(zA);n&&Fi.getInstance(n).hide(),Fi.getOrCreateInstance(e).toggle(this)});tc(Fi);Fn(Fi);const nS="offcanvas",sS="bs.offcanvas",qs=`.${sS}`,lm=".data-api",rS=`load${qs}${lm}`,iS="Escape",bd="show",yd="showing",Td="hiding",aS="offcanvas-backdrop",cm=".offcanvas.show",oS=`show${qs}`,lS=`shown${qs}`,cS=`hide${qs}`,Ed=`hidePrevented${qs}`,um=`hidden${qs}`,uS=`resize${qs}`,hS=`click${qs}${lm}`,fS=`keydown.dismiss${qs}`,dS='[data-bs-toggle="offcanvas"]',_S={backdrop:!0,keyboard:!0,scroll:!1},pS={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ir extends es{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _S}static get DefaultType(){return pS}static get NAME(){return nS}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Te.trigger(this._element,oS,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ku().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yd);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(bd),this._element.classList.remove(yd),Te.trigger(this._element,lS,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||Te.trigger(this._element,cS).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Td),this._backdrop.hide();const n=()=>{this._element.classList.remove(bd,Td),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ku().reset(),Te.trigger(this._element,um)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Te.trigger(this._element,Ed);return}this.hide()},n=!!this._config.backdrop;return new rm({className:aS,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new im({trapElement:this._element})}_addEventListeners(){Te.on(this._element,fS,e=>{if(e.key===iS){if(this._config.keyboard){this.hide();return}Te.trigger(this._element,Ed)}})}static jQueryInterface(e){return this.each(function(){const n=ir.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Te.on(document,hS,dS,function(t){const e=Be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),rr(this))return;Te.one(e,um,()=>{ea(this)&&this.focus()});const n=Be.findOne(cm);n&&n!==e&&ir.getInstance(n).hide(),ir.getOrCreateInstance(e).toggle(this)});Te.on(window,rS,()=>{for(const t of Be.find(cm))ir.getOrCreateInstance(t).show()});Te.on(window,uS,()=>{for(const t of Be.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ir.getOrCreateInstance(t).hide()});tc(ir);Fn(ir);const mS=/^aria-[\w-]*$/i,hm={"*":["class","dir","id","lang","role",mS],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vS=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bS=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?vS.has(n)?!!gS.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function yS(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const a of i){const o=a.nodeName.toLowerCase();if(!Object.keys(e).includes(o)){a.remove();continue}const c=[].concat(...a.attributes),u=[].concat(e["*"]||[],e[o]||[]);for(const f of c)bS(f,u)||a.removeAttribute(f.nodeName)}return r.body.innerHTML}const TS="TemplateFactory",ES={allowList:hm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wS={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},AS={entry:"(string|element|function|null)",selector:"(string|element)"};class SS extends ho{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ES}static get DefaultType(){return wS}static get NAME(){return TS}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},AS)}_setContent(e,n,s){const r=Be.findOne(s,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ns(n)){this._putElementInTemplate(sr(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?yS(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return dn(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const xS="tooltip",CS=new Set(["sanitize","allowList","sanitizeFn"]),zc="fade",MS="modal",Fo="show",OS=".tooltip-inner",wd=`.${MS}`,Ad="hide.bs.modal",_a="hover",Zc="focus",RS="click",NS="manual",IS="hide",kS="hidden",DS="show",BS="shown",LS="inserted",VS="click",PS="focusin",FS="focusout",$S="mouseenter",HS="mouseleave",qS={AUTO:"auto",TOP:"top",RIGHT:Vn()?"left":"right",BOTTOM:"bottom",LEFT:Vn()?"right":"left"},WS={allowList:hm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jS={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class na extends es{constructor(e,n){if(typeof Pp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return WS}static get DefaultType(){return jS}static get NAME(){return xS}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Te.off(this._element.closest(wd),Ad,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Te.trigger(this._element,this.constructor.eventName(DS)),s=(Hp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),Te.trigger(this._element,this.constructor.eventName(LS))),this._popper=this._createPopper(r),r.classList.add(Fo),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Te.on(o,"mouseover",Sl);const a=()=>{Te.trigger(this._element,this.constructor.eventName(BS)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Te.trigger(this._element,this.constructor.eventName(IS)).defaultPrevented)return;if(this._getTipElement().classList.remove(Fo),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Te.off(r,"mouseover",Sl);this._activeTrigger[RS]=!1,this._activeTrigger[Zc]=!1,this._activeTrigger[_a]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Te.trigger(this._element,this.constructor.eventName(kS)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(zc,Fo),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=RE(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(zc),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new SS({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[OS]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zc)}_isShown(){return this.tip&&this.tip.classList.contains(Fo)}_createPopper(e){const n=dn(this._config.placement,[this,e,this._element]),s=qS[n.toUpperCase()];return q0(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return dn(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...dn(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")Te.on(this._element,this.constructor.eventName(VS),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==NS){const s=n===_a?this.constructor.eventName($S):this.constructor.eventName(PS),r=n===_a?this.constructor.eventName(HS):this.constructor.eventName(FS);Te.on(this._element,s,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusin"?Zc:_a]=!0,a._enter()}),Te.on(this._element,r,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusout"?Zc:_a]=a._element.contains(i.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Te.on(this._element.closest(wd),Ad,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Is.getDataAttributes(this._element);for(const s of Object.keys(n))CS.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:sr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=na.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fn(na);const US="popover",YS=".popover-header",GS=".popover-body",XS={...na.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},KS={...na.DefaultType,content:"(null|string|element|function)"};class Y0 extends na{static get Default(){return XS}static get DefaultType(){return KS}static get NAME(){return US}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[YS]:this._getTitle(),[GS]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Y0.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fn(Y0);const zS="scrollspy",ZS="bs.scrollspy",G0=`.${ZS}`,QS=".data-api",JS=`activate${G0}`,Sd=`click${G0}`,e9=`load${G0}${QS}`,t9="dropdown-item",oi="active",n9='[data-bs-spy="scroll"]',Qc="[href]",s9=".nav, .list-group",xd=".nav-link",r9=".nav-item",i9=".list-group-item",a9=`${xd}, ${r9} > ${xd}, ${i9}`,o9=".dropdown",l9=".dropdown-toggle",c9={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},u9={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rc extends es{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return c9}static get DefaultType(){return u9}static get NAME(){return zS}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=sr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Te.off(this._config.target,Sd),Te.on(this._config.target,Sd,Qc,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),s=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&o){if(s(a),!r)return;continue}!i&&!o&&s(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Be.find(Qc,this._config.target);for(const n of e){if(!n.hash||rr(n))continue;const s=Be.findOne(decodeURI(n.hash),this._element);ea(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(oi),this._activateParents(e),Te.trigger(this._element,JS,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(t9)){Be.findOne(l9,e.closest(o9)).classList.add(oi);return}for(const n of Be.parents(e,s9))for(const s of Be.prev(n,a9))s.classList.add(oi)}_clearActiveClass(e){e.classList.remove(oi);const n=Be.find(`${Qc}.${oi}`,e);for(const s of n)s.classList.remove(oi)}static jQueryInterface(e){return this.each(function(){const n=rc.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Te.on(window,e9,()=>{for(const t of Be.find(n9))rc.getOrCreateInstance(t)});Fn(rc);const h9="tab",f9="bs.tab",Jr=`.${f9}`,d9=`hide${Jr}`,_9=`hidden${Jr}`,p9=`show${Jr}`,m9=`shown${Jr}`,v9=`click${Jr}`,g9=`keydown${Jr}`,b9=`load${Jr}`,y9="ArrowLeft",Cd="ArrowRight",T9="ArrowUp",Md="ArrowDown",Jc="Home",Od="End",Rr="active",Rd="fade",eu="show",E9="dropdown",fm=".dropdown-toggle",w9=".dropdown-menu",tu=`:not(${fm})`,A9='.list-group, .nav, [role="tablist"]',S9=".nav-item, .list-group-item",x9=`.nav-link${tu}, .list-group-item${tu}, [role="tab"]${tu}`,dm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nu=`${x9}, ${dm}`,C9=`.${Rr}[data-bs-toggle="tab"], .${Rr}[data-bs-toggle="pill"], .${Rr}[data-bs-toggle="list"]`;class $i extends es{constructor(e){super(e),this._parent=this._element.closest(A9),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Te.on(this._element,g9,n=>this._keydown(n)))}static get NAME(){return h9}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?Te.trigger(n,d9,{relatedTarget:e}):null;Te.trigger(e,p9,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Rr),this._activate(Be.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(eu);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Te.trigger(e,m9,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Rd))}_deactivate(e,n){if(!e)return;e.classList.remove(Rr),e.blur(),this._deactivate(Be.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(eu);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Te.trigger(e,_9,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Rd))}_keydown(e){if(![y9,Cd,T9,Md,Jc,Od].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!rr(r));let s;if([Jc,Od].includes(e.key))s=n[e.key===Jc?0:n.length-1];else{const r=[Cd,Md].includes(e.key);s=W0(n,e.target,r,!0)}s&&(s.focus({preventScroll:!0}),$i.getOrCreateInstance(s).show())}_getChildren(){return Be.find(nu,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Be.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(E9))return;const r=(i,a)=>{const o=Be.findOne(i,s);o&&o.classList.toggle(a,n)};r(fm,Rr),r(w9,eu),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Rr)}_getInnerElement(e){return e.matches(nu)?e:Be.findOne(nu,e)}_getOuterElement(e){return e.closest(S9)||e}static jQueryInterface(e){return this.each(function(){const n=$i.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Te.on(document,v9,dm,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!rr(this)&&$i.getOrCreateInstance(this).show()});Te.on(window,b9,()=>{for(const t of Be.find(C9))$i.getOrCreateInstance(t)});Fn($i);const M9="toast",O9="bs.toast",fr=`.${O9}`,R9=`mouseover${fr}`,N9=`mouseout${fr}`,I9=`focusin${fr}`,k9=`focusout${fr}`,D9=`hide${fr}`,B9=`hidden${fr}`,L9=`show${fr}`,V9=`shown${fr}`,P9="fade",Nd="hide",$o="show",Ho="showing",F9={animation:"boolean",autohide:"boolean",delay:"number"},$9={animation:!0,autohide:!0,delay:5e3};class ic extends es{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $9}static get DefaultType(){return F9}static get NAME(){return M9}show(){if(Te.trigger(this._element,L9).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(P9);const n=()=>{this._element.classList.remove(Ho),Te.trigger(this._element,V9),this._maybeScheduleHide()};this._element.classList.remove(Nd),uo(this._element),this._element.classList.add($o,Ho),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||Te.trigger(this._element,D9).defaultPrevented)return;const n=()=>{this._element.classList.add(Nd),this._element.classList.remove(Ho,$o),Te.trigger(this._element,B9)};this._element.classList.add(Ho),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($o),super.dispose()}isShown(){return this._element.classList.contains($o)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){Te.on(this._element,R9,e=>this._onInteraction(e,!0)),Te.on(this._element,N9,e=>this._onInteraction(e,!1)),Te.on(this._element,I9,e=>this._onInteraction(e,!0)),Te.on(this._element,k9,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=ic.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}tc(ic);Fn(ic);function _m(){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-bs-theme",t?"dark":"light")}_m();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",_m);Pv($8).mount("#app");
