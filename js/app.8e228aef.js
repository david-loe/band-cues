(function(){var e={3436:function(e,t,s){"use strict";var n=s(9963),a=s(6252),i=s(3577);const r={class:"container"},o=(0,a._)("h1",null,"Band CuesðŸŽ§",-1),c={class:"row mb-5"},l={class:"col-auto"},u=(0,a._)("label",{for:"bpm",class:"form-label"},[(0,a.Uk)("BPM "),(0,a._)("i",{class:"bi bi-speedometer"})],-1),d={class:"form-check form-switch"},p=(0,a._)("label",{class:"form-check-label",for:"doubleTime"},"Double Time Click",-1),f={class:"col-auto"},b=(0,a._)("label",{for:"beatsPerBar",class:"form-label"},"Beats per Bar",-1),m={class:"col-auto"},v=(0,a._)("label",{for:"firstOscFrequency",class:"form-label"},"First Click Tone [hz]",-1),w={class:"col-auto"},h=(0,a._)("label",{for:"oscFrequency",class:"form-label"},"Click Tone [hz]",-1),y={class:"col-auto"},g=(0,a._)("label",{for:"fileFormat",class:"form-label"},"File Format",-1),_=["id"],k={key:0},B={key:1},O={class:"mb-4 row"},x={class:"col-auto list-group mb-2"},C={class:"row align-items-end"},T={class:"col-auto"},F=["for"],D=["onUpdate:modelValue","id"],P={class:"col-auto",style:{"max-width":"100px"}},U=["for"],S=["id","onUpdate:modelValue"],q={class:"col-auto"},V=["onClick"],R=(0,a._)("i",{class:"bi bi-clipboard-plus"},null,-1),I=(0,a.Uk)(" Duplicate "),L=[R,I],j=["onClick"],A=(0,a._)("i",{class:"bi bi-clipboard-plus"},null,-1),M=[A],E=["onClick"],K=(0,a._)("i",{class:"bi bi-trash"},null,-1),W=[K],z={class:"col-auto"},H=["onClick"],Y=(0,a._)("i",{class:"bi bi-trash"},null,-1),N=(0,a.Uk)(" Delete "),J=[Y,N],G={key:0,class:"alert alert-secondary mb-2",role:"alert"},Q={class:"mb-2"},Z=(0,a._)("i",{class:"bi bi-plus-lg"},null,-1),X=(0,a.Uk)(" Add Section "),$=[Z,X],ee={class:"mb-3"},te=["disabled"],se=(0,a._)("i",{class:"bi bi-play-circle"},null,-1),ne=(0,a.Uk)(" Generate"),ae=[se,ne],ie={key:0},re=(0,a._)("div",{class:"spinner-border text-primary"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),oe=(0,a._)("small",{class:"text-primary"},"This migth take up to a minute..",-1),ce=[re,oe],le={key:1},ue=["src"],de=(0,a._)("br",null,null,-1),pe=(0,a._)("small",null,[(0,a.Uk)(" CuesðŸŽ§ from "),(0,a._)("a",{href:"https://worshiptutorials.com/product/clicks-and-cues/"},"WorshipTutorials")],-1);function fe(e,t,s,R,I,A){return(0,a.wg)(),(0,a.iD)("div",r,[o,(0,a._)("div",c,[(0,a._)("div",l,[u,(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"bpm",min:"1","onUpdate:modelValue":t[0]||(t[0]=e=>I.bpm=e)},null,512),[[n.nr,I.bpm]]),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"doubleTime","onUpdate:modelValue":t[1]||(t[1]=e=>I.doubleTime=e)},null,512),[[n.e8,I.doubleTime]]),p])]),(0,a._)("div",f,[b,(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"beatsPerBar",min:"2",max:"8","onUpdate:modelValue":t[2]||(t[2]=e=>I.beatsPerBar=e)},null,512),[[n.nr,I.beatsPerBar]])]),(0,a._)("div",m,[v,(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"firstOscFrequency",min:"20",max:"20000","onUpdate:modelValue":t[3]||(t[3]=e=>I.firstOscFrequency=e)},null,512),[[n.nr,I.firstOscFrequency]])]),(0,a._)("div",w,[h,(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"oscFrequency",min:"20",max:"20000","onUpdate:modelValue":t[4]||(t[4]=e=>I.oscFrequency=e)},null,512),[[n.nr,I.oscFrequency]])]),(0,a._)("div",y,[g,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>I.fileFormat=e),id:I.fileFormat},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.fileFormats,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e},(0,i.zw)(e),1)))),128))],8,_),[[n.bM,I.fileFormat]])]),"mp3"===I.fileFormat?((0,a.wg)(),(0,a.iD)("small",k,"â„¹ Converting to MP3 takes signifigantly longer than WAV")):(0,a.kq)("",!0),6===I.beatsPerBar?((0,a.wg)(),(0,a.iD)("small",B,"â„¹ Consider Double Time Click and 3 Beats per Bar")):(0,a.kq)("",!0)]),(0,a._)("div",O,[(0,a._)("ul",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.sections,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"list-group-item",key:t},[(0,a._)("div",C,[(0,a._)("div",T,[(0,a._)("label",{for:t+"section",class:"form-label"},"Section",8,F),(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t=>e.type=t,id:t+"section"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.cueTypes,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e},(0,i.zw)(e),1)))),128))],8,D),[[n.bM,e.type]])]),(0,a._)("div",P,[(0,a._)("label",{for:t+"numberOFBars",class:"form-label"},"Bars",8,U),(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",min:"1",id:t+"numberOFBars","onUpdate:modelValue":t=>e.numberOfBars=t},null,8,S),[[n.nr,e.numberOfBars]])]),(0,a._)("div",q,[(0,a._)("button",{type:"button",class:"btn btn-secondary d-none d-sm-block",onClick:t=>A.duplicateSection(e)},L,8,V),(0,a._)("button",{type:"button",class:"btn btn-secondary d-sm-none",onClick:t=>A.duplicateSection(e)},M,8,j),(0,a._)("div",null,[(0,a._)("button",{type:"button",class:"btn btn-danger d-sm-none",onClick:t=>A.deleteSection(e)},W,8,E)])]),(0,a._)("div",z,[(0,a._)("button",{type:"button",class:"btn btn-danger d-none d-sm-block",onClick:t=>A.deleteSection(e)},J,8,H)])])])))),128))]),0===I.sections.length?((0,a.wg)(),(0,a.iD)("div",G,"No Section defined.")):(0,a.kq)("",!0),(0,a._)("div",Q,[(0,a._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[6]||(t[6]=e=>A.addSection())},$)])]),(0,a._)("div",ee,[(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=e=>A.generate()),disabled:I.isLoading||!A.inputCorrect()},ae,8,te)]),I.isLoading?((0,a.wg)(),(0,a.iD)("div",ie,ce)):(0,a.kq)("",!0),""===I.cueTrack||I.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",le,[(0,a._)("audio",{controls:"",src:I.cueTrack},null,8,ue),de,pe]))])}s(8675),s(3462);var be=s(2123),me=s(5644),ve={name:"App",components:{},data(){return{cueTypes:["AcaPella","Band","Break","Bridge","Chorus","Count","End","Instrumental","Intro","KeyChange","Outro","PreChorus","Ready","Riff","Solo","Tag","Turn","Verse"],oscTypes:["sine","sawtooth","square","triangle"],fileFormats:["mp3","wav"],fileFormat:"wav",oscFrequency:440,firstOscFrequency:600,bpm:120,beatsPerBar:4,numberOfBars:10,cueDuration:5,cueTrack:"",isLoading:!1,sections:[{type:"Intro",numberOfBars:4}],doubleTime:!1}},methods:{addSection(){this.sections.push({type:"Intro",numberOfBars:4})},duplicateSection(e){const t={};Object.assign(t,e);const s=this.sections.indexOf(e);-1!==s&&this.sections.splice(s,0,t)},deleteSection(e){const t=this.sections.indexOf(e);-1!==t&&this.sections.splice(t,1)},getSection(e){for(var t=0,s=0;s<this.sections.length;s++){var n=t+1===e;if(t+=this.beatsPerBar*this.sections[s].numberOfBars,e<=t)return{section:this.sections[s],isFirstBeatOfSection:n}}return{section:null,isFirstBeatOfSection:!1}},inputCorrect(){return this.beatsPerBar<=8&&this.beatsPerBar>=2&&this.sections.length>0},async generate(){if(!this.inputCorrect())return"";this.isLoading=!0;var e=0;for(const s of this.sections)e+=s.numberOfBars;this.cueDuration=Math.ceil(60/this.bpm*this.beatsPerBar*e);const t=await be.B6((async({transport:t})=>{const n=new be.D_(this.oscFrequency,this.oscTypes[0]).toDestination(),a=new be.D_(this.firstOscFrequency,this.oscTypes[0]).toDestination(),i=be.Y3(),r={};for(var o=0;o<this.sections.length;o++)r[this.sections[o].type]=(new be.J5).connect(i),await r[this.sections[o].type].load(s(3938)("./"+this.sections[o].type+".wav"));for(o=2;o<=this.beatsPerBar;o++)r[o.toString()]=(new be.J5).connect(i),await r[o.toString()].load(s(3938)("./"+o.toString()+".wav"));t.bpm.value=this.bpm;var c=0,l=!1;t.scheduleRepeat((s=>{if(++c>e*this.beatsPerBar)t.stop();else if(c%this.beatsPerBar===1){l=!1,a.start(s).stop(s+.05);const e=this.getSection(c);e.isFirstBeatOfSection&&(r[e.section.type].start(s),l=!0)}else n.start(s).stop(s+.05),l&&r[((c-1)%this.beatsPerBar+1).toString()].start(s)}),"4n"),this.doubleTime&&t.scheduleRepeat((e=>{n.start(e).stop(e+.05)}),"4n","8n"),t.start()}),this.cueDuration,1);"wav"===this.fileFormat?this.cueTrack=URL.createObjectURL(new Blob([this.bufferToWave(t.get())],{type:"audio/wav"})):"mp3"===this.fileFormat&&(this.cueTrack=URL.createObjectURL(new Blob(this.wave2mp3(this.bufferToWave(t.get())),{type:"audio/mp3"}))),this.isLoading=!1,clearInterval(this.progressIntervall)},bufferToWave(e){var t,s,n=e.numberOfChannels,a=e.length*n*2+44,i=new ArrayBuffer(a),r=new DataView(i),o=[],c=0,l=0;for(d(1179011410),d(a-8),d(1163280727),d(544501094),d(16),u(1),u(n),d(e.sampleRate),d(2*e.sampleRate*n),u(2*n),u(16),d(1635017060),d(a-l-4),t=0;t<e.numberOfChannels;t++)o.push(e.getChannelData(t));while(l<a){for(t=0;t<n;t++)s=Math.max(-1,Math.min(1,o[t][c])),s=0|(.5+s<0?32768*s:32767*s),r.setInt16(l,s,!0),l+=2;c++}return i;function u(e){r.setUint16(l,e,!0),l+=2}function d(e){r.setUint32(l,e,!0),l+=4}},wave2mp3(e){const t=128,s=1152,n=me.Q.readHeader(new DataView(e)),a=new Int16Array(e,n.dataOffset,n.dataLen/2),i=new me.d(n.channels,n.sampleRate,t);for(var r=[],o=0;o<a.length;o+=s){var c=a.subarray(o,o+s),l=i.encodeBuffer(c);l.length>0&&r.push(l)}return l=i.flush(),l.length>0&&r.push(new Int8Array(l)),r}}},we=s(3744);const he=(0,we.Z)(ve,[["render",fe]]);var ye=he;(0,n.ri)(ye).mount("#app")},3938:function(e,t,s){var n={"./1.wav":4254,"./2.wav":3537,"./3.wav":9336,"./4.wav":2234,"./5.wav":5312,"./6.wav":3346,"./7.wav":8602,"./AcaPella.wav":8610,"./Band.wav":7094,"./Break.wav":3921,"./Bridge.wav":4244,"./Chorus.wav":3415,"./Count.wav":8841,"./End.wav":8764,"./Instrumental.wav":7616,"./Intro.wav":9327,"./KeyChange.wav":9839,"./Outro.wav":1325,"./PreChorus.wav":3069,"./Ready.wav":3500,"./Riff.wav":4525,"./Solo.wav":5611,"./Tag.wav":6155,"./Turn.wav":3727,"./Verse.wav":5173};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=3938},4254:function(e,t,s){"use strict";e.exports=s.p+"media/1.e4444bad.wav"},3537:function(e,t,s){"use strict";e.exports=s.p+"media/2.97498402.wav"},9336:function(e,t,s){"use strict";e.exports=s.p+"media/3.19a2f263.wav"},2234:function(e,t,s){"use strict";e.exports=s.p+"media/4.6a8cf081.wav"},5312:function(e,t,s){"use strict";e.exports=s.p+"media/5.8d45786b.wav"},3346:function(e,t,s){"use strict";e.exports=s.p+"media/6.77e946a8.wav"},8602:function(e,t,s){"use strict";e.exports=s.p+"media/7.88952e25.wav"},8610:function(e,t,s){"use strict";e.exports=s.p+"media/AcaPella.4ecbaab3.wav"},7094:function(e,t,s){"use strict";e.exports=s.p+"media/Band.30171753.wav"},3921:function(e,t,s){"use strict";e.exports=s.p+"media/Break.b424870b.wav"},4244:function(e,t,s){"use strict";e.exports=s.p+"media/Bridge.33db1a07.wav"},3415:function(e,t,s){"use strict";e.exports=s.p+"media/Chorus.be568e17.wav"},8841:function(e,t,s){"use strict";e.exports=s.p+"media/Count.e01df81b.wav"},8764:function(e,t,s){"use strict";e.exports=s.p+"media/End.908e8b17.wav"},7616:function(e,t,s){"use strict";e.exports=s.p+"media/Instrumental.598bef82.wav"},9327:function(e,t,s){"use strict";e.exports=s.p+"media/Intro.bf5136b2.wav"},9839:function(e,t,s){"use strict";e.exports=s.p+"media/KeyChange.23e0ac59.wav"},1325:function(e,t,s){"use strict";e.exports=s.p+"media/Outro.cdb4a14f.wav"},3069:function(e,t,s){"use strict";e.exports=s.p+"media/PreChorus.f106bdf4.wav"},3500:function(e,t,s){"use strict";e.exports=s.p+"media/Ready.63a5060b.wav"},4525:function(e,t,s){"use strict";e.exports=s.p+"media/Riff.6e6b8fab.wav"},5611:function(e,t,s){"use strict";e.exports=s.p+"media/Solo.fe9eb034.wav"},6155:function(e,t,s){"use strict";e.exports=s.p+"media/Tag.6c3b18a4.wav"},3727:function(e,t,s){"use strict";e.exports=s.p+"media/Turn.e2130b65.wav"},5173:function(e,t,s){"use strict";e.exports=s.p+"media/Verse.3a0ff240.wav"}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,i){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/band-cues/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,r=n[0],o=n[1],c=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(c)var u=c(s)}for(t&&t(n);l<r.length;l++)i=r[l],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},n=self["webpackChunkband_cues"]=self["webpackChunkband_cues"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(3436)}));n=s.O(n)})();
//# sourceMappingURL=app.8e228aef.js.map