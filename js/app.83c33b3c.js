(function(){var e={369:function(e,t,s){"use strict";var a=s(9963),n=s(6252),r=s(3577);const i={class:"container"},o=(0,n._)("h1",null,"Band CuesðŸŽ§",-1),c={class:"row mb-5"},l={class:"col-auto"},u=(0,n._)("label",{for:"bpm",class:"form-label"},[(0,n.Uk)("BPM "),(0,n._)("i",{class:"bi bi-speedometer"})],-1),d={class:"form-check form-switch"},f=(0,n._)("label",{class:"form-check-label",for:"doubleTime"},"Double Time Click",-1),p={class:"col-auto"},b=(0,n._)("label",{for:"beatsPerBar",class:"form-label"},"Beats per Bar",-1),m={class:"col-auto"},v=(0,n._)("label",{for:"firstOscFrequency",class:"form-label"},"First Click Tone [hz]",-1),w={class:"col-auto"},h=(0,n._)("label",{for:"oscFrequency",class:"form-label"},"Click Tone [hz]",-1),y={class:"col-auto"},g=(0,n._)("label",{for:"fileFormat",class:"form-label"},"File Format",-1),_=["id"],B={key:0},k={key:1},O={class:"mb-4 row"},x={class:"col-auto list-group mb-2"},C={class:"list-group-item"},T={class:"row align-items-end"},P=(0,n._)("div",{class:"col-auto"},[(0,n._)("label",{for:"preBarsSection",class:"form-label"},"Section"),(0,n._)("input",{type:"text",class:"form-control",value:"Prebars",id:"preBarsSection",readonly:""})],-1),F={class:"col-auto",style:{"max-width":"100px"}},D=(0,n._)("label",{for:"numberOfPreBars",class:"form-label"},"Bars",-1),S={class:"row align-items-end"},U={class:"col-auto"},q=["for"],V=["onUpdate:modelValue","id"],R={class:"col-auto",style:{"max-width":"100px"}},I=["for"],L=["id","onUpdate:modelValue"],j={class:"col-auto"},A=["onClick"],M=(0,n._)("i",{class:"bi bi-clipboard-plus"},null,-1),E=(0,n.Uk)(" Duplicate "),K=[M,E],W=["onClick"],z=(0,n._)("i",{class:"bi bi-clipboard-plus"},null,-1),H=[z],Y=["onClick"],N=(0,n._)("i",{class:"bi bi-trash"},null,-1),J=[N],G={class:"col-auto"},Q=["onClick"],Z=(0,n._)("i",{class:"bi bi-trash"},null,-1),X=(0,n.Uk)(" Delete "),$=[Z,X],ee={key:0,class:"alert alert-secondary mb-2",role:"alert"},te={class:"mb-2"},se=(0,n._)("i",{class:"bi bi-plus-lg"},null,-1),ae=(0,n.Uk)(" Add Section "),ne=[se,ae],re={class:"mb-3"},ie=["disabled"],oe=(0,n._)("i",{class:"bi bi-play-circle"},null,-1),ce=(0,n.Uk)(" Generate"),le=[oe,ce],ue={key:0},de=(0,n._)("div",{class:"spinner-border text-primary"},[(0,n._)("span",{class:"visually-hidden"},"Loading...")],-1),fe=(0,n._)("small",{class:"text-primary"},"This migth take up to a minute..",-1),pe=[de,fe],be={key:1},me=["src"],ve=(0,n._)("br",null,null,-1),we=(0,n._)("small",null,[(0,n.Uk)(" CuesðŸŽ§ from "),(0,n._)("a",{href:"https://worshiptutorials.com/product/clicks-and-cues/"},"WorshipTutorials")],-1);function he(e,t,s,M,E,z){return(0,n.wg)(),(0,n.iD)("div",i,[o,(0,n._)("div",c,[(0,n._)("div",l,[u,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"bpm",min:"1","onUpdate:modelValue":t[0]||(t[0]=e=>E.bpm=e)},null,512),[[a.nr,E.bpm]]),(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",id:"doubleTime","onUpdate:modelValue":t[1]||(t[1]=e=>E.doubleTime=e)},null,512),[[a.e8,E.doubleTime]]),f])]),(0,n._)("div",p,[b,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"beatsPerBar",min:"2",max:"8","onUpdate:modelValue":t[2]||(t[2]=e=>E.beatsPerBar=e)},null,512),[[a.nr,E.beatsPerBar]])]),(0,n._)("div",m,[v,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"firstOscFrequency",min:"20",max:"20000","onUpdate:modelValue":t[3]||(t[3]=e=>E.firstOscFrequency=e)},null,512),[[a.nr,E.firstOscFrequency]])]),(0,n._)("div",w,[h,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"oscFrequency",min:"20",max:"20000","onUpdate:modelValue":t[4]||(t[4]=e=>E.oscFrequency=e)},null,512),[[a.nr,E.oscFrequency]])]),(0,n._)("div",y,[g,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>E.fileFormat=e),id:E.fileFormat},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(E.fileFormats,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,r.zw)(e),1)))),128))],8,_),[[a.bM,E.fileFormat]])]),"mp3"===E.fileFormat?((0,n.wg)(),(0,n.iD)("small",B,"â„¹ Converting to MP3 takes signifigantly longer than WAV")):(0,n.kq)("",!0),6===E.beatsPerBar?((0,n.wg)(),(0,n.iD)("small",k,"â„¹ Consider Double Time Click and 3 Beats per Bar")):(0,n.kq)("",!0)]),(0,n._)("div",O,[(0,n._)("ul",x,[(0,n._)("li",C,[(0,n._)("div",T,[P,(0,n._)("div",F,[D,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",min:"1",id:"numberOfPreBars","onUpdate:modelValue":t[6]||(t[6]=e=>E.numberOfPreBars=e)},null,512),[[a.nr,E.numberOfPreBars]])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(E.sections,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item",key:t},[(0,n._)("div",S,[(0,n._)("div",U,[(0,n._)("label",{for:t+"section",class:"form-label"},"Section",8,q),(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t=>e.type=t,id:t+"section"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(E.cueTypes,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,r.zw)(e),1)))),128))],8,V),[[a.bM,e.type]])]),(0,n._)("div",R,[(0,n._)("label",{for:t+"numberOfBars",class:"form-label"},"Bars",8,I),(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",min:"1",id:t+"numberOfBars","onUpdate:modelValue":t=>e.numberOfBars=t},null,8,L),[[a.nr,e.numberOfBars]])]),(0,n._)("div",j,[(0,n._)("button",{type:"button",class:"btn btn-secondary d-none d-sm-block",onClick:t=>z.duplicateSection(e)},K,8,A),(0,n._)("button",{type:"button",class:"btn btn-secondary d-sm-none",onClick:t=>z.duplicateSection(e)},H,8,W),(0,n._)("div",null,[(0,n._)("button",{type:"button",class:"btn btn-danger d-sm-none",onClick:t=>z.deleteSection(e)},J,8,Y)])]),(0,n._)("div",G,[(0,n._)("button",{type:"button",class:"btn btn-danger d-none d-sm-block",onClick:t=>z.deleteSection(e)},$,8,Q)])])])))),128))]),0===E.sections.length?((0,n.wg)(),(0,n.iD)("div",ee,"No Section defined.")):(0,n.kq)("",!0),(0,n._)("div",te,[(0,n._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=e=>z.addSection())},ne)])]),(0,n._)("div",re,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=e=>z.generate()),disabled:E.isLoading||!z.inputCorrect()},le,8,ie)]),E.isLoading?((0,n.wg)(),(0,n.iD)("div",ue,pe)):(0,n.kq)("",!0),""===E.cueTrack||E.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("audio",{controls:"",src:E.cueTrack},null,8,me),ve,we]))])}s(8675),s(3462);var ye=s(2123),ge=s(5644),_e={name:"App",components:{},data(){return{cueTypes:["AcaPella","Band","Break","Bridge","Chorus","Count","End","Instrumental","Intro","KeyChange","Outro","PreChorus","Ready","Riff","Solo","Tag","Turn","Verse"],oscTypes:["sine","sawtooth","square","triangle"],fileFormats:["mp3","wav"],fileFormat:"wav",oscFrequency:440,firstOscFrequency:600,bpm:120,beatsPerBar:4,numberOfBars:10,cueDuration:5,cueTrack:"",isLoading:!1,numberOfPreBars:4,sections:[{type:"Intro",numberOfBars:4}],doubleTime:!1}},methods:{addSection(){this.sections.push({type:"Intro",numberOfBars:4})},duplicateSection(e){const t={};Object.assign(t,e);const s=this.sections.indexOf(e);-1!==s&&this.sections.splice(s,0,t)},deleteSection(e){const t=this.sections.indexOf(e);-1!==t&&this.sections.splice(t,1)},getSection(e){for(var t=0,s=0;s<this.sections.length;s++){var a=t+1===e;if(t+=this.beatsPerBar*this.sections[s].numberOfBars,e<=t)return{section:this.sections[s],isFirstBeatOfSection:a}}return{section:null,isFirstBeatOfSection:!1}},inputCorrect(){return this.beatsPerBar<=8&&this.beatsPerBar>=2&&this.sections.length>0},async generate(){if(!this.inputCorrect())return"";this.isLoading=!0;var e=this.numberOfPreBars;for(const s of this.sections)e+=s.numberOfBars;this.cueDuration=Math.ceil(60/this.bpm*this.beatsPerBar*e);const t=await ye.B6((async({transport:t})=>{const a=new ye.D_(this.oscFrequency,this.oscTypes[0]).toDestination(),n=new ye.D_(this.firstOscFrequency,this.oscTypes[0]).toDestination(),r=ye.Y3(),i={};for(var o=0;o<this.sections.length;o++)i[this.sections[o].type]=(new ye.J5).connect(r),await i[this.sections[o].type].load(s(3938)("./"+this.sections[o].type+".wav"));for(o=2;o<=this.beatsPerBar;o++)i[o.toString()]=(new ye.J5).connect(r),await i[o.toString()].load(s(3938)("./"+o.toString()+".wav"));t.bpm.value=this.bpm;var c=0,l=!1;t.scheduleRepeat((s=>{if(++c>e*this.beatsPerBar)t.stop();else if(c%this.beatsPerBar===1){l=!1,n.start(s).stop(s+.05);var r=c-(this.numberOfPreBars-1)*this.beatsPerBar;if(r>=0){const e=this.getSection(r);e.isFirstBeatOfSection&&(i[e.section.type].start(s),l=!0)}}else a.start(s).stop(s+.05),l&&i[((c-1)%this.beatsPerBar+1).toString()].start(s)}),"4n"),this.doubleTime&&t.scheduleRepeat((e=>{a.start(e).stop(e+.05)}),"4n","8n"),t.start()}),this.cueDuration,1);"wav"===this.fileFormat?this.cueTrack=URL.createObjectURL(new Blob([this.bufferToWave(t.get())],{type:"audio/wav"})):"mp3"===this.fileFormat&&(this.cueTrack=URL.createObjectURL(new Blob(this.wave2mp3(this.bufferToWave(t.get())),{type:"audio/mp3"}))),this.isLoading=!1,clearInterval(this.progressIntervall)},bufferToWave(e){var t,s,a=e.numberOfChannels,n=e.length*a*2+44,r=new ArrayBuffer(n),i=new DataView(r),o=[],c=0,l=0;for(d(1179011410),d(n-8),d(1163280727),d(544501094),d(16),u(1),u(a),d(e.sampleRate),d(2*e.sampleRate*a),u(2*a),u(16),d(1635017060),d(n-l-4),t=0;t<e.numberOfChannels;t++)o.push(e.getChannelData(t));while(l<n){for(t=0;t<a;t++)s=Math.max(-1,Math.min(1,o[t][c])),s=0|(.5+s<0?32768*s:32767*s),i.setInt16(l,s,!0),l+=2;c++}return r;function u(e){i.setUint16(l,e,!0),l+=2}function d(e){i.setUint32(l,e,!0),l+=4}},wave2mp3(e){const t=128,s=1152,a=ge.Q.readHeader(new DataView(e)),n=new Int16Array(e,a.dataOffset,a.dataLen/2),r=new ge.d(a.channels,a.sampleRate,t);for(var i=[],o=0;o<n.length;o+=s){var c=n.subarray(o,o+s),l=r.encodeBuffer(c);l.length>0&&i.push(l)}return l=r.flush(),l.length>0&&i.push(new Int8Array(l)),i}}},Be=s(3744);const ke=(0,Be.Z)(_e,[["render",he]]);var Oe=ke;(0,a.ri)(Oe).mount("#app")},3938:function(e,t,s){var a={"./1.wav":4254,"./2.wav":3537,"./3.wav":9336,"./4.wav":2234,"./5.wav":5312,"./6.wav":3346,"./7.wav":8602,"./AcaPella.wav":8610,"./Band.wav":7094,"./Break.wav":3921,"./Bridge.wav":4244,"./Chorus.wav":3415,"./Count.wav":8841,"./End.wav":8764,"./Instrumental.wav":7616,"./Intro.wav":9327,"./KeyChange.wav":9839,"./Outro.wav":1325,"./PreChorus.wav":3069,"./Ready.wav":3500,"./Riff.wav":4525,"./Solo.wav":5611,"./Tag.wav":6155,"./Turn.wav":3727,"./Verse.wav":5173};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=3938},4254:function(e,t,s){"use strict";e.exports=s.p+"media/1.e4444bad.wav"},3537:function(e,t,s){"use strict";e.exports=s.p+"media/2.97498402.wav"},9336:function(e,t,s){"use strict";e.exports=s.p+"media/3.19a2f263.wav"},2234:function(e,t,s){"use strict";e.exports=s.p+"media/4.6a8cf081.wav"},5312:function(e,t,s){"use strict";e.exports=s.p+"media/5.8d45786b.wav"},3346:function(e,t,s){"use strict";e.exports=s.p+"media/6.77e946a8.wav"},8602:function(e,t,s){"use strict";e.exports=s.p+"media/7.88952e25.wav"},8610:function(e,t,s){"use strict";e.exports=s.p+"media/AcaPella.4ecbaab3.wav"},7094:function(e,t,s){"use strict";e.exports=s.p+"media/Band.30171753.wav"},3921:function(e,t,s){"use strict";e.exports=s.p+"media/Break.b424870b.wav"},4244:function(e,t,s){"use strict";e.exports=s.p+"media/Bridge.33db1a07.wav"},3415:function(e,t,s){"use strict";e.exports=s.p+"media/Chorus.be568e17.wav"},8841:function(e,t,s){"use strict";e.exports=s.p+"media/Count.e01df81b.wav"},8764:function(e,t,s){"use strict";e.exports=s.p+"media/End.908e8b17.wav"},7616:function(e,t,s){"use strict";e.exports=s.p+"media/Instrumental.598bef82.wav"},9327:function(e,t,s){"use strict";e.exports=s.p+"media/Intro.bf5136b2.wav"},9839:function(e,t,s){"use strict";e.exports=s.p+"media/KeyChange.23e0ac59.wav"},1325:function(e,t,s){"use strict";e.exports=s.p+"media/Outro.cdb4a14f.wav"},3069:function(e,t,s){"use strict";e.exports=s.p+"media/PreChorus.f106bdf4.wav"},3500:function(e,t,s){"use strict";e.exports=s.p+"media/Ready.63a5060b.wav"},4525:function(e,t,s){"use strict";e.exports=s.p+"media/Riff.6e6b8fab.wav"},5611:function(e,t,s){"use strict";e.exports=s.p+"media/Solo.fe9eb034.wav"},6155:function(e,t,s){"use strict";e.exports=s.p+"media/Tag.6c3b18a4.wav"},3727:function(e,t,s){"use strict";e.exports=s.p+"media/Turn.e2130b65.wav"},5173:function(e,t,s){"use strict";e.exports=s.p+"media/Verse.3a0ff240.wav"}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,r){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],r=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,n,r]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/band-cues/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],o=a[1],c=a[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var u=c(s)}for(t&&t(a);l<i.length;l++)r=i[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},a=self["webpackChunkband_cues"]=self["webpackChunkband_cues"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(369)}));a=s.O(a)})();
//# sourceMappingURL=app.83c33b3c.js.map